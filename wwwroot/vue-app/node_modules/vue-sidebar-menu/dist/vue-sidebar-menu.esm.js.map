{"version":3,"file":"vue-sidebar-menu.esm.js","sources":["../src/components/SidebarMenuLink.vue","../src/components/SidebarMenuIcon.vue","../src/components/SidebarMenuBadge.vue","../src/use/useSidebar.ts","../src/use/useRouterLink.ts","../src/components/SidebarMenuItemLink.vue","../src/components/SidebarMenuItem.vue","../src/components/SidebarMenuScroll.vue","../src/components/SidebarMenu.vue","../src/index.ts"],"sourcesContent":["<template>\r\n  <a v-if=\"isHyperLink\" v-bind=\"$attrs\">\r\n    <slot />\r\n  </a>\r\n  <router-link v-else v-slot=\"{ href, navigate }\" custom :to=\"$attrs.href\">\r\n    <a v-bind=\"$attrs\" :href=\"href\" @click=\"navigate\">\r\n      <slot />\r\n    </a>\r\n  </router-link>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\ninterface Props {\r\n  item: SidebarItem\r\n}\r\n\r\nexport default {\r\n  compatConfig: {\r\n    MODE: 3,\r\n    inheritAttrs: false,\r\n  },\r\n}\r\n</script>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, getCurrentInstance } from 'vue'\r\nimport type { SidebarItem } from '../types'\r\n\r\nconst props = defineProps<Props>()\r\n\r\nconst router = getCurrentInstance()?.appContext.config.globalProperties.$router\r\n\r\nconst isHyperLink = computed(() => {\r\n  return !!(!props.item.href || props.item.external || !router)\r\n})\r\n</script>\r\n","<template>\r\n  <component\r\n    :is=\"icon.element ? icon.element : 'i'\"\r\n    v-if=\"typeof icon === 'object' && icon.text\"\r\n    v-bind=\"attributes\"\r\n  >\r\n    {{ icon.text }}\r\n  </component>\r\n  <component\r\n    :is=\"icon.element ? icon.element : 'i'\"\r\n    v-else-if=\"typeof icon === 'object'\"\r\n    v-bind=\"attributes\"\r\n  />\r\n  <i v-else v-bind=\"attributes\" />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\ninterface Props {\r\n  icon: string | ItemIcon\r\n}\r\n\r\nexport default {\r\n  compatConfig: { MODE: 3 },\r\n}\r\n</script>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport type { ItemIcon } from '../types'\r\n\r\nconst props = defineProps<Props>()\r\n\r\nconst attributes = computed(() => {\r\n  return {\r\n    class: [\r\n      'vsm--icon',\r\n      typeof props.icon === 'object' ? props.icon.class : props.icon,\r\n    ],\r\n    'aria-hidden': true,\r\n    ...(typeof props.icon === 'object' ? props.icon.attributes : {}),\r\n  }\r\n})\r\n</script>\r\n","<template>\r\n  <component\r\n    :is=\"badge.element ? badge.element : 'span'\"\r\n    v-if=\"badge.text\"\r\n    v-bind=\"attributes\"\r\n  >\r\n    {{ badge.text }}\r\n  </component>\r\n  <component\r\n    :is=\"badge.element ? badge.element : 'span'\"\r\n    v-else\r\n    v-bind=\"attributes\"\r\n  />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\ninterface Props {\r\n  badge: ItemBadge\r\n}\r\n\r\nexport default {\r\n  compatConfig: { MODE: 3 },\r\n}\r\n</script>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport type { ItemBadge } from '../types'\r\n\r\nconst props = defineProps<Props>()\r\n\r\nconst attributes = computed(() => {\r\n  return {\r\n    class: ['vsm--badge', props.badge.class],\r\n    ...props.badge.attributes,\r\n  }\r\n})\r\n</script>\r\n","import type { ComputedRef, InjectionKey, Ref } from 'vue'\r\nimport { inject, provide } from 'vue'\r\nimport type { MobileItemRect, SidebarItem, SidebarMenuProps } from '../types'\r\n\r\ntype CreateSidebarInjectionStateReturn<\r\n  Arguments extends Array<any>,\r\n  Return\r\n> = Readonly<\r\n  [\r\n    useProvidingState: (...args: Arguments) => Return,\r\n    useInjectedState: () => Return | undefined\r\n  ]\r\n>\r\nfunction createSidebarInjectionState<Arguments extends Array<any>, Return>(\r\n  composable: (...args: Arguments) => Return\r\n): CreateSidebarInjectionStateReturn<Arguments, Return> {\r\n  const key: string | InjectionKey<Return> = Symbol(\r\n    composable.name || 'SidebarInjectionState'\r\n  )\r\n  const useProvidingState = (...args: Arguments) => {\r\n    const state = composable(...args)\r\n    provide(key, state)\r\n    return state\r\n  }\r\n  const useInjectedState = () => inject(key)\r\n  return [useProvidingState, useInjectedState]\r\n}\r\n\r\nconst [useProvideSidebar, useInjectSidebar] = createSidebarInjectionState(\r\n  (\r\n    props: SidebarMenuProps,\r\n    sidebarRef: Ref<HTMLElement | null>,\r\n    isCollapsed: Ref<boolean>,\r\n    getMobileItem: ComputedRef<SidebarItem | null>,\r\n    getMobileItemRect: ComputedRef<MobileItemRect>,\r\n    currentRoute: Ref<string>,\r\n    updateIsCollapsed: (val: boolean) => void,\r\n    setMobileItem: ({\r\n      item,\r\n      itemEl,\r\n    }: {\r\n      item: SidebarItem\r\n      itemEl: HTMLElement\r\n    }) => void,\r\n    unsetMobileItem: (immediate?: boolean, delay?: number) => void,\r\n    clearMobileItemTimeout: () => void,\r\n    onRouteChange: () => void,\r\n    emitItemClick: (event: Event, item: SidebarItem) => void\r\n  ) => {\r\n    return {\r\n      getSidebarProps: props,\r\n      getSidebarRef: sidebarRef,\r\n      getIsCollapsed: isCollapsed,\r\n      getMobileItem,\r\n      getMobileItemRect,\r\n      getCurrentRoute: currentRoute,\r\n      updateIsCollapsed,\r\n      setMobileItem,\r\n      unsetMobileItem,\r\n      clearMobileItemTimeout,\r\n      onRouteChange,\r\n      emitItemClick,\r\n    }\r\n  }\r\n)\r\n\r\nexport { useProvideSidebar, useInjectSidebar as useSidebar }\r\n","// Adapted from vue-router\r\n// See: https://github.com/vuejs/router/blob/main/packages/router/src/RouterLink.ts\r\n\r\nexport function activeRecordIndex(route: any, currentRoute: any): number {\r\n  const { matched } = route\r\n  const { length } = matched\r\n  const routeMatched = matched[length - 1]\r\n\r\n  const currentMatched = currentRoute.matched\r\n  if (!routeMatched || !currentMatched.length) return -1\r\n  const index = currentMatched.findIndex(\r\n    isSameRouteRecord.bind(null, routeMatched)\r\n  )\r\n  if (index > -1) return index\r\n\r\n  const parentRecordPath = getOriginalPath(matched[length - 2])\r\n  return length > 1 &&\r\n    getOriginalPath(routeMatched) === parentRecordPath &&\r\n    currentMatched[currentMatched.length - 1].path !== parentRecordPath\r\n    ? currentMatched.findIndex(\r\n        isSameRouteRecord.bind(null, matched[length - 2])\r\n      )\r\n    : index\r\n}\r\n\r\nexport function isSameRouteLocationParams(a: any, b: any): boolean {\r\n  if (Object.keys(a).length !== Object.keys(b).length) return false\r\n  for (const key in a) {\r\n    if (!isSameRouteLocationParamsValue(a[key], b[key])) return false\r\n  }\r\n  return true\r\n}\r\n\r\nexport function includesParams(\r\n  outer: Record<string, string | string[]>,\r\n  inner: Record<string, string | string[]>\r\n): boolean {\r\n  for (const key in inner) {\r\n    const innerValue = inner[key]\r\n    const outerValue = outer[key]\r\n    if (typeof innerValue === 'string') {\r\n      if (innerValue !== outerValue) return false\r\n    } else {\r\n      if (\r\n        !Array.isArray(outerValue) ||\r\n        outerValue.length !== innerValue.length ||\r\n        innerValue.some((value, i) => value !== outerValue[i])\r\n      ) {\r\n        return false\r\n      }\r\n    }\r\n  }\r\n  return true\r\n}\r\n\r\nfunction getOriginalPath(record: any): string {\r\n  return record ? (record.aliasOf ? record.aliasOf.path : record.path) : ''\r\n}\r\n\r\nfunction isSameRouteRecord(a: any, b: any): boolean {\r\n  return (a.aliasOf || a) === (b.aliasOf || b)\r\n}\r\n\r\nfunction isSameRouteLocationParamsValue(a: any, b: any): boolean {\r\n  return Array.isArray(a)\r\n    ? isEquivalentArray(a, b)\r\n    : Array.isArray(b)\r\n    ? isEquivalentArray(b, a)\r\n    : a === b\r\n}\r\n\r\nfunction isEquivalentArray(a: any[], b: any[]): boolean {\r\n  return Array.isArray(b)\r\n    ? a.length === b.length && a.every((value, i) => value === b[i])\r\n    : a.length === 1 && a[0] === b\r\n}\r\n","<template>\r\n  <li\r\n    :class=\"itemClass\"\r\n    @mouseover=\"onMouseOver\"\r\n    @mouseout=\"onMouseOut\"\r\n    v-on=\"\r\n      isCollapsed && isFirstLevel\r\n        ? { mouseenter: onMouseEnter, mouseleave: onMouseLeave }\r\n        : {}\r\n    \"\r\n  >\r\n    <component\r\n      :is=\"linkComponentName ? linkComponentName : SidebarMenuLink\"\r\n      :item=\"item\"\r\n      :class=\"linkClass\"\r\n      v-bind=\"linkAttrs\"\r\n      @click=\"onLinkClick\"\r\n    >\r\n      <template v-if=\"isCollapsed && isFirstLevel\">\r\n        <transition name=\"slide-animation\">\r\n          <div\r\n            v-if=\"hover\"\r\n            class=\"vsm--mobile-bg\"\r\n            :style=\"mobileItemBackgroundStyle\"\r\n          />\r\n        </transition>\r\n      </template>\r\n\r\n      <sidebar-menu-icon v-if=\"item.icon\" :icon=\"item.icon\" />\r\n\r\n      <div\r\n        :class=\"[\r\n          'vsm--title',\r\n          isCollapsed && isFirstLevel && !isMobileItem && 'vsm--title_hidden',\r\n        ]\"\r\n        :style=\"isMobileItem && mobileItemStyle\"\r\n      >\r\n        <span>{{ item.title }}</span>\r\n        <sidebar-menu-badge v-if=\"item.badge\" :badge=\"item.badge\" />\r\n\r\n        <div\r\n          v-if=\"hasChild\"\r\n          :class=\"['vsm--arrow', { 'vsm--arrow_open': show }]\"\r\n          @click.stop=\"onDropdownIconClick\"\r\n        >\r\n          <slot\r\n            name=\"dropdown-icon\"\r\n            v-bind=\"{ isOpen: show, toggle: onDropdownIconClick }\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </component>\r\n\r\n    <template v-if=\"hasChild\">\r\n      <transition\r\n        :appear=\"isMobileItem\"\r\n        name=\"expand\"\r\n        @enter=\"onExpandEnter\"\r\n        @after-enter=\"onExpandAfterEnter\"\r\n        @before-leave=\"onExpandBeforeLeave\"\r\n        @after-leave=\"onExpandAfterLeave\"\r\n      >\r\n        <div\r\n          v-if=\"show\"\r\n          :class=\"['vsm--child', isMobileItem && 'vsm--child_mobile']\"\r\n          :style=\"isMobileItem && mobileItemDropdownStyle\"\r\n          v-bind=\"childAttrs\"\r\n        >\r\n          <ul class=\"vsm--dropdown\">\r\n            <sidebar-menu-item\r\n              v-for=\"subItem in item.child\"\r\n              :key=\"subItem.id\"\r\n              :item=\"subItem\"\r\n              :level=\"level + 1\"\r\n              :active-show=\"subActiveShow\"\r\n              @update-active-show=\"updateSubActiveShow\"\r\n            >\r\n              <!-- @vue-ignore -->\r\n              <template\r\n                #dropdown-icon=\"{\r\n                  isOpen,\r\n                  toggle,\r\n                }: {\r\n                  isOpen: boolean,\r\n                  toggle: (event: Event) => void,\r\n                }\"\r\n              >\r\n                <slot name=\"dropdown-icon\" v-bind=\"{ isOpen, toggle }\" />\r\n              </template>\r\n            </sidebar-menu-item>\r\n          </ul>\r\n        </div>\r\n      </transition>\r\n    </template>\r\n  </li>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\ninterface Props {\r\n  item: SidebarItem\r\n  level: number\r\n  activeShow?: string\r\n}\r\n\r\nexport default {\r\n  compatConfig: { MODE: 3 },\r\n}\r\n</script>\r\n\r\n<script setup lang=\"ts\">\r\nimport {\r\n  ref,\r\n  toRefs,\r\n  computed,\r\n  watch,\r\n  getCurrentInstance,\r\n  nextTick,\r\n  inject,\r\n} from 'vue'\r\nimport SidebarMenuItem from './SidebarMenuItem.vue'\r\nimport SidebarMenuLink from './SidebarMenuLink.vue'\r\nimport SidebarMenuIcon from './SidebarMenuIcon.vue'\r\nimport SidebarMenuBadge from './SidebarMenuBadge.vue'\r\nimport { useSidebar } from '../use/useSidebar'\r\nimport {\r\n  activeRecordIndex,\r\n  isSameRouteLocationParams,\r\n  includesParams,\r\n} from '../use/useRouterLink'\r\nimport type { StyleValue } from 'vue'\r\nimport type { SidebarItem, SidebarItemType } from '../types'\r\n\r\nconst props = defineProps<Props>()\r\nconst emit = defineEmits<{\r\n  (e: 'update-active-show', value: string | undefined): void\r\n}>()\r\n\r\nconst {\r\n  getSidebarRef,\r\n  getSidebarProps: sidebarProps,\r\n  getIsCollapsed: isCollapsed,\r\n  getMobileItem: mobileItem,\r\n  getMobileItemRect: mobileItemRect,\r\n  getCurrentRoute: currentRoute,\r\n  setMobileItem,\r\n  unsetMobileItem,\r\n  clearMobileItemTimeout,\r\n  emitItemClick,\r\n} = useSidebar()!\r\n\r\nconst { linkComponentName } = toRefs(sidebarProps)\r\nconst { item, activeShow, level } = toRefs(props)\r\n\r\nconst subActiveShow = ref<string | undefined>(undefined)\r\n\r\nconst isFirstLevel = computed(() => level.value === 1)\r\n\r\nconst updateSubActiveShow = (id: string | undefined) => {\r\n  subActiveShow.value = id\r\n}\r\n\r\nconst router = getCurrentInstance()?.appContext.config.globalProperties.$router\r\n\r\nconst handleScrollUpdate = inject('SidebarMenuScroll') as () => void\r\n\r\nconst itemShow = ref(false)\r\nconst itemHover = ref(false)\r\n\r\nconst isLinkActive = (itemVal: SidebarItem, exact?: boolean) => {\r\n  if (itemVal.isActive && typeof itemVal.isActive === 'function') {\r\n    const isActive = itemVal.isActive(itemVal)\r\n    if (typeof isActive === 'boolean') return isActive\r\n  }\r\n  if (!itemVal.href || itemVal.external) return false\r\n  if (router) {\r\n    const route = router.resolve(itemVal.href)\r\n    const routerCurrentRoute = router.currentRoute.value\r\n    const activeIndex = activeRecordIndex(route, routerCurrentRoute)\r\n    if (exact || itemVal.exact) {\r\n      return (\r\n        activeIndex > -1 &&\r\n        activeIndex === routerCurrentRoute.matched.length - 1 &&\r\n        isSameRouteLocationParams(routerCurrentRoute.params, route.params)\r\n      )\r\n    }\r\n    return (\r\n      activeIndex > -1 &&\r\n      includesParams(routerCurrentRoute.params, route.params)\r\n    )\r\n  } else {\r\n    return itemVal.href === currentRoute.value\r\n  }\r\n}\r\n\r\nconst isChildActive = (child?: SidebarItemType[]): boolean => {\r\n  if (!child) return false\r\n  return child.some((childItem) => {\r\n    return (\r\n      isLinkItem(childItem) &&\r\n      (isLinkActive(childItem) || isChildActive(childItem.child))\r\n    )\r\n  })\r\n}\r\n\r\nconst active = computed(\r\n  () => isLinkActive(item.value) || isChildActive(item.value.child)\r\n)\r\nconst exactActive = computed(() => isLinkActive(item.value, true))\r\n\r\nconst onLinkClick = (event: Event) => {\r\n  if (!item.value.href || item.value.disabled) {\r\n    event.preventDefault()\r\n    if (item.value.disabled) return\r\n  }\r\n\r\n  emitMobileItem(event, (event.currentTarget as HTMLElement).parentElement!)\r\n\r\n  if (hasChild.value) {\r\n    if (!item.value.href || active.value) {\r\n      show.value = !show.value\r\n    }\r\n  }\r\n\r\n  emitItemClick(event, item.value)\r\n}\r\n\r\nconst onDropdownIconClick = (event: Event) => {\r\n  event.stopPropagation()\r\n  event.preventDefault()\r\n  if (item.value.disabled) return\r\n\r\n  if (hasChild.value) {\r\n    show.value = !show.value\r\n  }\r\n\r\n  emitItemClick(event, item.value)\r\n}\r\n\r\nconst onMouseOver = (event: MouseEvent) => {\r\n  if (item.value.disabled) return\r\n  event.stopPropagation()\r\n  itemHover.value = true\r\n}\r\n\r\nconst onMouseOut = (event: MouseEvent) => {\r\n  event.stopPropagation()\r\n  itemHover.value = false\r\n}\r\n\r\nconst onMouseEnter = (event: MouseEvent) => {\r\n  if (item.value.disabled) return\r\n  if (sidebarProps.disableHover) {\r\n    if (isMobileItem.value && hasChild.value) {\r\n      clearMobileItemTimeout()\r\n    }\r\n  } else {\r\n    clearMobileItemTimeout()\r\n    emitMobileItem(event, event.currentTarget as HTMLElement)\r\n  }\r\n}\r\n\r\nconst onMouseLeave = () => {\r\n  if (sidebarProps.disableHover && !hasChild.value) return\r\n  if (isMobileItem.value) {\r\n    unsetMobileItem(false, !sidebarProps.disableHover ? 300 : undefined)\r\n  }\r\n}\r\n\r\nconst emitMobileItem = (event: Event, itemEl: HTMLElement) => {\r\n  if (isMobileItem.value) return\r\n  if (!isCollapsed.value) return\r\n  setTimeout(() => {\r\n    if (isFirstLevel.value && !isMobileItem.value) {\r\n      setMobileItem({ item: item.value, itemEl })\r\n    }\r\n    if (event.type === 'click' && !hasChild.value) {\r\n      unsetMobileItem(false, !isFirstLevel.value ? 300 : undefined)\r\n    }\r\n  }, 0)\r\n}\r\n\r\nconst onExpandEnter = (el: Element) => {\r\n  ;(el as HTMLElement).style.height = el.scrollHeight + 'px'\r\n}\r\n\r\nconst onExpandAfterEnter = (el: Element) => {\r\n  ;(el as HTMLElement).style.height = 'auto'\r\n  if (!isCollapsed.value) {\r\n    if (sidebarProps.smoothScroll) {\r\n      const sidebarWrapper = getSidebarRef.value?.children[0]\r\n      const itemEl = el.parentElement\r\n      if (sidebarWrapper && itemEl) {\r\n        const itemBottom = itemEl.getBoundingClientRect().bottom\r\n        const wrapperBottom = sidebarWrapper.getBoundingClientRect().bottom\r\n        if (itemBottom > wrapperBottom) {\r\n          nextTick(() =>\r\n            itemEl.scrollIntoView({\r\n              behavior: 'smooth',\r\n              block: 'nearest',\r\n            })\r\n          )\r\n        }\r\n      }\r\n    }\r\n\r\n    handleScrollUpdate()\r\n  }\r\n}\r\n\r\nconst onExpandBeforeLeave = (el: Element) => {\r\n  if (isCollapsed.value && isFirstLevel.value) {\r\n    ;(el as HTMLElement).style.display = 'none'\r\n    return\r\n  }\r\n  ;(el as HTMLElement).style.height = el.scrollHeight + 'px'\r\n}\r\n\r\nconst onExpandAfterLeave = () => {\r\n  if (!isCollapsed.value) handleScrollUpdate()\r\n}\r\n\r\nfunction isLinkItem(itemVal: SidebarItemType): itemVal is SidebarItem {\r\n  return !('header' in itemVal) && !('component' in itemVal)\r\n}\r\n\r\nconst show = computed({\r\n  get: () => {\r\n    if (!hasChild.value) return false\r\n    if (isCollapsed.value && isFirstLevel.value) return hover.value\r\n    if (sidebarProps.showChild) return true\r\n    if (\r\n      (sidebarProps.showOneChild && isFirstLevel.value) ||\r\n      sidebarProps.showOneChild === 'deep'\r\n    ) {\r\n      return item.value.id === activeShow.value\r\n    }\r\n    return itemShow.value\r\n  },\r\n  set: (val: boolean) => {\r\n    if (\r\n      (sidebarProps.showOneChild && isFirstLevel.value) ||\r\n      sidebarProps.showOneChild === 'deep'\r\n    ) {\r\n      emit('update-active-show', val ? item.value.id : undefined)\r\n    }\r\n    itemShow.value = val\r\n  },\r\n})\r\n\r\nconst hover = computed(() =>\r\n  isCollapsed.value && isFirstLevel.value ? isMobileItem.value : itemHover.value\r\n)\r\n\r\nconst hasChild = computed(() => {\r\n  return 'child' in item.value && !!item.value.child?.length\r\n})\r\n\r\nconst linkClass = computed(() => [\r\n  'vsm--link',\r\n  `vsm--link_level-${level.value}`,\r\n  {\r\n    'vsm--link_mobile': isMobileItem.value,\r\n    'vsm--link_hover': hover.value,\r\n    'vsm--link_active': active.value,\r\n    'vsm--link_disabled': item.value.disabled,\r\n    'vsm--link_open': show.value,\r\n  },\r\n  item.value.class,\r\n])\r\n\r\nconst linkAttrs = computed(() => {\r\n  const href = item.value.href ? item.value.href : '#'\r\n  const target = item.value.external ? '_blank' : '_self'\r\n  const tabindex = item.value.disabled ? -1 : null\r\n  const ariaCurrent = exactActive.value ? 'page' : null\r\n  const ariaExpanded = hasChild.value ? show.value : null\r\n  const ariaControls = ariaExpanded ? `vsm-${props.item.id}` : null\r\n\r\n  return {\r\n    href,\r\n    target,\r\n    tabindex,\r\n    'aria-current': ariaCurrent,\r\n    'aria-expanded': ariaExpanded,\r\n    'aria-controls': ariaControls,\r\n    ...item.value.attributes,\r\n  }\r\n})\r\n\r\nconst childAttrs = computed(() => ({ id: `vsm-${item.value.id}` }))\r\n\r\nconst itemClass = computed(() => [\r\n  'vsm--item',\r\n  { 'vsm--item_mobile': isMobileItem.value },\r\n])\r\n\r\nconst isMobileItem = computed(() => props.item.id === mobileItem.value?.id)\r\n\r\nconst sidePos = (value: string) =>\r\n  !sidebarProps.rtl ? { left: value } : { right: value }\r\n\r\nconst mobileItemDropdownStyle = computed<StyleValue>(() => {\r\n  return {\r\n    position: 'absolute',\r\n    'max-height': `${mobileItemRect.value.maxHeight}px`,\r\n    width: `${mobileItemRect.value.maxWidth}px`,\r\n    'overflow-y': 'auto',\r\n    'z-index': '20',\r\n    ...(!mobileItemRect.value.dropup\r\n      ? { top: `${mobileItemRect.value.top + mobileItemRect.value.height}px` }\r\n      : { bottom: `${mobileItemRect.value.dropup}px` }),\r\n    ...sidePos(sidebarProps.widthCollapsed!),\r\n  }\r\n})\r\n\r\nconst mobileItemStyle = computed<StyleValue>(() => ({\r\n  position: 'absolute',\r\n  top: `${mobileItemRect.value.top}px`,\r\n  ...sidePos(sidebarProps.widthCollapsed!),\r\n  width: `${mobileItemRect.value.maxWidth}px`,\r\n  height: `${mobileItemRect.value.height}px`,\r\n  'padding-left': `${mobileItemRect.value.padding[0]}px`,\r\n  'padding-right': `${mobileItemRect.value.padding[1]}px`,\r\n  'z-index': '20',\r\n}))\r\n\r\nconst mobileItemBackgroundStyle = computed<StyleValue>(() => ({\r\n  position: 'absolute',\r\n  top: `${mobileItemRect.value.top}px`,\r\n  ...(!sidebarProps.rtl ? { left: '0px' } : { right: '0px' }),\r\n  width: `${\r\n    mobileItemRect.value.maxWidth + parseInt(sidebarProps.widthCollapsed!)\r\n  }px`,\r\n  height: `${mobileItemRect.value.height}px`,\r\n  'z-index': '10',\r\n}))\r\n\r\nwatch(\r\n  () => active.value,\r\n  (isActive) => {\r\n    if (isActive) {\r\n      show.value = true\r\n    }\r\n  },\r\n  { immediate: true }\r\n)\r\n</script>\r\n","<template>\r\n  <template v-if=\"!isHidden\">\r\n    <li v-if=\"'component' in item\">\r\n      <component :is=\"item.component\" v-bind=\"item.props\" />\r\n    </li>\r\n    <li\r\n      v-else-if=\"'header' in item\"\r\n      :class=\"['vsm--header', item.class]\"\r\n      v-bind=\"item.attributes\"\r\n    >\r\n      {{ item.header }}\r\n    </li>\r\n    <sidebar-menu-item-link\r\n      v-else\r\n      :item=\"item\"\r\n      :level=\"level\"\r\n      :active-show=\"activeShow\"\r\n      @update-active-show=\"$emit('update-active-show', $event)\"\r\n    >\r\n      <!-- @vue-ignore -->\r\n      <template\r\n        #dropdown-icon=\"{\r\n          isOpen,\r\n          toggle,\r\n        }: {\r\n          isOpen: boolean,\r\n          toggle: (event: Event) => void,\r\n        }\"\r\n      >\r\n        <slot name=\"dropdown-icon\" v-bind=\"{ isOpen, toggle }\" />\r\n      </template>\r\n    </sidebar-menu-item-link>\r\n  </template>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\ninterface Props {\r\n  item: SidebarItemType\r\n  level: number\r\n  activeShow?: string\r\n}\r\n\r\nexport default {\r\n  compatConfig: { MODE: 3 },\r\n}\r\n</script>\r\n\r\n<script setup lang=\"ts\">\r\nimport { toRefs, computed } from 'vue'\r\nimport SidebarMenuItemLink from './SidebarMenuItemLink.vue'\r\n\r\nimport { useSidebar } from '../use/useSidebar'\r\nimport type { SidebarItemType } from '../types'\r\n\r\nconst props = defineProps<Props>()\r\ndefineEmits<{\r\n  (e: 'update-active-show', value: string | undefined): void\r\n}>()\r\n\r\nconst { getIsCollapsed: isCollapsed } = useSidebar()!\r\nconst { item, activeShow, level } = toRefs(props)\r\n\r\nconst isHidden = computed(() => {\r\n  if (isCollapsed.value) {\r\n    if (props.item.hidden && props.item.hiddenOnCollapse === undefined) {\r\n      return true\r\n    } else {\r\n      return props.item.hiddenOnCollapse === true\r\n    }\r\n  } else {\r\n    return props.item.hidden === true\r\n  }\r\n})\r\n</script>\r\n","<template>\r\n  <div\r\n    class=\"vsm--scroll-wrapper\"\r\n    @mouseenter=\"onMouseEnter\"\r\n    @mouseleave=\"onMouseLeave\"\r\n  >\r\n    <div ref=\"scrollRef\" class=\"vsm--scroll\" @scroll=\"onScroll\">\r\n      <slot />\r\n    </div>\r\n    <transition>\r\n      <div\r\n        v-show=\"visible\"\r\n        ref=\"scrollBarRef\"\r\n        class=\"vsm--scroll-bar\"\r\n        @mousedown=\"onClick\"\r\n      >\r\n        <div\r\n          ref=\"scrollThumbRef\"\r\n          class=\"vsm--scroll-thumb\"\r\n          :class=\"[cursorDown && 'vsm--scroll-thumb_clicking']\"\r\n          @mousedown=\"onMouseDown\"\r\n        />\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nexport default {\r\n  compatConfig: { MODE: 3 },\r\n}\r\n</script>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted, watch, nextTick, provide, onUnmounted } from 'vue'\r\nimport { useSidebar } from '../use/useSidebar'\r\n\r\nconst { getIsCollapsed: isCollapsed } = useSidebar()!\r\n\r\nconst scrollRef = ref<HTMLElement | null>(null)\r\nconst scrollBarRef = ref<HTMLElement | null>(null)\r\nconst scrollThumbRef = ref<HTMLElement | null>(null)\r\n\r\nconst cursorDown = ref(false)\r\nlet cursorY = 0\r\nlet cursorIn = false\r\n\r\nconst visible = ref(false)\r\n\r\nconst onScrollUpdate = () => {\r\n  if (!scrollRef.value) return\r\n  nextTick(() => {\r\n    updateThumb()\r\n  })\r\n}\r\n\r\nconst onScroll = () => {\r\n  requestAnimationFrame(onScrollUpdate)\r\n}\r\n\r\nconst onClick = (e: MouseEvent) => {\r\n  if (!scrollRef.value || !scrollBarRef.value || !scrollThumbRef.value) return\r\n  const offset = Math.abs(\r\n    scrollBarRef.value.getBoundingClientRect().y - e.clientY\r\n  )\r\n  const thumbHalf = scrollThumbRef.value.offsetHeight / 2\r\n  updateScrollTop(offset - thumbHalf)\r\n}\r\n\r\nconst onMouseDown = (e: MouseEvent) => {\r\n  if (!scrollRef.value || !scrollBarRef.value || !scrollThumbRef.value) return\r\n  e.stopImmediatePropagation()\r\n  cursorDown.value = true\r\n  window.addEventListener('mousemove', onMouseMove)\r\n  window.addEventListener('mouseup', onMouseUp)\r\n  cursorY =\r\n    scrollThumbRef.value.offsetHeight -\r\n    (e.clientY - scrollThumbRef.value.getBoundingClientRect().y)\r\n}\r\n\r\nconst onMouseMove = (e: MouseEvent) => {\r\n  if (!scrollRef.value || !scrollBarRef.value || !scrollThumbRef.value) return\r\n  if (!cursorDown.value) return\r\n  const offset = e.clientY - scrollBarRef.value.getBoundingClientRect().y\r\n  const thumbClickPosition = scrollThumbRef.value.offsetHeight - cursorY\r\n  visible.value = true\r\n  updateScrollTop(offset - thumbClickPosition)\r\n}\r\n\r\nconst onMouseUp = (_e: MouseEvent) => {\r\n  cursorDown.value = false\r\n  cursorY = 0\r\n  if (!cursorIn) {\r\n    visible.value = false\r\n  }\r\n  window.removeEventListener('mousemove', onMouseMove)\r\n  window.removeEventListener('mouseup', onMouseUp)\r\n}\r\n\r\nconst onMouseEnter = (_e: MouseEvent) => {\r\n  visible.value = true\r\n  cursorIn = true\r\n}\r\n\r\nconst onMouseLeave = (_e: MouseEvent) => {\r\n  cursorIn = false\r\n  if (!cursorDown.value) {\r\n    visible.value = false\r\n  }\r\n}\r\n\r\nconst updateThumb = () => {\r\n  if (!scrollRef.value || !scrollBarRef.value || !scrollThumbRef.value) return\r\n  const heightPerc =\r\n    (scrollRef.value.clientHeight * 100) / scrollRef.value.scrollHeight\r\n  const thumbHeightPerc = heightPerc < 100 ? heightPerc : 0\r\n  const thumbYPerc =\r\n    (scrollRef.value.scrollTop * 100) / scrollRef.value.clientHeight || 0\r\n\r\n  scrollThumbRef.value.style.height = `${thumbHeightPerc}%`\r\n  scrollThumbRef.value.style.transform = `translateY(${thumbYPerc}%)`\r\n}\r\n\r\nconst updateScrollTop = (y: number) => {\r\n  if (!scrollRef.value || !scrollBarRef.value || !scrollThumbRef.value) return\r\n  const scrollPerc = (y * 100) / scrollBarRef.value.offsetHeight\r\n  scrollRef.value.scrollTop = (scrollPerc * scrollRef.value.scrollHeight) / 100\r\n}\r\n\r\nwatch(\r\n  () => isCollapsed.value,\r\n  () => {\r\n    onScrollUpdate()\r\n  }\r\n)\r\n\r\nonMounted(() => {\r\n  onScrollUpdate()\r\n  window.addEventListener('resize', onScrollUpdate)\r\n})\r\nonUnmounted(() => {\r\n  window.removeEventListener('resize', onScrollUpdate)\r\n})\r\n\r\nprovide('SidebarMenuScroll', onScrollUpdate)\r\n</script>\r\n\r\n<style scoped>\r\n.v-enter-active,\r\n.v-leave-active {\r\n  transition: 0.3s opacity ease;\r\n}\r\n\r\n.v-enter-from,\r\n.v-leave-to {\r\n  opacity: 0;\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    ref=\"sidebarRef\"\r\n    :class=\"sidebarClass\"\r\n    :style=\"{ 'max-width': sidebarWidth }\"\r\n  >\r\n    <div class=\"vsm--wrapper\">\r\n      <slot name=\"header\" />\r\n      <sidebar-menu-scroll>\r\n        <ul class=\"vsm--menu\" :style=\"{ width: sidebarWidth }\">\r\n          <sidebar-menu-item\r\n            v-for=\"item in computedMenu\"\r\n            :key=\"item.id\"\r\n            :item=\"item\"\r\n            :level=\"1\"\r\n            :active-show=\"activeShow\"\r\n            @update-active-show=\"updateActiveShow\"\r\n          >\r\n            <template\r\n              #dropdown-icon=\"{\r\n                isOpen,\r\n                toggle,\r\n              }: {\r\n                isOpen: boolean,\r\n                toggle: (event: Event) => void,\r\n              }\"\r\n            >\r\n              <slot name=\"dropdown-icon\" v-bind=\"{ isOpen, toggle }\">\r\n                <span class=\"vsm--arrow_default\" />\r\n              </slot>\r\n            </template>\r\n          </sidebar-menu-item>\r\n        </ul>\r\n      </sidebar-menu-scroll>\r\n      <slot name=\"footer\" />\r\n    </div>\r\n\r\n    <button\r\n      v-if=\"!hideToggle\"\r\n      class=\"vsm--toggle-btn\"\r\n      :aria-label=\"collapsed ? 'Expand sidebar' : 'Collapse sidebar'\"\r\n      @click=\"onToggleClick\"\r\n    >\r\n      <slot name=\"toggle-icon\">\r\n        <span class=\"vsm--toggle-btn_default\" />\r\n      </slot>\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nexport default {\r\n  compatConfig: { MODE: 3 },\r\n}\r\n</script>\r\n\r\n<script setup lang=\"ts\">\r\nimport {\r\n  ref,\r\n  reactive,\r\n  computed,\r\n  watch,\r\n  toRefs,\r\n  getCurrentInstance,\r\n  onMounted,\r\n  onUnmounted,\r\n  provide,\r\n} from 'vue'\r\nimport SidebarMenuItem from './SidebarMenuItem.vue'\r\nimport SidebarMenuScroll from './SidebarMenuScroll.vue'\r\nimport type {\r\n  SidebarMenuProps,\r\n  SidebarMenuEmits,\r\n  SidebarItem,\r\n  MobileItem,\r\n  MobileItemRect,\r\n  SidebarItemType,\r\n} from '../types'\r\nimport { useProvideSidebar } from '../use/useSidebar'\r\n\r\nconst props = withDefaults(defineProps<SidebarMenuProps>(), {\r\n  width: '290px',\r\n  widthCollapsed: '65px',\r\n})\r\nconst emit = defineEmits<SidebarMenuEmits>()\r\n\r\nconst { collapsed } = toRefs(props)\r\nconst sidebarRef = ref<HTMLElement | null>(null)\r\nconst isCollapsed = ref<boolean>(collapsed.value)\r\n\r\nconst mobileItem: MobileItem = reactive({\r\n  item: null,\r\n  rect: {\r\n    top: 0,\r\n    height: 0,\r\n    padding: [0, 0],\r\n    maxHeight: 0,\r\n    maxWidth: 0,\r\n    dropup: 0,\r\n  },\r\n  timeout: null as ReturnType<typeof setTimeout> | null,\r\n})\r\n\r\nconst currentRoute = ref<string>('')\r\nconst activeShow = ref<string | undefined>(undefined)\r\n\r\nconst getMobileItem = computed(() => mobileItem.item)\r\nconst getMobileItemRect = computed(() => mobileItem.rect)\r\n\r\nconst sidebarWidth = computed(() =>\r\n  isCollapsed.value ? props.widthCollapsed : props.width\r\n)\r\nconst sidebarClass = computed(() => [\r\n  'v-sidebar-menu',\r\n  !isCollapsed.value ? 'vsm_expanded' : 'vsm_collapsed',\r\n  props.theme && `vsm_${props.theme}`,\r\n  props.rtl && 'vsm_rtl',\r\n  props.relative && 'vsm_relative',\r\n])\r\n\r\nlet _idCounter = 0\r\nconst nextId = () => `${Date.now()}${_idCounter++}`\r\nfunction transformItems(items: SidebarItemType[]): SidebarItemType[] {\r\n  if (!items) return []\r\n  return items.map((it) => {\r\n    const base = { ...(it as any), id: (it as any).id ?? nextId() }\r\n    if (base.child) base.child = transformItems(base.child)\r\n    return base\r\n  })\r\n}\r\nconst computedMenu = computed(() => transformItems(props.menu))\r\n\r\nconst clearMobileItemTimeout = () => {\r\n  if (mobileItem.timeout) {\r\n    clearTimeout(mobileItem.timeout)\r\n    mobileItem.timeout = null\r\n  }\r\n}\r\n\r\nconst updateMobileItem = (item: SidebarItem | null) => {\r\n  mobileItem.item = item\r\n}\r\n\r\nconst updateMobileItemRect = (rect: MobileItemRect) => {\r\n  for (const key in rect) {\r\n    ;(mobileItem.rect as any)[key] = rect[key as keyof MobileItemRect]\r\n  }\r\n}\r\n\r\nconst unsetMobileItem = (immediate = true, delay = 800) => {\r\n  if (!getMobileItem.value) return\r\n  clearMobileItemTimeout()\r\n  if (immediate) {\r\n    updateMobileItem(null)\r\n    return\r\n  }\r\n  mobileItem.timeout = setTimeout(() => updateMobileItem(null), delay)\r\n}\r\n\r\nconst getMobileItemRectFromEl = (\r\n  el: HTMLElement\r\n): MobileItemRect | undefined => {\r\n  if (!sidebarRef.value) return\r\n  const {\r\n    top: elTop,\r\n    bottom: elBottom,\r\n    height: elHeight,\r\n  } = el.getBoundingClientRect()\r\n  const { left: sidebarLeft, right: sidebarRight } =\r\n    sidebarRef.value.getBoundingClientRect()\r\n  const wrapperEl = sidebarRef.value.firstElementChild as HTMLElement\r\n  const { bottom: wrapperBottom, height: wrapperHeight } =\r\n    wrapperEl.getBoundingClientRect()\r\n\r\n  const scrollWrapperEl = el.offsetParent as HTMLElement\r\n  const scrollWrapperOffsetTop = scrollWrapperEl.offsetTop\r\n  const { top: scrollWrapperTop, height: scrollWrapperHeight } =\r\n    scrollWrapperEl.getBoundingClientRect()\r\n\r\n  let parentHeight = window.innerHeight\r\n  let parentWidth = window.innerWidth\r\n  let parentTop = 0\r\n  let parentRight = parentWidth\r\n  let maxWidth = Math.max(\r\n    parseInt(props.width) - parseInt(props.widthCollapsed),\r\n    0\r\n  )\r\n  const parent = sidebarRef.value.parentElement\r\n\r\n  if (parent && props.relative) {\r\n    parentHeight = parent.clientHeight\r\n    parentWidth = parent.clientWidth\r\n    const pRect = parent.getBoundingClientRect()\r\n    parentTop = pRect.top\r\n    parentRight = pRect.right\r\n  }\r\n\r\n  const rectWidth = props.rtl\r\n    ? parentWidth - (parentRight - sidebarLeft)\r\n    : parentRight - sidebarRight\r\n  maxWidth = rectWidth <= maxWidth ? rectWidth : maxWidth\r\n\r\n  const cs = window.getComputedStyle(el)\r\n  const paddingLeft = parseInt(cs.paddingLeft || '0', 10)\r\n  const paddingRight = parseInt(cs.paddingRight || '0', 10)\r\n\r\n  const absoluteTop = elTop - scrollWrapperTop\r\n  const absoluteBottom =\r\n    wrapperBottom -\r\n    elTop -\r\n    (wrapperHeight - (scrollWrapperHeight + scrollWrapperOffsetTop))\r\n\r\n  let maxHeight = parentHeight - (elBottom - parentTop)\r\n  const parentVisibleHeight = Math.min(\r\n    window.innerHeight,\r\n    window.innerHeight - parentTop,\r\n    parentHeight,\r\n    parentHeight + parentTop\r\n  )\r\n  const maxVisible =\r\n    parentVisibleHeight - (Math.max(elBottom, 0) - Math.max(parentTop, 0))\r\n  const dropup = maxVisible < parentVisibleHeight * 0.25 ? absoluteBottom : 0\r\n  maxHeight = dropup ? elTop - parentTop : maxHeight\r\n\r\n  return {\r\n    top: absoluteTop,\r\n    height: elHeight,\r\n    padding: [paddingLeft, paddingRight],\r\n    maxWidth,\r\n    maxHeight,\r\n    dropup,\r\n  }\r\n}\r\n\r\nconst setMobileItem = ({\r\n  item,\r\n  itemEl,\r\n}: {\r\n  item: SidebarItem\r\n  itemEl: HTMLElement\r\n}) => {\r\n  clearMobileItemTimeout()\r\n  const linkEl = itemEl.children[0] as HTMLElement\r\n  const rect = getMobileItemRectFromEl(linkEl)\r\n  if (!rect) return\r\n  updateMobileItem(item)\r\n  updateMobileItemRect(rect)\r\n}\r\n\r\nconst updateCurrentRoute = () => {\r\n  currentRoute.value =\r\n    window.location.pathname + window.location.search + window.location.hash\r\n}\r\n\r\nconst onItemClick = (event: Event, item: SidebarItem) => {\r\n  emit('item-click', event, item)\r\n}\r\n\r\nconst updateActiveShow = (id: string | undefined) => {\r\n  activeShow.value = id\r\n}\r\n\r\nconst updateIsCollapsed = (val: boolean) => {\r\n  isCollapsed.value = val\r\n}\r\n\r\nconst onToggleClick = () => {\r\n  unsetMobileItem()\r\n  updateIsCollapsed(!isCollapsed.value)\r\n  emit('update:collapsed', isCollapsed.value)\r\n}\r\n\r\nconst router = getCurrentInstance()?.appContext.config.globalProperties.$router\r\nif (!router) {\r\n  onMounted(() => {\r\n    updateCurrentRoute()\r\n    window.addEventListener('hashchange', updateCurrentRoute)\r\n  })\r\n  onUnmounted(() => {\r\n    window.removeEventListener('hashchange', updateCurrentRoute)\r\n  })\r\n}\r\n\r\nwatch(\r\n  () => collapsed.value,\r\n  (newValue) => {\r\n    unsetMobileItem()\r\n    updateIsCollapsed(newValue)\r\n  }\r\n)\r\n\r\nuseProvideSidebar(\r\n  props,\r\n  sidebarRef,\r\n  isCollapsed,\r\n  getMobileItem,\r\n  getMobileItemRect,\r\n  currentRoute,\r\n  updateIsCollapsed,\r\n  setMobileItem,\r\n  unsetMobileItem,\r\n  clearMobileItemTimeout,\r\n  updateCurrentRoute,\r\n  onItemClick\r\n)\r\n// Todo depreciate\r\nprovide('onRouteChange', updateCurrentRoute)\r\n\r\ndefineExpose({\r\n  onRouteChange: updateCurrentRoute,\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@use '../scss/vue-sidebar-menu';\r\n</style>\r\n","import type { App, Plugin } from 'vue'\r\nimport SidebarMenu from './components/SidebarMenu.vue'\r\nexport type {\r\n  SidebarMenuProps,\r\n  SidebarMenuEmits,\r\n  SidebarItemType,\r\n  SidebarItem,\r\n  SidebarHeaderItem,\r\n  SidebarComponentItem,\r\n  ItemIcon,\r\n  ItemBadge,\r\n} from './types'\r\n\r\nconst plugin: Plugin = {\r\n  install(app: App) {\r\n    app.component('SidebarMenu', SidebarMenu)\r\n  },\r\n}\r\n\r\nexport default plugin\r\n\r\nexport { SidebarMenu }\r\n"],"names":["__default__","props","__props","router","getCurrentInstance","isHyperLink","computed","_openBlock","_createElementBlock","$attrs","_renderSlot","_ctx","_createBlock","_component_router_link","href","navigate","_createElementVNode","_mergeProps","attributes","_resolveDynamicComponent","_normalizeProps","_createTextVNode","_toDisplayString","createSidebarInjectionState","composable","key","args","state","provide","inject","useProvideSidebar","useInjectSidebar","sidebarRef","isCollapsed","getMobileItem","getMobileItemRect","currentRoute","updateIsCollapsed","setMobileItem","unsetMobileItem","clearMobileItemTimeout","onRouteChange","emitItemClick","activeRecordIndex","route","matched","length","routeMatched","currentMatched","index","isSameRouteRecord","parentRecordPath","getOriginalPath","isSameRouteLocationParams","a","b","isSameRouteLocationParamsValue","includesParams","outer","inner","innerValue","outerValue","value","i","record","isEquivalentArray","emit","__emit","getSidebarRef","sidebarProps","mobileItem","mobileItemRect","useSidebar","linkComponentName","toRefs","item","activeShow","level","subActiveShow","ref","isFirstLevel","updateSubActiveShow","id","handleScrollUpdate","itemShow","itemHover","isLinkActive","itemVal","exact","isActive","routerCurrentRoute","activeIndex","isChildActive","child","childItem","isLinkItem","active","exactActive","onLinkClick","event","emitMobileItem","hasChild","show","onDropdownIconClick","onMouseOver","onMouseOut","onMouseEnter","isMobileItem","onMouseLeave","itemEl","onExpandEnter","el","onExpandAfterEnter","sidebarWrapper","itemBottom","wrapperBottom","nextTick","onExpandBeforeLeave","onExpandAfterLeave","hover","val","linkClass","linkAttrs","target","tabindex","ariaCurrent","ariaExpanded","ariaControls","childAttrs","itemClass","sidePos","mobileItemDropdownStyle","mobileItemStyle","mobileItemBackgroundStyle","watch","_toHandlers","_unref","SidebarMenuLink","_Transition","SidebarMenuIcon","_normalizeClass","_normalizeStyle","SidebarMenuBadge","_guardReactiveProps","_hoisted_1","_Fragment","_renderList","subItem","SidebarMenuItem","isOpen","toggle","isHidden","SidebarMenuItemLink","_cache","$event","$emit","scrollRef","scrollBarRef","scrollThumbRef","cursorDown","cursorY","cursorIn","visible","onScrollUpdate","updateThumb","onScroll","onClick","e","offset","thumbHalf","updateScrollTop","onMouseDown","onMouseMove","onMouseUp","thumbClickPosition","_e","heightPerc","thumbHeightPerc","thumbYPerc","y","scrollPerc","onMounted","onUnmounted","_createVNode","collapsed","reactive","sidebarWidth","sidebarClass","_idCounter","nextId","transformItems","items","it","base","computedMenu","updateMobileItem","updateMobileItemRect","rect","immediate","delay","getMobileItemRectFromEl","elTop","elBottom","elHeight","sidebarLeft","sidebarRight","wrapperEl","wrapperHeight","scrollWrapperEl","scrollWrapperOffsetTop","scrollWrapperTop","scrollWrapperHeight","parentHeight","parentWidth","parentTop","parentRight","maxWidth","parent","pRect","rectWidth","cs","paddingLeft","paddingRight","absoluteTop","absoluteBottom","maxHeight","parentVisibleHeight","dropup","linkEl","updateCurrentRoute","onItemClick","updateActiveShow","onToggleClick","newValue","__expose","SidebarMenuScroll","plugin","app","SidebarMenu"],"mappings":"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"}