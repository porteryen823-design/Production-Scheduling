--- Start Scanning Secrets in: C:\VSCode_Proj\APS01 ---
[!] Found potential secret in C:\VSCode_Proj\APS01\wwwroot\vue-app\dist\assets\index-BzYLD6K3.js (Line 155):
    Type: token
    Content: `);return this._settledValue()},y=f.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},b=f.prototype.isRejected=function(){return(16777216&this._bitField)!=0},k=f.prototype.isPending=function(){return(50397184&this._bitField)==0},x=f.prototype.isResolved=function(){return(50331648&this._bitField)!=0};f.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},s.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},s.prototype._isCancelled=function(){return this._target().__isCancelled()},s.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},s.prototype.isPending=function(){return k.call(this._target())},s.prototype.isRejected=function(){return b.call(this._target())},s.prototype.isFulfilled=function(){return y.call(this._target())},s.prototype.isResolved=function(){return x.call(this._target())},s.prototype.value=function(){return _.call(this._target())},s.prototype.reason=function(){var w=this._target();return w._unsetRejectionIsUnhandled(),m.call(w)},s.prototype._value=function(){return this._settledValue()},s.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},s.PromiseInspection=f}},{}],33:[function(t,n,a){n.exports=function(s,f){var _=t("./util"),m=_.errorObj,y=_.isObject,b={}.hasOwnProperty;return function(k,x){if(y(k)){if(k instanceof s)return k;var w=function(T){try{return function(D){return D.then}(T)}catch(D){return m.e=D,m}}(k);if(w===m){x&&x._pushContext();var S=s.reject(w.e);return x&&x._popContext(),S}if(typeof w=="function")return function(T){try{return b.call(T,"_promise0")}catch{return!1}}(k)?(S=new s(f),k._then(S._fulfill,S._reject,void 0,S,null),S):function(T,D,$){var E=new s(f),I=E;$&&$._pushContext(),E._captureStackTrace(),$&&$._popContext();var M=!0,j=_.tryCatch(D).call(T,function(O){E&&(E._resolveCallback(O),E=null)},function(O){E&&(E._rejectCallback(O,M,!0),E=null)});return M=!1,E&&j===m&&(E._rejectCallback(j.e,!0,!0),E=null),I}(k,w,x)}return k}}},{"./util":36}],34:[function(t,n,a){n.exports=function(s,f,_){var m=t("./util"),y=s.TimeoutError;function b(T){this.handle=T}b.prototype._resultCancelled=function(){clearTimeout(this.handle)};var k=function(T){return x(+this).thenReturn(T)},x=s.delay=function(T,D){var $,E;return D!==void 0?($=s.resolve(D)._then(k,null,null,T,void 0),_.cancellation()&&D instanceof s&&$._setOnCancel(D)):($=new s(f),E=setTimeout(function(){$._fulfill()},+T),_.cancellation()&&$._setOnCancel(new b(E)),$._captureStackTrace()),$._setAsyncGuaranteed(),$};s.prototype.delay=function(T){return x(T,this)};function w(T){return clearTimeout(this.handle),T}function S(T){throw clearTimeout(this.handle),T}s.prototype.timeout=function(T,D){var $,E;T=+T;var I=new b(setTimeout(function(){$.isPending()&&function(M,j,O){var F;F=typeof j!="string"?j instanceof Error?j:new y("operation timed out"):new y(j),m.markAsOriginatingFromRejection(F),M._attachExtraTrace(F),M._reject(F),O!=null&&O.cancel()}($,D,E)},T));return _.cancellation()?(E=this.then(),($=E._then(w,S,void 0,I,void 0))._setOnCancel(I)):$=this._then(w,S,void 0,I,void 0),$}}},{"./util":36}],35:[function(t,n,a){n.exports=function(s,f,_,m,y,b){var k=t("./util"),x=t("./errors").TypeError,w=t("./util").inherits,S=k.errorObj,T=k.tryCatch,D={};function $(F){setTimeout(function(){throw F},0)}function E(F,W){var G=0,Z=F.length,K=new s(y);return function H(){if(G>=Z)return K._fulfill();var B=function(tt){var U=_(tt);return U!==tt&&typeof tt._isDisposable=="function"&&typeof tt._getDisposer=="function"&&tt._isDisposable()&&U._setDisposable(tt._getDisposer()),U}(F[G++]);if(B instanceof s&&B._isDisposable()){try{B=_(B._getDisposer().tryDispose(W),F.promise)}catch(tt){return $(tt)}if(B instanceof s)return B._then(H,$,null,null,null)}H()}(),K}function I(F,W,G){this._data=F,this._promise=W,this._context=G}function M(F,W,G){this.constructor$(F,W,G)}function j(F){return I.isDisposer(F)?(this.resources[this.index]._setDisposable(F),F.promise()):F}function O(F){this.length=F,this.promise=null,this[F-1]=null}I.prototype.data=function(){return this._data},I.prototype.promise=function(){return this._promise},I.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():D},I.prototype.tryDispose=function(F){var W=this.resource(),G=this._context;G!==void 0&&G._pushContext();var Z=W!==D?this.doDispose(W,F):null;return G!==void 0&&G._popContext(),this._promise._unsetDisposable(),this._data=null,Z},I.isDisposer=function(F){return F!=null&&typeof F.resource=="function"&&typeof F.tryDispose=="function"},w(M,I),M.prototype.doDispose=function(F,W){return this.data().call(F,F,W)},O.prototype._resultCancelled=function(){for(var F=this.length,W=0;W<F;++W){var G=this[W];G instanceof s&&G.cancel()}},s.using=function(){var F=arguments.length;if(F<2)return f("you must pass at least 2 arguments to Promise.using");var W,G=arguments[F-1];if(typeof G!="function")return f("expecting a function but got "+k.classString(G));var Z=!0;F===2&&Array.isArray(arguments[0])?(F=(W=arguments[0]).length,Z=!1):(W=arguments,F--);for(var K=new O(F),H=0;H<F;++H){var B=W[H];if(I.isDisposer(B)){var tt=B;(B=B.promise())._setDisposable(tt)}else{var U=_(B);U instanceof s&&(B=U._then(j,null,null,{resources:K,index:H},void 0))}K[H]=B}var Q=new Array(K.length);for(H=0;H<Q.length;++H)Q[H]=s.resolve(K[H]).reflect();var Y=s.all(Q).then(function(z){for(var C=0;C<z.length;++C){var P=z[C];if(P.isRejected())return S.e=P.error(),S;if(!P.isFulfilled())return void Y.cancel();z[C]=P.value()}X._pushContext(),G=T(G);var A=Z?G.apply(void 0,z):G(z),R=X._popContext();return b.checkForgottenReturns(A,R,"Promise.using",X),A}),X=Y.lastly(function(){var z=new s.PromiseInspection(Y);return E(K,z)});return K.promise=X,X._setOnCancel(K),X},s.prototype._setDisposable=function(F){this._bitField=131072|this._bitField,this._disposer=F},s.prototype._isDisposable=function(){return(131072&this._bitField)>0},s.prototype._getDisposer=function(){return this._disposer},s.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},s.prototype.disposer=function(F){if(typeof F=="function")return new M(F,this,m());throw new x}}},{"./errors":12,"./util":36}],36:[function(t,n,a){var s=t("./es5"),f=typeof navigator>"u",_={e:{}},m,y=typeof self<"u"?self:typeof window<"u"?window:c!==void 0?c:this!==void 0?this:null;function b(){try{var q=m;return m=null,q.apply(this,arguments)}catch(et){return _.e=et,_}}function k(q){return m=q,b}var x=function(q,et){var it={}.hasOwnProperty;function nt(){for(var rt in this.constructor=q,this.constructor$=et,et.prototype)it.call(et.prototype,rt)&&rt.charAt(rt.length-1)!=="$"&&(this[rt+"$"]=et.prototype[rt])}return nt.prototype=et.prototype,q.prototype=new nt,q.prototype};function w(q){return q==null||q===!0||q===!1||typeof q=="string"||typeof q=="number"}function S(q){return typeof q=="function"||e(q)==="object"&&q!==null}function T(q){return w(q)?new Error(K(q)):q}function D(q,et){var it,nt=q.length,rt=new Array(nt+1);for(it=0;it<nt;++it)rt[it]=q[it];return rt[it]=et,rt}function $(q,et,it){if(!s.isES5)return{}.hasOwnProperty.call(q,et)?q[et]:void 0;var nt=Object.getOwnPropertyDescriptor(q,et);return nt!=null?nt.get==null&&nt.set==null?nt.value:it:void 0}function E(q,et,it){if(w(q))return q;var nt={value:it,configurable:!0,enumerable:!1,writable:!0};return s.defineProperty(q,et,nt),q}function I(q){throw q}var M=function(){var q=[Array.prototype,Object.prototype,Function.prototype],et=function(rt){for(var dt=0;dt<q.length;++dt)if(q[dt]===rt)return!0;return!1};if(s.isES5){var it=Object.getOwnPropertyNames;return function(rt){for(var dt=[],lt=Object.create(null);rt!=null&&!et(rt);){var ft;try{ft=it(rt)}catch{return dt}for(var gt=0;gt<ft.length;++gt){var Tt=ft[gt];if(!lt[Tt]){lt[Tt]=!0;var Dt=Object.getOwnPropertyDescriptor(rt,Tt);Dt!=null&&Dt.get==null&&Dt.set==null&&dt.push(Tt)}}rt=s.getPrototypeOf(rt)}return dt}}var nt={}.hasOwnProperty;return function(rt){if(et(rt))return[];var dt=[];t:for(var lt in rt)if(nt.call(rt,lt))dt.push(lt);else{for(var ft=0;ft<q.length;++ft)if(nt.call(q[ft],lt))continue t;dt.push(lt)}return dt}}(),j=/this\s*\.\s*\S+\s*=/;function O(q){try{if(typeof q=="function"){var et=s.names(q.prototype),it=s.isES5&&et.length>1,nt=et.length>0&&!(et.length===1&&et[0]==="constructor"),rt=j.test(q+"")&&s.names(q).length>0;if(it||nt||rt)return!0}return!1}catch{return!1}}function F(q){function et(){}et.prototype=q;var it=new et;function nt(){return e(it.foo)}return nt(),nt(),q}var W=/^[a-z$_][a-z$_0-9]*$/i;function G(q){return W.test(q)}function Z(q,et,it){for(var nt=new Array(q),rt=0;rt<q;++rt)nt[rt]=et+rt+it;return nt}function K(q){try{return q+""}catch{return"[no string representation]"}}function H(q){return q instanceof Error||q!==null&&e(q)==="object"&&typeof q.message=="string"&&typeof q.name=="string"}function B(q){try{E(q,"isOperational",!0)}catch{}}function tt(q){return q!=null&&(q instanceof Error.__BluebirdErrorTypes__.OperationalError||q.isOperational===!0)}function U(q){return H(q)&&s.propertyIsWritable(q,"stack")}var Q="stack"in new Error?function(q){return U(q)?q:new Error(K(q))}:function(q){if(U(q))return q;try{throw new Error(K(q))}catch(et){return et}};function Y(q){return{}.toString.call(q)}function X(q,et,it){for(var nt=s.names(q),rt=0;rt<nt.length;++rt){var dt=nt[rt];if(it(dt))try{s.defineProperty(et,dt,s.getDescriptor(q,dt))}catch{}}}var z=function(q){return s.isArray(q)?q:null};if(typeof Symbol<"u"&&Symbol.iterator){var C=typeof Array.from=="function"?function(q){return Array.from(q)}:function(q){for(var et,it=[],nt=q[Symbol.iterator]();!(et=nt.next()).done;)it.push(et.value);return it};z=function(q){return s.isArray(q)?q:q!=null&&typeof q[Symbol.iterator]=="function"?C(q):null}}var P=h!==void 0&&Y(h).toLowerCase()==="[object process]",A=h!==void 0&&h.env!==void 0;function R(q){return A?h.env[q]:void 0}function N(){if(typeof Promise=="function")try{var q=new Promise(function(){});if({}.toString.call(q)==="[object Promise]")return Promise}catch{}}function V(q,et){return q.bind(et)}var J={isClass:O,isIdentifier:G,inheritedDataKeys:M,getDataPropertyOrDefault:$,thrower:I,isArray:s.isArray,asArray:z,notEnumerableProp:E,isPrimitive:w,isObject:S,isError:H,canEvaluate:f,errorObj:_,tryCatch:k,inherits:x,withAppended:D,maybeWrapAsError:T,toFastProperties:F,filledRange:Z,toString:K,canAttachTrace:U,ensureErrorObject:Q,originatesFromRejection:tt,markAsOriginatingFromRejection:B,classString:Y,copyDescriptors:X,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:P,hasEnvVariables:A,env:R,global:y,getNativePromise:N,domainBind:V};J.isRecentNode=J.isNode&&function(){var q;return h.versions&&h.versions.node?q=h.versions.node.split(".").map(Number):h.version&&(q=h.version.split(".").map(Number)),q[0]===0&&q[1]>10||q[0]>0}(),J.isNode&&J.toFastProperties(h);try{throw new Error}catch(q){J.lastLineError=q}n.exports=J},{"./es5":13}]},{},[4])(4)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}).call(this,l(9),l(4),l(57).setImmediate)},function(p,v,l){p.exports=l(235)},function(p,v,l){var h=l(0);p.exports=function(){var c={};return{getState:function(o){if(c[o])return c[o].method();var u={};for(var r in c)c[r].internal||h.mixin(u,c[r].method(),!0);return u},registerProvider:function(o,u,r){c[o]={method:u,internal:r}},unregisterProvider:function(o){delete c[o]}}}},function(p,v){p.exports=function(l){var h={};function c(o,u,r){r=r||o;var i=l.config,e=l.templates;l.config[o]&&h[r]!=i[o]&&(u&&e[r]||(e[r]=l.date.date_to_str(i[o]),h[r]=i[o]))}return{initTemplates:function(){var o=l.locale.labels;o.gantt_save_btn=o.icon_save,o.gantt_cancel_btn=o.icon_cancel,o.gantt_delete_btn=o.icon_delete;var u=l.date,r=u.date_to_str,i=l.config,e=r(i.xml_date||i.date_format,i.server_utc),t=u.str_to_date(i.xml_date||i.date_format,i.server_utc);c("date_scale",!0,void 0,l.config,l.templates),c("date_grid",!0,"grid_date_format",l.config,l.templates),c("task_date",!0,void 0,l.config,l.templates),l.mixin(l.templates,{xml_format:void 0,format_date:e,xml_date:void 0,parse_date:t,progress_text:function(n,a,s){return""},grid_header_class:function(n,a){return""},task_text:function(n,a,s){return s.text},task_class:function(n,a,s){return""},task_end_date:function(n){return l.templates.task_date(n)},grid_row_class:function(n,a,s){return""},task_row_class:function(n,a,s){return""},timeline_cell_class:function(n,a){return""},timeline_cell_content:function(n,a){return""},scale_cell_class:function(n){return""},scale_row_class:function(n){return""},grid_indent:function(n){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(n){return"<div class='gantt_tree_icon gantt_folder_"+(n.$open?"open":"closed")+"'></div>"},grid_file:function(n){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(n){return"<div class='gantt_tree_icon gantt_"+(n.$open?"close":"open")+"'></div>"},grid_blank:function(n){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(n,a,s){return a&&l.isUnscheduledTask(a)&&l.config.show_unscheduled?l.templates.task_unscheduled_time(a):l.templates.grid_date_format(n,s)},task_time:function(n,a,s){return l.isUnscheduledTask(s)&&l.config.show_unscheduled?l.templates.task_unscheduled_time(s):l.templates.task_date(n)+" - "+l.templates.task_end_date(a)},task_unscheduled_time:function(n){return""},time_picker:r(i.time_picker),link_class:function(n){return""},link_description:function(n){var a=l.getTask(n.source),s=l.getTask(n.target);return"<b>"+a.text+"</b> &ndash;  <b>"+s.text+"</b>"},drag_link:function(n,a,s,f){n=l.getTask(n);var _=l.locale.labels,m="<b>"+n.text+"</b> "+(a?_.link_start:_.link_end)+"<br/>";return s&&(m+="<b> "+(s=l.getTask(s)).text+"</b> "+(f?_.link_start:_.link_end)+"<br/>"),m},drag_link_class:function(n,a,s,f){var _="";return n&&s&&(_=" "+(l.isLinkAllowed(n,s,a,f)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+_},tooltip_date_format:u.date_to_str("%Y-%m-%d"),tooltip_text:function(n,a,s){return"<b>Task:</b> "+s.text+"<br/><b>Start date:</b> "+l.templates.tooltip_date_format(n)+"<br/><b>End date:</b> "+l.templates.tooltip_date_format(a)}})},initTemplate:c}}},function(p,v,l){var h=l(5),c=l(0),o=l(50),u=l(21),r=l(1);p.exports=function(i){function e(n){return{target:n.target||n.srcElement,pageX:n.pageX,pageY:n.pageY,clientX:n.clientX,clientY:n.clientY,metaKey:n.metaKey,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,altKey:n.altKey}}function t(n,a){this._obj=n,this._settings=a||{},h(this);var s=this.getInputMethods();this._drag_start_timer=null,i.attachEvent("onGanttScroll",c.bind(function(m,y){this.clearDragTimer()},this));for(var f={passive:!1},_=0;_<s.length;_++)c.bind(function(m){i.event(n,m.down,c.bind(function(b){m.accessor(b)&&(a.preventDefault&&a.selector&&r.closest(b.target,a.selector)&&b.preventDefault(),i.config.touch&&b.timeStamp&&b.timeStamp-0<300||(this._settings.original_target=e(b),i.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(c.bind(function(){i.getState().lightbox||this.dragStart(n,b,m)},this),i.config.touch_drag)):this.dragStart(n,b,m)))},this),f);var y=document.body;i.event(y,m.up,c.bind(function(b){m.accessor(b)&&this.clearDragTimer()},this),f)},this)(s[_])}return t.prototype={traceDragEvents:function(n,a){var s=c.bind(function(k){return this.dragMove(n,k,a.accessor)},this);c.bind(function(k){return this.dragScroll(n,k)},this);var f=c.bind(function(k){if(!this.config.started||!c.defined(this.config.updates_per_second)||o(this,this.config.updates_per_second)){var x=s(k);if(x)try{k&&k.preventDefault&&k.cancelable&&k.preventDefault()}catch{}return x}},this),_=r.getRootNode(i.$root),m=this.config.mousemoveContainer||r.getRootNode(i.$root),y={passive:!1},b=c.bind(function(k){return i.eventRemove(m,a.move,f),i.eventRemove(_,a.up,b,y),this.dragEnd(n)},this);i.event(m,a.move,f,y),i.event(_,a.up,b,y)},checkPositionChange:function(n){var a=n.x-this.config.pos.x,s=n.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(a),2)+Math.pow(Math.abs(s),2))>this.config.sensitivity},initDnDMarker:function(){var n=this.config.marker=document.createElement("div");n.className="gantt_drag_marker",n.innerHTML="",document.body.appendChild(n)},backupEventTarget:function(n,a){if(i.config.touch){var s=a(n),f=s.target||s.srcElement,_=f.cloneNode(!0);this.config.original_target=e(s),this.config.original_target.target=_,this.config.backup_element=f,f.parentNode.appendChild(_),f.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(f)}},getInputMethods:function(){var n=[];if(n.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(s){return s}}),i.config.touch){var a=!0;try{document.createEvent("TouchEvent")}catch{a=!1}a?n.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(s){return s.touches&&s.touches.length>1?null:s.touches[0]?{target:document.elementFromPoint(s.touches[0].clientX,s.touches[0].clientY),pageX:s.touches[0].pageX,pageY:s.touches[0].pageY,clientX:s.touches[0].clientX,clientY:s.touches[0].clientY}:s}}):u.navigator.pointerEnabled?n.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(s){return s.pointerType=="mouse"?null:s}}):u.navigator.msPointerEnabled&&n.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(s){return s.pointerType==s.MSPOINTER_TYPE_MOUSE?null:s}})}return n},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(n,a,s){this.config&&this.config.started||(this.config={obj:n,marker:null,started:!1,pos:this.getPosition(a),sensitivity:4},this._settings&&c.mixin(this.config,this._settings,!0),this.traceDragEvents(n,s),i._prevent_touch_scroll=!0,document.body.className+=" gantt_noselect",i.config.touch&&this.dragMove(n,a,s.accessor))},dragMove:function(n,a,s){var f=s(a);if(!f)return!1;if(!this.config.marker&&!this.config.started){var _=this.getPosition(f);if(i.config.touch||this.checkPositionChange(_)){if(this.config.started=!0,this.config.ignore=!1,i._touch_drag=!0,this.callEvent("onBeforeDragStart",[n,this.config.original_target])===!1)return this.config.ignore=!0,!1;this.backupEventTarget(a,s),this.initDnDMarker(),i._touch_feedback(),this.callEvent("onAfterDragStart",[n,this.config.original_target])}else this.config.ignore=!0}return this.config.ignore?!1:a.targetTouches&&!f.target?void 0:(f.pos=this.getPosition(f),this.config.marker.style.left=f.pos.x+"px",this.config.marker.style.top=f.pos.y+"px",this.callEvent("onDragMove",[n,f]),!0)},dragEnd:function(n){var a=this.config.backup_element;a&&a.parentNode&&a.parentNode.removeChild(a),i._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,i._touch_drag=!1,document.body.className=document.body.className.replace(" gantt_noselect","")},getPosition:function(n){var a=0,s=0;return n.pageX||n.pageY?(a=n.pageX,s=n.pageY):(n.clientX||n.clientY)&&(a=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,s=n.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:a,y:s}}},t}},function(p,v,l){function h(o,u){for(var r=0;r<u.length;r++){var i=u[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}l.r(v),l.d(v,"Client",function(){return c});var c=function(){function o(u){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o);var r=u.url,i=u.token;this._url=r,this._token=i,this._mode=1,this._seed=1,this._queue=[],this.data={},this.api={},this._events={}}return function(u,r,i){r&&h(u.prototype,r)}(o,[{key:"headers",value:function(){return{Accept:"application/json","Content-Type":"application/json","Remote-Token":this._token}}},{key:"fetch",value:function(u){function r(i,e){return u.apply(this,arguments)}return r.toString=function(){return u.toString()},r}(function(u,r){var i={credentials:"include",headers:this.headers()};return r&&(i.method="POST",i.body=r),fetch(u,i).then(function(e){return e.json()})})},{key:"load",value:function(u){var r=this;return u&&(this._url=u),this.fetch(this._url).then(function(i){return r.parse(i)})}},{key:"parse",value:function(u){var r=u.key,i=u.websocket;for(var e in r&&(this._token=u.key),u.data)this.data[e]=u.data[e];for(var t in u.api){var n=this.api[t]={},a=u.api[t];for(var s in a)n[s]=this._wrapper(t+"."+s)}return i&&this.connect(),this}},{key:"connect",value:function(){var u=this,r=this._socket;r&&(this._socket=null,r.onclose=function(){},r.close()),this._mode=2,this._socket=function(i,e,t,n){var a=e;a[0]==="/"&&(a=document.location.protocol+"//"+document.location.host+e);var s=(a=a.replace(/^http(s|):/,"ws$1:")).indexOf("?")!=-1?"&":"?";a="".concat(a).concat(s,"token=").concat(t,"&ws=1");var f=new WebSocket(a);return f.onclose=function(){return setTimeout(function(){return i.connect()},2e3)},f.onmessage=function(_){var m=JSON.parse(_.data);switch(m.action){case"result":i.result(m.body,[]);break;case"event":i.fire(m.body.name,m.body.value);break;case"start":u._mode=3,u._send(),u._resubscribe();break;default:i.onError(m.data)}},f}(this,this._url,this._token)}},{key:"_wrapper",value:function(u){return(function(){var r=this,i=[].slice.call(arguments),e=null,t=new Promise(function(n,a){e={data:{id:r._uid(),name:u,args:i},status:1,resolve:n,reject:a},r._queue.push(e)});return this.onCall(e,t),this._mode===3?this._send(e):setTimeout(function(){return r._send()},1),t}).bind(this)}},{key:"_uid",value:function(){return(this._seed++).toString()}},{key:"_send",value:function(u){var r=this;if(this._mode!=2){var i=u?[u]:this._queue.filter(function(t){return t.status===1});if(i.length){var e=i.map(function(t){return t.status=2,t.data});this._mode!==3?this.fetch(this._url,JSON.stringify(e)).catch(function(t){return r.onError(t)}).then(function(t){return r.result(t,e)}):this._socket.send(JSON.stringify({action:"call",body:e}))}}else setTimeout(function(){return r._send()},100)}},{key:"result",value:function(u,r){var i={};if(u)for(var e=0;e<u.length;e++)i[u[e].id]=u[e];else for(var t=0;t<r.length;t++)i[r[t].id]={id:r[t].id,error:"Network Error",data:null};for(var n=this._queue.length-1;n>=0;n--){var a=this._queue[n],s=i[a.data.id];s&&(this.onResponse(a,s),s.error?a.reject(s.error):a.resolve(s.data),this._queue.splice(n,1))}}},{key:"on",value:function(u,r){var i=this._uid(),e=this._events[u],t=!!e;return t||(e=this._events[u]=[]),e.push({id:i,handler:r}),t||this._mode!=3||this._socket.send(JSON.stringify({action:"subscribe",name:u})),{name:u,id:i}}},{key:"_resubscribe",value:function(){if(this._mode==3)for(var u in this._events)this._socket.send(JSON.stringify({action:"subscribe",name:u}))}},{key:"detach",value:function(u){if(u){var r=u.id,i=u.name,e=this._events[i];if(e){var t=e.filter(function(a){return a.id!=r});t.length?this._events[i]=t:(delete this._events[i],this._mode==3&&this._socket.send(JSON.stringify({action:"unsubscribe",name:i})))}}else{if(this._mode==3)for(var n in this._events)this._socket.send(JSON.stringify({action:"unsubscribe",key:n}));this._events={}}}},{key:"fire",value:function(u,r){var i=this._events[u];if(i)for(var e=0;e<i.length;e++)i[e].handler(r)}},{key:"onError",value:function(u){return null}},{key:"onCall",value:function(u,r){}},{key:"onResponse",value:function(u,r){}}]),o}()},function(p,v,l){var h=l(240);p.exports={remoteEvents:function(c,o){var u=this,r=new h.Client({url:c,token:o});r.fetch=function(i,e){var t={headers:this.headers()};return e&&(t.method="POST",t.body=e),fetch(i,t).then(function(n){return n.json()})},this._ready=r.load().then(function(i){return u._remote=i}),this.ready=function(){return this._ready},this.on=function(i,e){this.ready().then(function(t){if(typeof i=="string")t.on(i,e);else for(var n in i)t.on(n,i[n])})}}}},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h={date_to_str:function(c,o,u){return function(r){return c.replace(/%[a-zA-Z]/g,function(i){switch(i){case"%d":return o?u.date.to_fixed(r.getUTCDate()):u.date.to_fixed(r.getDate());case"%m":return o?u.date.to_fixed(r.getUTCMonth()+1):u.date.to_fixed(r.getMonth()+1);case"%j":return o?r.getUTCDate():r.getDate();case"%n":return o?r.getUTCMonth()+1:r.getMonth()+1;case"%y":return o?u.date.to_fixed(r.getUTCFullYear()%100):u.date.to_fixed(r.getFullYear()%100);case"%Y":return o?r.getUTCFullYear():r.getFullYear();case"%D":return o?u.locale.date.day_short[r.getUTCDay()]:u.locale.date.day_short[r.getDay()];case"%l":return o?u.locale.date.day_full[r.getUTCDay()]:u.locale.date.day_full[r.getDay()];case"%M":return o?u.locale.date.month_short[r.getUTCMonth()]:u.locale.date.month_short[r.getMonth()];case"%F":return o?u.locale.date.month_full[r.getUTCMonth()]:u.locale.date.month_full[r.getMonth()];case"%h":return o?u.date.to_fixed((r.getUTCHours()+11)%12+1):u.date.to_fixed((r.getHours()+11)%12+1);case"%g":return o?(r.getUTCHours()+11)%12+1:(r.getHours()+11)%12+1;case"%G":return o?r.getUTCHours():r.getHours();case"%H":return o?u.date.to_fixed(r.getUTCHours()):u.date.to_fixed(r.getHours());case"%i":return o?u.date.to_fixed(r.getUTCMinutes()):u.date.to_fixed(r.getMinutes());case"%a":return o?r.getUTCHours()>11?"pm":"am":r.getHours()>11?"pm":"am";case"%A":return o?r.getUTCHours()>11?"PM":"AM":r.getHours()>11?"PM":"AM";case"%s":return o?u.date.to_fixed(r.getUTCSeconds()):u.date.to_fixed(r.getSeconds());case"%W":return o?u.date.to_fixed(u.date.getUTCISOWeek(r)):u.date.to_fixed(u.date.getISOWeek(r));default:return i}})}},str_to_date:function(c,o,u){return function(r){for(var i=[0,0,1,0,0,0],e=r.match(/[a-zA-Z]+|[0-9]+/g),t=c.match(/%[a-zA-Z]/g),n=0;n<t.length;n++)switch(t[n]){case"%j":case"%d":i[2]=e[n]||1;break;case"%n":case"%m":i[1]=(e[n]||1)-1;break;case"%y":i[0]=1*e[n]+(e[n]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":i[3]=e[n]||0;break;case"%i":i[4]=e[n]||0;break;case"%Y":i[0]=e[n]||0;break;case"%a":case"%A":i[3]=i[3]%12+((e[n]||"").toLowerCase()==="am"?0:12);break;case"%s":i[5]=e[n]||0;break;case"%M":i[1]=u.locale.date.month_short_hash[e[n]]||0;break;case"%F":i[1]=u.locale.date.month_full_hash[e[n]]||0}return o?new Date(Date.UTC(i[0],i[1],i[2],i[3],i[4],i[5])):new Date(i[0],i[1],i[2],i[3],i[4],i[5])}}};v.default=h},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h={date_to_str:function(c,o,u){c=c.replace(/%[a-zA-Z]/g,function(i){switch(i){case"%d":return'"+to_fixed(date.get'+(o?"UTC":"")+'Date())+"';case"%m":return'"+to_fixed((date.get'+(o?"UTC":"")+'Month()+1))+"';case"%j":return'"+date.get'+(o?"UTC":"")+'Date()+"';case"%n":return'"+(date.get'+(o?"UTC":"")+'Month()+1)+"';case"%y":return'"+to_fixed(date.get'+(o?"UTC":"")+'FullYear()%100)+"';case"%Y":return'"+date.get'+(o?"UTC":"")+'FullYear()+"';case"%D":return'"+locale.date.day_short[date.get'+(o?"UTC":"")+'Day()]+"';case"%l":return'"+locale.date.day_full[date.get'+(o?"UTC":"")+'Day()]+"';case"%M":return'"+locale.date.month_short[date.get'+(o?"UTC":"")+'Month()]+"';case"%F":return'"+locale.date.month_full[date.get'+(o?"UTC":"")+'Month()]+"';case"%h":return'"+to_fixed((date.get'+(o?"UTC":"")+'Hours()+11)%12+1)+"';case"%g":return'"+((date.get'+(o?"UTC":"")+'Hours()+11)%12+1)+"';case"%G":return'"+date.get'+(o?"UTC":"")+'Hours()+"';case"%H":return'"+to_fixed(date.get'+(o?"UTC":"")+'Hours())+"';case"%i":return'"+to_fixed(date.get'+(o?"UTC":"")+'Minutes())+"';case"%a":return'"+(date.get'+(o?"UTC":"")+'Hours()>11?"pm":"am")+"';case"%A":return'"+(date.get'+(o?"UTC":"")+'Hours()>11?"PM":"AM")+"';case"%s":return'"+to_fixed(date.get'+(o?"UTC":"")+'Seconds())+"';case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return i}});var r=new Function("date","to_fixed","locale","getISOWeek","getWeek",'return "'+c+'";');return function(i){return r(i,u.date.to_fixed,u.locale,u.date.getISOWeek,u.date.getWeek)}},str_to_date:function(c,o,u){for(var r="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",i=c.match(/%[a-zA-Z]/g),e=0;e<i.length;e++)switch(i[e]){case"%j":case"%d":r+="set[2]=temp["+e+"]||1;";break;case"%n":case"%m":r+="set[1]=(temp["+e+"]||1)-1;";break;case"%y":r+="set[0]=temp["+e+"]*1+(temp["+e+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":r+="set[3]=temp["+e+"]||0;";break;case"%i":r+="set[4]=temp["+e+"]||0;";break;case"%Y":r+="set[0]=temp["+e+"]||0;";break;case"%a":case"%A":r+="set[3]=set[3]%12+((temp["+e+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":r+="set[5]=temp["+e+"]||0;";break;case"%M":r+="set[1]=locale.date.month_short_hash[temp["+e+"]]||0;";break;case"%F":r+="set[1]=locale.date.month_full_hash[temp["+e+"]]||0;"}var t="set[0],set[1],set[2],set[3],set[4],set[5]";o&&(t=" Date.UTC("+t+")");var n=new Function("date","locale","var set=[0,0,1,0,0,0]; "+r+" return new Date("+t+");");return function(a){return n(a,u.locale)}}};v.default=h},function(p,v,l){var h=l(243).default,c=l(242).default;p.exports=function(o){var u=null;function r(){var i=!1;return o.config.csp==="auto"?(u===null&&function(){try{new Function("canUseCsp = false;")}catch{u=!0}}(),i=u):i=o.config.csp,i}return{init:function(){for(var i=o.locale,e=i.date.month_short,t=i.date.month_short_hash={},n=0;n<e.length;n++)t[e[n]]=n;for(e=i.date.month_full,t=i.date.month_full_hash={},n=0;n<e.length;n++)t[e[n]]=n},date_part:function(i){var e=new Date(i);return i.setHours(0),this.hour_start(i),i.getHours()&&(i.getDate()<e.getDate()||i.getMonth()<e.getMonth()||i.getFullYear()<e.getFullYear())&&i.setTime(i.getTime()+36e5*(24-i.getHours())),i},time_part:function(i){return(i.valueOf()/1e3-60*i.getTimezoneOffset())%86400},week_start:function(i){var e=i.getDay();return o.config.start_on_monday&&(e===0?e=6:e--),this.date_part(this.add(i,-1*e,"day"))},month_start:function(i){return i.setDate(1),this.date_part(i)},quarter_start:function(i){this.month_start(i);var e,t=i.getMonth();return e=t>=9?9:t>=6?6:t>=3?3:0,i.setMonth(e),i},year_start:function(i){return i.setMonth(0),this.month_start(i)},day_start:function(i){return this.date_part(i)},hour_start:function(i){return i.getMinutes()&&i.setMinutes(0),this.minute_start(i),i},minute_start:function(i){return i.getSeconds()&&i.setSeconds(0),i.getMilliseconds()&&i.setMilliseconds(0),i},_add_days:function(i,e,t){i.setDate(i.getDate()+e);var n=e>=0,a=!t.getHours()&&i.getHours(),s=i.getDate()<=t.getDate()||i.getMonth()<t.getMonth()||i.getFullYear()<t.getFullYear();return n&&a&&s&&i.setTime(i.getTime()+36e5*(24-i.getHours())),e>1&&a&&i.setHours(0),i},add:function(i,e,t){var n=new Date(i.valueOf());switch(t){case"day":n=this._add_days(n,e,i);break;case"week":n=this._add_days(n,7*e,i);break;case"month":n.setMonth(n.getMonth()+e);break;case"year":n.setYear(n.getFullYear()+e);break;case"hour":n.setTime(n.getTime()+60*e*60*1e3);break;case"minute":n.setTime(n.getTime()+60*e*1e3);break;default:return this["add_"+t](i,e,t)}return n},add_quarter:function(i,e){return this.add(i,3*e,"month")},to_fixed:function(i){return i<10?"0"+i:i},copy:function(i){return new Date(i.valueOf())},date_to_str:function(i,e){var t=h;return r()&&(t=c),t.date_to_str(i,e,o)},str_to_date:function(i,e){var t=h;return r()&&(t=c),t.str_to_date(i,e,o)},getISOWeek:function(i){return o.date._getWeekNumber(i,!0)},_getWeekNumber:function(i,e){if(!i)return!1;var t=i.getDay();e&&t===0&&(t=7);var n=new Date(i.valueOf());n.setDate(i.getDate()+(4-t));var a=n.getFullYear(),s=Math.round((n.getTime()-new Date(a,0,1).getTime())/864e5);return 1+Math.floor(s/7)},getWeek:function(i){return o.date._getWeekNumber(i,o.config.start_on_monday)},getUTCISOWeek:function(i){return o.date.getISOWeek(i)},convert_to_utc:function(i){return new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds())},parseDate:function(i,e){return i&&!i.getFullYear&&(typeof e!="function"&&(e=typeof e=="string"?e==="parse_date"||e==="xml_date"?o.defined(o.templates.xml_date)?o.templates.xml_date:o.templates.parse_date:o.defined(o.templates[e])?o.templates[e]:o.date.str_to_date(e):o.defined(o.templates.xml_date)?o.templates.xml_date:o.templates.parse_date),i=i?e(i):null),i}}}},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0}),v.default=function(h){if(typeof h=="string"||typeof h=="number")return h;var c="";for(var o in h){var u="";h.hasOwnProperty(o)&&(u=o+"="+(u=typeof h[o]=="string"?encodeURIComponent(h[o]):typeof h[o]=="number"?h[o]:encodeURIComponent(JSON.stringify(h[o]))),c.length&&(u="&"+u),c+=u)}return c}},function(p,v,l){function h(i){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(i)}var c=l(11),o=l(21),u=l(245).default;function r(i,e){var t={method:i};if(e.length===0)throw new Error("Arguments list of query is wrong.");if(e.length===1)return typeof e[0]=="string"?(t.url=e[0],t.async=!0):(t.url=e[0].url,t.async=e[0].async||!0,t.callback=e[0].callback,t.headers=e[0].headers),e[0].data?typeof e[0].data!="string"?t.data=u(e[0].data):t.data=e[0].data:t.data="",t;switch(t.url=e[0],i){case"GET":case"DELETE":t.callback=e[1],t.headers=e[2];break;case"POST":case"PUT":e[1]?typeof e[1]!="string"?t.data=u(e[1]):t.data=e[1]:t.data="",t.callback=e[2],t.headers=e[3]}return t}p.exports=function(i){return{cache:!0,method:"get",parse:function(e){return typeof e!="string"?e:(e=e.replace(/^[\s]+/,""),typeof DOMParser>"u"||c.isIE?o.ActiveXObject!==void 0&&((t=new o.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=new DOMParser().parseFromString(e,"text/xml"),t);var t},xmltop:function(e,t,n){if(t.status===void 0||t.status<400){var a=t.responseXML?t.responseXML||t:this.parse(t.responseText||t);if(a&&a.documentElement!==null&&!a.getElementsByTagName("parsererror").length)return a.getElementsByTagName(e)[0]}return n!==-1&&i.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],n]),document.createElement("DIV")},xpath:function(e,t){if(t.nodeName||(t=t.responseXML||t),c.isIE)return t.selectNodes(e)||[];for(var n,a=[],s=(t.ownerDocument||t).evaluate(e,t,null,XPathResult.ANY_TYPE,null);n=s.iterateNext();)a.push(n);return a},query:function(e){return this._call(e.method||"GET",e.url,e.data||"",e.async||!0,e.callback,e.headers)},get:function(e,t,n){var a=r("GET",arguments);return this.query(a)},getSync:function(e,t){var n=r("GET",arguments);return n.async=!1,this.query(n)},put:function(e,t,n,a){var s=r("PUT",arguments);return this.query(s)},del:function(e,t,n){var a=r("DELETE",arguments);return this.query(a)},post:function(e,t,n,a){(arguments.length==1||arguments.length==2&&typeof t=="function")&&(t="");var s=r("POST",arguments);return this.query(s)},postSync:function(e,t,n){t=t===null?"":String(t);var a=r("POST",arguments);return a.async=!1,this.query(a)},_call:function(e,t,n,a,s,f){return new i.Promise(function(_,m){var y=(typeof XMLHttpRequest>"u"?"undefined":h(XMLHttpRequest))!==void 0?new XMLHttpRequest:new o.ActiveXObject("Microsoft.XMLHTTP"),b=navigator.userAgent.match(/AppleWebKit/)!==null&&navigator.userAgent.match(/Qt/)!==null&&navigator.userAgent.match(/Safari/)!==null;a&&(y.onreadystatechange=function(){if(y.readyState==4||b&&y.readyState==3){if((y.status!=200||y.responseText==="")&&!i.callEvent("onAjaxError",[y]))return;setTimeout(function(){typeof s=="function"&&s.apply(o,[{xmlDoc:y,filePath:t}]),_(y),typeof s=="function"&&(s=null,y=null)},0)}});var k=!this||!this.cache;if(e=="GET"&&k&&(t+=(t.indexOf("?")>=0?"&":"?")+"dhxr"+new Date().getTime()+"=1"),y.open(e,t,a),f)for(var x in f)y.setRequestHeader(x,f[x]);else e.toUpperCase()=="POST"||e=="PUT"||e=="DELETE"?y.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):e=="GET"&&(n=null);if(y.setRequestHeader("X-Requested-With","XMLHttpRequest"),y.send(n),!a)return{xmlDoc:y,filePath:t}})},urlSeparator:function(e){return e.indexOf("?")!=-1?"&":"?"}}}},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0}),p.exports=function(){return{layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,deepcopy_on_parse:!1,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:void 0,bar_height:"full",min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,resize_rows:!1,task_grid_row_resizer_attribute:"data-row-index",min_task_grid_row_height:30,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link"},drag_multiple:!0,csp:"auto"}}},function(p,v){p.exports=function(){var l={};return{services:{},setService:function(h,c){l[h]=c},getService:function(h){return l[h]?l[h]():null},dropService:function(h){l[h]&&delete l[h]},destructor:function(){for(var h in l)if(l[h]){var c=l[h];c&&c.destructor&&c.destructor()}l=null}}}},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h=function(){return function(c){var o=this;for(var u in this.addExtension=function(r,i){o._extensions[r]=i},this.getExtension=function(r){return o._extensions[r]},this._extensions={},c)this._extensions[u]=c[u]}}();v.default=h},function(p,v){p.exports={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}}},function(p,v,l){function h(c){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(c)}p.exports=function(c){var o=new function(){this.constants=l(250),this.version="8.0.11",this.license="gpl",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}},u=new(l(249)).default(c),r={};o.plugins=function(f){for(var _ in f)if(f[_]&&!r[_]){var m=u.getExtension(_);m&&(m(o),r[_]=!0)}return r},o.$services=l(248)(),o.config=l(247)(),o.ajax=l(246)(o),o.date=l(244)(o),o.RemoteEvents=l(241).remoteEvents;var i=l(239)(o);o.$services.setService("dnd",function(){return i});var e=l(238)(o);o.$services.setService("templateLoader",function(){return e}),l(5)(o);var t=new(l(237));t.registerProvider("global",function(){var f={min_date:o._min_date,max_date:o._max_date,selected_task:null};return o.$data&&o.$data.tasksStore&&(f.selected_task=o.$data.tasksStore.getSelectedId()),f}),o.getState=t.getState,o.$services.setService("state",function(){return t});var n=l(0);n.mixin(o,n),o.Promise=l(236),o.env=l(11),l(234)(o);var a=l(228);o.dataProcessor=a.DEPRECATED_api,o.createDataProcessor=a.createDataProcessor,l(223)(o),l(213)(o),l(205)(o),l(204)(o),l(203)(o),l(190)(o),l(189).default(o),l(188)(o),l(187)(o),l(186)(o),l(183)(o),l(182).default(o);var s=l(181).default();return o.i18n={addLocale:s.addLocale,setLocale:function(f){if(typeof f=="string"){var _=s.getLocale(f);_||(_=s.getLocale("en")),o.locale=_}else if(f)if(o.locale)for(var m in f)f[m]&&h(f[m])==="object"?(o.locale[m]||(o.locale[m]={}),o.mixin(o.locale[m],f[m],!0)):o.locale[m]=f[m];else o.locale=f},getLocale:s.getLocale},o.i18n.setLocale("en"),o}},function(p,v,l){l(35);var h=l(251);p.exports=function(c){var o=h(c);return o.env.isNode||(l(147)(o),l(69)(o),l(68)(o)),o}},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h=100,c=function(){function o(u){var r=this;this.maxSteps=h,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:function(i){return{commands:i?i.slice():[]}},invert:function(i){for(var e,t=r._gantt.copy(i),n=r.command,a=0;a<i.commands.length;a++){var s=t.commands[a]=n.invert(t.commands[a]);s.type!==n.type.update&&s.type!==n.type.move||(e=[s.oldValue,s.value],s.value=e[0],s.oldValue=e[1])}return t}},this.command={entity:null,type:null,create:function(i,e,t,n){var a=r._gantt;return{entity:n,type:t,value:a.copy(i),oldValue:a.copy(e||i)}},invert:function(i){var e=r._gantt.copy(i);return e.type=r.command.inverseCommands(i.type),e},inverseCommands:function(i){var e=r._gantt,t=r.command.type;switch(i){case t.update:return t.update;case t.remove:return t.add;case t.add:return t.remove;case t.move:return t.move;default:return e.assert(!1,"Invalid command "+i),null}}},this._undoStack=[],this._redoStack=[],this._gantt=u}return o.prototype.getUndoStack=function(){return this._undoStack},o.prototype.setUndoStack=function(u){this._undoStack=u},o.prototype.getRedoStack=function(){return this._redoStack},o.prototype.setRedoStack=function(u){this._redoStack=u},o.prototype.clearUndoStack=function(){this._undoStack=[]},o.prototype.clearRedoStack=function(){this._redoStack=[]},o.prototype.updateConfigs=function(){var u=this._gantt;this.maxSteps=u.config.undo_steps||h,this.command.entity=u.config.undo_types,this.command.type=u.config.undo_actions,this.undoEnabled=!!u.config.undo,this.redoEnabled=!!u.config.redo},o.prototype.undo=function(){var u=this._gantt;if(this.updateConfigs(),this.undoEnabled){var r=this._pop(this._undoStack);if(r&&this._reorderCommands(r),u.callEvent("onBeforeUndo",[r])!==!1&&r)return this._applyAction(this.action.invert(r)),this._push(this._redoStack,u.copy(r)),void u.callEvent("onAfterUndo",[r]);u.callEvent("onAfterUndo",[null])}},o.prototype.redo=function(){var u=this._gantt;if(this.updateConfigs(),this.redoEnabled){var r=this._pop(this._redoStack);if(r&&this._reorderCommands(r),u.callEvent("onBeforeRedo",[r])!==!1&&r)return this._applyAction(r),this._push(this._undoStack,u.copy(r)),void u.callEvent("onAfterRedo",[r]);u.callEvent("onAfterRedo",[null])}},o.prototype.logAction=function(u){this._push(this._undoStack,u),this._redoStack=[]},o.prototype._push=function(u,r){var i=this._gantt;if(r.commands.length){var e=u===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack";if(i.callEvent(e,[r])!==!1&&r.commands.length){for(u.push(r);u.length>this.maxSteps;)u.shift();return r}}},o.prototype._pop=function(u){return u.pop()},o.prototype._reorderCommands=function(u){var r={any:0,link:1,task:2},i={move:1,any:0};u.commands.sort(function(e,t){if(e.entity==="task"&&t.entity==="task")return e.type!==t.type?(i[t.type]||0)-(i[e.type]||0):e.type==="move"&&e.oldValue&&t.oldValue&&t.oldValue.parent===e.oldValue.parent?e.oldValue.$index-t.oldValue.$index:0;var n=r[e.entity]||r.any;return(r[t.entity]||r.any)-n})},o.prototype._applyAction=function(u){var r=null,i=this.command.entity,e=this.command.type,t=this._gantt,n={};n[i.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},n[i.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},t.batchUpdate(function(){for(var a=0;a<u.commands.length;a++){r=u.commands[a];var s=n[r.entity][r.type],f=n[r.entity].get,_=n[r.entity].isExists;if(r.type===e.add)t[s](r.oldValue,r.oldValue.parent,r.oldValue.$local_index);else if(r.type===e.remove)t[_](r.value.id)&&t[s](r.value.id);else if(r.type===e.update){var m=t[f](r.value.id);for(var y in r.value)y.startsWith("$")||y.startsWith("_")||(m[y]=r.value[y]);t[s](r.value.id)}else r.type===e.move&&(t[s](r.value.id,r.value.$local_index,r.value.parent),t.callEvent("onRowDragEnd",[r.value.id]))}})},o}();v.Undo=c},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},c=["onTaskDragStart","onAfterTaskUpdate","onAfterTaskDelete","onBeforeBatchUpdate"],o=function(){function u(r,i){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=r,this._gantt=i,this._attachEvents()}return u.prototype.store=function(r,i,e){return e===void 0&&(e=!1),i===this._gantt.config.undo_types.task?this._storeTask(r,e):i===this._gantt.config.undo_types.link&&this._storeLink(r,e)},u.prototype.isMoveEventsIgnored=function(){return this._ignoreMoveEvents},u.prototype.toggleIgnoreMoveEvents=function(r){this._ignoreMoveEvents=r||!1},u.prototype.startIgnore=function(){this._ignore=!0},u.prototype.stopIgnore=function(){this._ignore=!1},u.prototype.startBatchAction=function(){var r=this;this._timeout||(this._timeout=setTimeout(function(){r.stopBatchAction(),r._timeout=null},10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())},u.prototype.stopBatchAction=function(){if(!this._ignore){var r=this._undo;this._batchAction&&r.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null}},u.prototype.onTaskAdded=function(r){this._ignore||this._storeTaskCommand(r,this._undo.command.type.add)},u.prototype.onTaskUpdated=function(r){this._ignore||this._storeTaskCommand(r,this._undo.command.type.update)},u.prototype.onTaskMoved=function(r){if(!this._ignore){r.$local_index=this._gantt.getTaskIndex(r.id);var i=this.getInitialTask(r.id);if(r.$local_index===i.$local_index&&this._gantt.getParent(r)===this._gantt.getParent(i))return;this._storeEntityCommand(r,this.getInitialTask(r.id),this._undo.command.type.move,this._undo.command.entity.task)}},u.prototype.onTaskDeleted=function(r){if(!this._ignore){if(this._storeTaskCommand(r,this._undo.command.type.remove),this._nestedTasks[r.id])for(var i=this._nestedTasks[r.id],e=0;e<i.length;e++)this._storeTaskCommand(i[e],this._undo.command.type.remove);if(this._nestedLinks[r.id]){var t=this._nestedLinks[r.id];for(e=0;e<t.length;e++)this._storeLinkCommand(t[e],this._undo.command.type.remove)}}},u.prototype.onLinkAdded=function(r){this._ignore||this._storeLinkCommand(r,this._undo.command.type.add)},u.prototype.onLinkUpdated=function(r){this._ignore||this._storeLinkCommand(r,this._undo.command.type.update)},u.prototype.onLinkDeleted=function(r){this._ignore||this._storeLinkCommand(r,this._undo.command.type.remove)},u.prototype.setNestedTasks=function(r,i){for(var e=this._gantt,t=null,n=[],a=this._getLinks(e.getTask(r)),s=0;s<i.length;s++)t=this.setInitialTask(i[s]),a=a.concat(this._getLinks(t)),n.push(t);var f={};for(s=0;s<a.length;s++)f[a[s]]=!0;var _=[];for(var s in f)_.push(this.setInitialLink(s));this._nestedTasks[r]=n,this._nestedLinks[r]=_},u.prototype.setInitialTask=function(r,i){var e=this._gantt;if(i||!this._initialTasks[r]||!this._batchMode){var t=e.copy(e.getTask(r));t.$index=e.getGlobalTaskIndex(r),t.$local_index=e.getTaskIndex(r),this.setInitialTaskObject(r,t)}return this._initialTasks[r]},u.prototype.getInitialTask=function(r){return this._initialTasks[r]},u.prototype.clearInitialTasks=function(){this._initialTasks={}},u.prototype.setInitialTaskObject=function(r,i){this._initialTasks[r]=i},u.prototype.setInitialLink=function(r,i){return this._initialLinks[r]&&this._batchMode||(this._initialLinks[r]=this._gantt.copy(this._gantt.getLink(r))),this._initialLinks[r]},u.prototype.getInitialLink=function(r){return this._initialLinks[r]},u.prototype.clearInitialLinks=function(){this._initialLinks={}},u.prototype._attachEvents=function(){var r=this,i=null,e=this._gantt,t=function(){i||(i=setTimeout(function(){i=null}),r.clearInitialTasks(),e.eachTask(function(b){r.setInitialTask(b.id)}),r.clearInitialLinks(),e.getLinks().forEach(function(b){r.setInitialLink(b.id)}))},n=function(b){return e.copy(e.getTask(b))};for(var a in h)e.attachEvent(a,function(){return r.startIgnore(),!0}),e.attachEvent(h[a],function(){return r.stopIgnore(),!0});for(a=0;a<c.length;a++)e.attachEvent(c[a],function(){return r.startBatchAction(),!0});e.attachEvent("onParse",function(){r._undo.clearUndoStack(),r._undo.clearRedoStack(),t()}),e.attachEvent("onAfterTaskAdd",function(b,k){r.setInitialTask(b,!0),r.onTaskAdded(k)}),e.attachEvent("onAfterTaskUpdate",function(b,k){r.onTaskUpdated(k)}),e.attachEvent("onAfterTaskDelete",function(b,k){r.onTaskDeleted(k)}),e.attachEvent("onAfterLinkAdd",function(b,k){r.setInitialLink(b,!0),r.onLinkAdded(k)}),e.attachEvent("onAfterLinkUpdate",function(b,k){r.onLinkUpdated(k)}),e.attachEvent("onAfterLinkDelete",function(b,k){r.onLinkDeleted(k)}),e.attachEvent("onRowDragEnd",function(b,k){return r.onTaskMoved(n(b)),r.toggleIgnoreMoveEvents(),!0}),e.attachEvent("onBeforeTaskDelete",function(b){r.store(b,e.config.undo_types.task);var k=[];return t(),e.eachTask(function(x){k.push(x.id)},b),r.setNestedTasks(b,k),!0});var s=e.getDatastore("task");s.attachEvent("onBeforeItemMove",function(b,k,x){return r.isMoveEventsIgnored()||t(),!0}),s.attachEvent("onAfterItemMove",function(b,k,x){return r.isMoveEventsIgnored()||r.onTaskMoved(n(b)),!0}),e.attachEvent("onRowDragStart",function(b,k,x){return r.toggleIgnoreMoveEvents(!0),t(),!0});var f=null,_=!1;if(e.attachEvent("onBeforeTaskDrag",function(b){if((f=e.getState().drag_id)===b){var k=e.getTask(b);e.isSummaryTask(k)&&e.config.drag_project&&(_=!0)}if(e.plugins().multiselect){var x=e.getSelectedTasks();x.length>1&&x.forEach(function(w){r.store(w,e.config.undo_types.task,!0)})}return r.store(b,e.config.undo_types.task)}),e.attachEvent("onAfterTaskDrag",function(b){(_||e.plugins().multiselect&&e.getSelectedTasks().length>1)&&f===b&&(_=!1,f=null,r.stopBatchAction()),r.store(b,e.config.undo_types.task,!0)}),e.attachEvent("onLightbox",function(b){return r.store(b,e.config.undo_types.task)}),e.attachEvent("onBeforeTaskAutoSchedule",function(b){return r.store(b.id,e.config.undo_types.task,!0),!0}),e.ext.inlineEditors){var m=null,y=null;e.attachEvent("onGanttLayoutReady",function(){m&&e.ext.inlineEditors.detachEvent(m),y&&e.ext.inlineEditors.detachEvent(y),y=e.ext.inlineEditors.attachEvent("onEditStart",function(b){r.store(b.id,e.config.undo_types.task)}),m=e.ext.inlineEditors.attachEvent("onBeforeEditStart",function(b){return r.stopBatchAction(),!0})})}},u.prototype._storeCommand=function(r){var i=this._undo;if(i.updateConfigs(),i.undoEnabled)if(this._batchMode)this._batchAction.commands.push(r);else{var e=i.action.create([r]);i.logAction(e)}},u.prototype._storeEntityCommand=function(r,i,e,t){var n=this._undo.command.create(r,i,e,t);this._storeCommand(n)},u.prototype._storeTaskCommand=function(r,i){this._gantt.isTaskExists(r.id)&&(r.$local_index=this._gantt.getTaskIndex(r.id)),this._storeEntityCommand(r,this.getInitialTask(r.id),i,this._undo.command.entity.task)},u.prototype._storeLinkCommand=function(r,i){this._storeEntityCommand(r,this.getInitialLink(r.id),i,this._undo.command.entity.link)},u.prototype._getLinks=function(r){return r.$source.concat(r.$target)},u.prototype._storeTask=function(r,i){var e=this;i===void 0&&(i=!1);var t=this._gantt;return this.setInitialTask(r,i),t.eachTask(function(n){e.setInitialTask(n.id)},r),!0},u.prototype._storeLink=function(r,i){return i===void 0&&(i=!1),this.setInitialLink(r,i),!0},u}();v.Monitor=o},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h=l(254),c=l(253);v.default=function(o){var u=new c.Undo(o),r=new h.Monitor(u,o);function i(f,_,m){f&&(f.id===_&&(f.id=m),f.parent===_&&(f.parent=m))}function e(f,_,m){i(f.value,_,m),i(f.oldValue,_,m)}function t(f,_,m){f&&(f.source===_&&(f.source=m),f.target===_&&(f.target=m))}function n(f,_,m){t(f.value,_,m),t(f.oldValue,_,m)}function a(f,_,m){for(var y=u,b=0;b<f.length;b++)for(var k=f[b],x=0;x<k.commands.length;x++)k.commands[x].entity===y.command.entity.task?e(k.commands[x],_,m):k.commands[x].entity===y.command.entity.link&&n(k.commands[x],_,m)}function s(f,_,m){for(var y=u,b=0;b<f.length;b++)for(var k=f[b],x=0;x<k.commands.length;x++){var w=k.commands[x];w.entity===y.command.entity.link&&(w.value&&w.value.id===_&&(w.value.id=m),w.oldValue&&w.oldValue.id===_&&(w.oldValue.id=m))}}o.config.undo=!0,o.config.redo=!0,o.config.undo_types={link:"link",task:"task"},o.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},o.ext||(o.ext={}),o.ext.undo={undo:function(){return u.undo()},redo:function(){return u.redo()},getUndoStack:function(){return u.getUndoStack()},setUndoStack:function(f){return u.setUndoStack(f)},getRedoStack:function(){return u.getRedoStack()},setRedoStack:function(f){return u.setRedoStack(f)},clearUndoStack:function(){return u.clearUndoStack()},clearRedoStack:function(){return u.clearRedoStack()},saveState:function(f,_){return r.store(f,_,!0)},getInitialState:function(f,_){return _===o.config.undo_types.link?r.getInitialLink(f):r.getInitialTask(f)}},o.undo=o.ext.undo.undo,o.redo=o.ext.undo.redo,o.getUndoStack=o.ext.undo.getUndoStack,o.getRedoStack=o.ext.undo.getRedoStack,o.clearUndoStack=o.ext.undo.clearUndoStack,o.clearRedoStack=o.ext.undo.clearRedoStack,o.attachEvent("onTaskIdChange",function(f,_){var m=u;a(m.getUndoStack(),f,_),a(m.getRedoStack(),f,_)}),o.attachEvent("onLinkIdChange",function(f,_){var m=u;s(m.getUndoStack(),f,_),s(m.getRedoStack(),f,_)}),o.attachEvent("onGanttReady",function(){u.updateConfigs()})}},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h=l(1),c=function(){function o(u){this._gantt=u}return o.prototype.getNode=function(){var u=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",u._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode},o.prototype.setViewport=function(u){return this._root=u,this},o.prototype.show=function(u,r){var i=this._gantt,e=document.body,t=this.getNode();if(h.isChildOf(t,e)||(this.hide(),t.style.top=t.style.top||"0px",t.style.left=t.style.left||"0px",e.appendChild(t)),this._isLikeMouseEvent(u)){var n=this._calculateTooltipPosition(u);r=n.top,u=n.left}return t.style.top=r+"px",t.style.left=u+"px",i._waiAria.tooltipVisibleAttr(t),this},o.prototype.hide=function(){var u=this._gantt,r=this.getNode();return r&&r.parentNode&&r.parentNode.removeChild(r),u._waiAria.tooltipHiddenAttr(r),this},o.prototype.setContent=function(u){return this.getNode().innerHTML=u,this},o.prototype._isLikeMouseEvent=function(u){return!(!u||typeof u!="object")&&"clientX"in u&&"clientY"in u},o.prototype._getViewPort=function(){return this._root||document.body},o.prototype._calculateTooltipPosition=function(u){var r=this._gantt,i=this._getViewPortSize(),e=this.getNode(),t={top:0,left:0,width:e.offsetWidth,height:e.offsetHeight,bottom:0,right:0},n=r.config.tooltip_offset_x,a=r.config.tooltip_offset_y,s=document.body,f=h.getRelativeEventPosition(u,s),_=h.getNodePosition(s);f.y+=_.y,t.top=f.y,t.left=f.x,t.top+=a,t.left+=n,t.bottom=t.top+t.height,t.right=t.left+t.width;var m=window.scrollY+s.scrollTop;return t.top<i.top-m?(t.top=i.top,t.bottom=t.top+t.height):t.bottom>i.bottom&&(t.bottom=i.bottom,t.top=t.bottom-t.height),t.left<i.left?(t.left=i.left,t.right=i.left+t.width):t.right>i.right&&(t.right=i.right,t.left=t.right-t.width),f.x>=t.left&&f.x<=t.right&&(t.left=f.x-t.width-n,t.right=t.left+t.width),f.y>=t.top&&f.y<=t.bottom&&(t.top=f.y-t.height-a,t.bottom=t.top+t.height),t},o.prototype._getViewPortSize=function(){var u,r=this._gantt,i=this._getViewPort(),e=i,t=window.scrollY+document.body.scrollTop,n=window.scrollX+document.body.scrollLeft;return i===r.$task_data?(e=r.$task,t=0,n=0,u=h.getNodePosition(r.$task)):u=h.getNodePosition(e),{left:u.x+n,top:u.y+t,width:u.width,height:u.height,bottom:u.y+u.height+t,right:u.x+u.width+n}},o}();v.Tooltip=c},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h=l(51),c=l(1),o=l(2),u=l(256),r=function(){function i(e){this._listeners={},this.tooltip=new u.Tooltip(e),this._gantt=e,this._domEvents=h(),this._initDelayedFunctions()}return i.prototype.destructor=function(){this.tooltip.hide(),this._domEvents.detachAll()},i.prototype.hideTooltip=function(){this.delayHide()},i.prototype.attach=function(e){var t=this,n=document.body,a=this._gantt;e.global||(n=a.$root);var s=null,f=function(_){var m=c.getTargetNode(_),y=c.closest(m,e.selector);if(!c.isChildOf(m,t.tooltip.getNode())){var b=function(){s=y,e.onmouseenter(_,y)};s?y&&y===s?e.onmousemove(_,y):(e.onmouseleave(_,s),s=null,y&&y!==s&&b()):y&&b()}};this.detach(e.selector),this._domEvents.attach(n,"mousemove",f),this._listeners[e.selector]={node:n,handler:f}},i.prototype.detach=function(e){var t=this._listeners[e];t&&this._domEvents.detach(t.node,"mousemove",t.handler)},i.prototype.tooltipFor=function(e){var t=this,n=function(a){var s=a;return document.createEventObject&&!document.createEvent&&(s=document.createEventObject(a)),s};this._initDelayedFunctions(),this.attach({selector:e.selector,global:e.global,onmouseenter:function(a,s){var f=e.html(a,s);f&&t.delayShow(n(a),f)},onmousemove:function(a,s){var f=e.html(a,s);f?t.delayShow(n(a),f):(t.delayShow.$cancelTimeout(),t.delayHide())},onmouseleave:function(){t.delayShow.$cancelTimeout(),t.delayHide()}})},i.prototype._initDelayedFunctions=function(){var e=this,t=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=o.delay(function(n,a){t.callEvent("onBeforeTooltip",[n])===!1?e.tooltip.hide():(e.tooltip.setContent(a),e.tooltip.show(n))},t.config.tooltip_timeout||1),this.delayHide=o.delay(function(){e.delayShow.$cancelTimeout(),e.tooltip.hide()},t.config.tooltip_hide_timeout||1)},i}();v.TooltipManager=r},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h=l(257);v.default=function(c){c.config.tooltip_timeout=30,c.config.tooltip_offset_y=20,c.config.tooltip_offset_x=10,c.config.tooltip_hide_timeout=30;var o=new h.TooltipManager(c);c.ext.tooltips=o,c.attachEvent("onGanttReady",function(){o.tooltipFor({selector:"["+c.config.task_attribute+"]:not(.gantt_task_row)",html:function(u){if(!c.config.touch||c.config.touch_tooltip){var r=c.locate(u);if(c.isTaskExists(r)){var i=c.getTask(r);return c.templates.tooltip_text(i.start_date,i.end_date,i)}return null}},global:!1})}),c.attachEvent("onDestroy",function(){o.destructor()}),c.attachEvent("onLightbox",function(){o.hideTooltip()}),c.attachEvent("onBeforeTooltip",function(){if(c.getState().link_source_id)return!1}),c.attachEvent("onGanttScroll",function(){o.hideTooltip()})}},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h=function(){function c(o){var u=this;this.show=function(r,i){i===void 0?u._showForTask(r):u._showAtCoordinates(r,i)},this.hide=function(r){var i=u._gantt,e=u._quickInfoBox;u._quickInfoBoxId=0;var t=u._quickInfoTask;if(u._quickInfoTask=null,e&&e.parentNode){if(i.config.quick_info_detached)return i.callEvent("onAfterQuickInfo",[t]),e.parentNode.removeChild(e);e.className+=" gantt_qi_hidden",e.style.right==="auto"?e.style.left="-350px":e.style.right="-350px",r&&(e.style.left=e.style.right="",e.parentNode.removeChild(e)),i.callEvent("onAfterQuickInfo",[t])}},this.getNode=function(){return u._quickInfoBox?u._quickInfoBox:null},this.setContainer=function(r){r&&(u._container=typeof r=="string"?document.getElementById(r):r)},this.setContent=function(r){var i=u._gantt,e={taskId:null,header:{title:"",date:""},content:"",buttons:i.config.quickinfo_buttons};r||(r=e),r.taskId||(r.taskId=e.taskId),r.header||(r.header=e.header),r.header.title||(r.header.title=e.header.title),r.header.date||(r.header.date=e.header.date),r.content||(r.content=e.content),r.buttons||(r.buttons=e.buttons);var t=u.getNode();t||(t=u._createQuickInfoElement()),r.taskId&&(u._quickInfoBoxId=r.taskId);var n=t.querySelector(".gantt_cal_qi_title"),a=n.querySelector(".gantt_cal_qi_tcontent"),s=n.querySelector(".gantt_cal_qi_tdate"),f=t.querySelector(".gantt_cal_qi_content"),_=t.querySelector(".gantt_cal_qi_controls");i._waiAria.quickInfoHeader(t,[r.header.title,r.header.date].join(" ")),a.innerHTML=r.header.title,s.innerHTML=r.header.date,r.header.title||r.header.date?n.style.display="":n.style.display="none",f.innerHTML=r.content;var m=r.buttons;m.length?_.style.display="":_.style.display="none";for(var y="",b=0;b<m.length;b++){var k=i._waiAria.quickInfoButtonAttrString(i.locale.labels[m[b]]);y+='<div class="gantt_qi_big_icon '+m[b]+'" title="'+i.locale.labels[m[b]]+'" '+k+"><div class='gantt_menu_icon "+m[b]+"'></div><div>"+i.locale.labels[m[b]]+"</div></div>"}_.innerHTML=y,i.eventRemove(t,"click",u._qiButtonClickHandler),i.eventRemove(t,"keypress",u._qiKeyPressHandler),i.event(t,"click",u._qiButtonClickHandler),i.event(t,"keypress",u._qiKeyPressHandler)},this._qiButtonClickHandler=function(r){r=r||event,u._qi_button_click(r.target||r.srcElement)},this._qiKeyPressHandler=function(r){var i=(r=r||event).which||event.keyCode;i!==13&&i!==32||setTimeout(function(){u._qi_button_click(r.target||r.srcElement)},1)},this._gantt=o}return c.prototype._showAtCoordinates=function(o,u){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(o,u),this._gantt.callEvent("onQuickInfo",[null])},c.prototype._showForTask=function(o){var u=this._gantt;if((o!==this._quickInfoBoxId||!u.utils.dom.isChildOf(this._quickInfoBox,document.body))&&u.config.show_quick_info){this.hide(!0);var r=this._getContainer(),i=this._get_event_counter_part(o,6,r.xViewport,r.yViewport);i&&(this._quickInfoBox=this._init_quick_info(o),this._quickInfoTask=o,this._quickInfoBox.className=this._prepare_quick_info_classname(o),this._fill_quick_data(o),this._show_quick_info(i,6),u.callEvent("onQuickInfo",[o]))}},c.prototype._get_event_counter_part=function(o,u,r,i){var e=this._gantt,t=e.getTaskNode(o);if(!t&&!(t=e.getTaskRowNode(o)))return null;var n=0,a=u+t.offsetTop+t.offsetHeight,s=t;if(e.utils.dom.isChildOf(s,r))for(;s&&s!==r;)n+=s.offsetLeft,s=s.offsetParent;var f=e.getScrollState();return s?{left:n,top:a,dx:n+t.offsetWidth/2-f.x>r.offsetWidth/2?1:0,dy:a+t.offsetHeight/2-f.y>i.offsetHeight/2?1:0,width:t.offsetWidth,height:t.offsetHeight}:null},c.prototype._createQuickInfoElement=function(){var o=this,u=this._gantt,r=document.createElement("div");r.className+="gantt_cal_quick_info",u._waiAria.quickInfoAttr(r);var i='<div class="gantt_cal_qi_title" '+u._waiAria.quickInfoHeaderAttrString()+'><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';if(i+='<div class="gantt_cal_qi_controls">',i+="</div>",r.innerHTML=i,u.config.quick_info_detached){var e=this._getContainer();u.event(e.parent,"scroll",function(){o.hide()})}return this._quickInfoBox=r,r},c.prototype._init_quick_info=function(o){var u=this._gantt,r=u.getTask(o);return typeof this._quickInfoReadonly=="boolean"&&u.isReadonly(r)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=u.isReadonly(r),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox},c.prototype._prepare_quick_info_classname=function(o){var u=this._gantt,r=u.getTask(o),i="gantt_cal_quick_info",e=u.templates.quick_info_class(r.start_date,r.end_date,r);return e&&(i+=" "+e),i},c.prototype._fill_quick_data=function(o){var u=this._gantt,r=u.getTask(o);this._quickInfoBoxId=o;var i=[];if(this._quickInfoReadonly)for(var e=u.config.quickinfo_buttons,t={icon_delete:!0,icon_edit:!0},n=0;n<e.length;n++)this._quickInfoReadonly&&t[e[n]]||i.push(e[n]);else i=u.config.quickinfo_buttons;this.setContent({header:{title:u.templates.quick_info_title(r.start_date,r.end_date,r),date:u.templates.quick_info_date(r.start_date,r.end_date,r)},content:u.templates.quick_info_content(r.start_date,r.end_date,r),buttons:i})},c.prototype._appendAtCoordinates=function(o,u){var r=this._quickInfoBox,i=this._getContainer();r.parentNode&&r.parentNode.nodeName.toLowerCase()!=="#document-fragment"||i.parent.appendChild(r),r.style.left=o+"px",r.style.top=u+"px"},c.prototype._show_quick_info=function(o,u){var r=this._gantt,i=this._quickInfoBox;if(r.config.quick_info_detached){var e=this._getContainer();i.parentNode&&i.parentNode.nodeName.toLowerCase()!=="#document-fragment"||e.parent.appendChild(i);var t=i.offsetWidth,n=i.offsetHeight,a=r.getScrollState(),s=e.xViewport,f=e.yViewport,_=s.offsetWidth+a.x-t,m=o.top-a.y+n,y=o.top;m>f.offsetHeight/2&&(y=o.top-(n+o.height+2*u))<a.y&&m<=f.offsetHeight&&(y=o.top),y<a.y&&(y=a.y);var b=Math.min(Math.max(a.x,o.left-o.dx*(t-o.width)),_),k=y;this._appendAtCoordinates(b,k)}else i.style.top="20px",o.dx===1?(i.style.right="auto",i.style.left="-300px",setTimeout(function(){i.style.left="10px"},1)):(i.style.left="auto",i.style.right="-300px",setTimeout(function(){i.style.right="10px"},1)),i.className+=" gantt_qi_"+(o.dx===1?"left":"right"),r.$root.appendChild(i)},c.prototype._qi_button_click=function(o){var u=this._gantt,r=this._quickInfoBox;if(o&&o!==r){var i=o.className;if(i.indexOf("_icon")!==-1){var e=this._quickInfoBoxId;u.$click.buttons[i.split(" ")[1].replace("icon_","")](e)}else this._qi_button_click(o.parentNode)}},c.prototype._getContainer=function(){var o=this._gantt,u=this._container?this._container:o.$task_data;return u&&u.offsetHeight&&u.offsetWidth?{parent:u,xViewport:o.$task,yViewport:o.$task_data}:(u=this._container?this._container:o.$grid_data)&&u.offsetHeight&&u.offsetWidth?{parent:u,xViewport:o.$grid,yViewport:o.$grid_data}:{parent:this._container?this._container:o.$layout,xViewport:o.$layout,yViewport:o.$layout}},c}();v.QuickInfo=h},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h=l(259);v.default=function(c){c.ext||(c.ext={}),c.ext.quickInfo=new h.QuickInfo(c),c.config.quickinfo_buttons=["icon_delete","icon_edit"],c.config.quick_info_detached=!0,c.config.show_quick_info=!0,c.templates.quick_info_title=function(e,t,n){return n.text.substr(0,50)},c.templates.quick_info_content=function(e,t,n){return n.details||n.text},c.templates.quick_info_date=function(e,t,n){return c.templates.task_time(e,t,n)},c.templates.quick_info_class=function(e,t,n){return""},c.attachEvent("onTaskClick",function(e,t){return c.utils.dom.closest(t.target,".gantt_add")||setTimeout(function(){c.ext.quickInfo.show(e)},0),!0});for(var o=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],u=function(){return c.ext.quickInfo.hide(),!0},r=0;r<o.length;r++)c.attachEvent(o[r],u);function i(){return c.ext.quickInfo.hide(),c.ext.quickInfo._quickInfoBox=null,!0}c.attachEvent("onEmptyClick",function(e){var t=!0,n=document.querySelector(".gantt_cal_quick_info");n&&c.utils.dom.isChildOf(e.target,n)&&(t=!1),t&&u()}),c.attachEvent("onGanttReady",i),c.attachEvent("onDestroy",i),c.event(window,"keydown",function(e){e.keyCode===27&&c.ext.quickInfo.hide()})}},function(p,v,l){var h=l(2).replaceValidZeroId;p.exports=function(c){c.config.multiselect=!0,c.config.multiselect_one_level=!1,c._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var o=this.getSelected();return o.length?o[o.length-1]:null},setFirstSelected:function(o){this._first_selected_when_shift=o},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=c.config.multiselect_one_level;var o=this._active;this._active=c.config.select_task,this._active!=o&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(o){c.$data.tasksStore.silent(function(){var u=c.$data.tasksStore;o?u.select(o+""):u.unselect(null)})},getLastSelected:function(){var o=c.$data.tasksStore.getSelectedId();return o&&c.isTaskExists(o)?o:null},select:function(o,u){return!!(o&&c.callEvent("onBeforeTaskMultiSelect",[o,!0,u])&&c.callEvent("onBeforeTaskSelected",[o]))&&(this._selected[o]=!0,this.setLastSelected(o),this.afterSelect(o),c.callEvent("onTaskMultiSelect",[o,!0,u]),c.callEvent("onTaskSelected",[o]),!0)},toggle:function(o,u){this._selected[o]?this.unselect(o,u):this.select(o,u)},unselect:function(o,u){o&&c.callEvent("onBeforeTaskMultiSelect",[o,!1,u])&&(this._selected[o]=!1,this.getLastSelected()==o&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(o),c.callEvent("onTaskMultiSelect",[o,!1,u]),c.callEvent("onTaskUnselected",[o]))},isSelected:function(o){return!(!c.isTaskExists(o)||!this._selected[o])},getSelected:function(){var o=[];for(var u in this._selected)this._selected[u]&&c.isTaskExists(u)?o.push(u):this._selected[u]=!1;return o.sort(function(r,i){return c.getGlobalTaskIndex(r)>c.getGlobalTaskIndex(i)?1:-1}),o},forSelected:function(o){for(var u=this.getSelected(),r=0;r<u.length;r++)o(u[r])},isSameLevel:function(o){if(!this._one_level)return!0;var u=this.getLastSelected();return!u||!c.isTaskExists(u)||!c.isTaskExists(o)||c.calculateTaskLevel(c.getTask(u))==c.calculateTaskLevel(c.getTask(o))},afterSelect:function(o){c.isTaskExists(o)&&c._quickRefresh(function(){c.refreshTask(o)})},doSelection:function(o){if(!this.isActive()||c._is_icon_open_click(o))return!1;var u=c.locate(o);if(!u||!c.callEvent("onBeforeMultiSelect",[o]))return!1;var r=this.getSelected(),i=this.getFirstSelected(),e=!1,t=this.getLastSelected(),n=c.config.multiselect,a=(function(){var f=c.ext.inlineEditors,_=f.getState(),m=f.locateCell(o.target);c.config.inline_editors_multiselect_open&&m&&f.getEditorConfig(m.columnName)&&(f.isVisible()&&_.id==m.id&&_.columnName==m.columnName||f.startEdit(m.id,m.columnName)),this.setFirstSelected(u),this.isSelected(u)||this.select(u,o),r=this.getSelected();for(var y=0;y<r.length;y++)r[y]!==u&&this.unselect(r[y],o)}).bind(this),s=(function(){if(t){if(u){for(var f=c.getGlobalTaskIndex(this.getFirstSelected()),_=c.getGlobalTaskIndex(u),m=c.getGlobalTaskIndex(t),y=t;c.getGlobalTaskIndex(y)!==f;)this.unselect(y,o),y=f>m?c.getNext(y):c.getPrev(y);for(y=u;c.getGlobalTaskIndex(y)!==f;)this.select(y,o)&&!e&&(e=!0,i=y),y=f>_?c.getNext(y):c.getPrev(y)}}else t=u}).bind(this);return n&&(o.ctrlKey||o.metaKey)?(this.isSelected(u)||this.setFirstSelected(u),u&&this.toggle(u,o)):n&&o.shiftKey?(c.isTaskExists(this.getFirstSelected())&&this.getFirstSelected()!==null||this.setFirstSelected(u),r.length?s():a()):a(),this.isSelected(u)?this.setLastSelected(u):i?u==t&&this.setLastSelected(o.shiftKey?i:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var o=c.selectTask;c.selectTask=function(r){if(!(r=h(r,this.config.root_id)))return!1;var i=c._multiselect,e=r;return i.isActive()?(i.select(r,null)&&i.setLastSelected(r),i.setFirstSelected(i.getLastSelected())):e=o.call(this,r),e};var u=c.unselectTask;c.unselectTask=function(r){var i=c._multiselect,e=i.isActive();(r=r||i.getLastSelected())&&e&&(i.unselect(r,null),r==i.getLastSelected()&&i.setLastSelected(null),c.refreshTask(r),i.setFirstSelected(i.getLastSelected()));var t=r;return e||(t=u.call(this,r)),t},c.toggleTaskSelection=function(r){var i=c._multiselect;r&&i.isActive()&&(i.toggle(r),i.setFirstSelected(i.getLastSelected()))},c.getSelectedTasks=function(){var r=c._multiselect;return r.isActive(),r.getSelected()},c.eachSelectedTask=function(r){return this._multiselect.forSelected(r)},c.isSelectedTask=function(r){return this._multiselect.isSelected(r)},c.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},c.attachEvent("onGanttReady",function(){var r=c.$data.tasksStore.isSelected;c.$data.tasksStore.isSelected=function(i){return c._multiselect.isActive()?c._multiselect.isSelected(i):r.call(this,i)}})}(),c.attachEvent("onTaskIdChange",function(o,u){var r=c._multiselect;if(!r.isActive())return!0;c.isSelectedTask(o)&&(r.unselect(o,null),r.select(u,null))}),c.attachEvent("onAfterTaskDelete",function(o,u){var r=c._multiselect;if(!r.isActive())return!0;r._selected[o]&&(r._selected[o]=!1,r.setLastSelected(r.getDefaultSelected())),r.forSelected(function(i){c.isTaskExists(i)||r.unselect(i,null)})}),c.attachEvent("onBeforeTaskMultiSelect",function(o,u,r){var i=c._multiselect;return!(u&&i.isActive()&&i._one_level)||i.isSameLevel(o)}),c.attachEvent("onTaskClick",function(o,u){return c._multiselect.doSelection(u)&&c.callEvent("onMultiSelect",[u]),!0})}},function(p,v){p.exports=function(l){function h(o){if(!l.config.show_markers||!o.start_date)return!1;var u=l.getState();if(!(+o.start_date>+u.max_date||(!o.end_date||+o.end_date<+u.min_date)&&+o.start_date<+u.min_date)){var r=document.createElement("div");r.setAttribute("data-marker-id",o.id);var i="gantt_marker";l.templates.marker_class&&(i+=" "+l.templates.marker_class(o)),o.css&&(i+=" "+o.css),o.title&&(r.title=o.title),r.className=i;var e=l.posFromDate(o.start_date);r.style.left=e+"px";var t=Math.max(l.getRowTop(l.getVisibleTaskCount()),0)+"px";if(l.config.timeline_placeholder&&l.$task_data&&(t=l.$task_data.scrollHeight+"px"),r.style.height=t,o.end_date){var n=l.posFromDate(o.end_date);r.style.width=Math.max(n-e,0)+"px"}return o.text&&(r.innerHTML="<div class='gantt_marker_content' >"+o.text+"</div>"),r}}function c(){if(l.$task_data){var o=document.createElement("div");o.className="gantt_marker_area",l.$task_data.appendChild(o),l.$marker_area=o}}l._markers||(l._markers=l.createDatastore({name:"marker",initItem:function(o){return o.id=o.id||l.uid(),o}})),l.config.show_markers=!0,l.attachEvent("onBeforeGanttRender",function(){l.$marker_area||c()}),l.attachEvent("onDataRender",function(){l.$marker_area||(c(),l.renderMarkers())}),l.attachEvent("onGanttLayoutReady",function(){l.attachEvent("onBeforeGanttRender",function(){c(),l.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return l.$marker_area}}).addLayer(h)},{once:!0})}),l.getMarker=function(o){return this._markers?this._markers.getItem(o):null},l.addMarker=function(o){return this._markers.addItem(o)},l.deleteMarker=function(o){return!!this._markers.exists(o)&&(this._markers.removeItem(o),!0)},l.updateMarker=function(o){this._markers.refresh(o)},l._getMarkers=function(){return this._markers.getItems()},l.renderMarkers=function(){this._markers.refresh()}}},function(p,v){p.exports=function(l){l.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new l.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var h;return(h=l.config.keyboard_navigation_cells?new l.$keyboardNavigation.TaskCell:new l.$keyboardNavigation.TaskRow).isValid()||(h=h.fallback()),h},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var h=this.activeNode;return h&&!h.isValid()&&(h=h.fallback()),h},fromDomElement:function(h){for(var c=[l.$keyboardNavigation.TaskRow,l.$keyboardNavigation.TaskCell,l.$keyboardNavigation.HeaderCell],o=0;o<c.length;o++)if(c[o].prototype.fromDomElement){var u=c[o].prototype.fromDomElement(h);if(u)return u}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(h){var c=!0;this.activeNode&&this.activeNode.compareTo(h)&&(c=!1),this.isEnabled()&&(c&&this.blurNode(this.activeNode),this.activeNode=h,this.focusNode(this.activeNode,!c))},focusNode:function(h,c){h&&h.focus&&h.focus(c)},blurNode:function(h){h&&h.blur&&h.blur()},keyDownHandler:function(h){if(!l.$keyboardNavigation.isModal()&&this.isEnabled()&&!h.defaultPrevented){var c=this.globalNode,o=l.$keyboardNavigation.shortcuts.getCommandFromEvent(h),u=this.getActiveNode();l.$keyboardNavigation.facade.callEvent("onKeyDown",[o,h])!==!1&&(u?u.findHandler(o)?u.doAction(o,h):c.findHandler(o)&&c.doAction(o,h):this.setDefaultNode())}},_timeout:null,awaitsFocus:function(){return this._timeout!==null},delay:function(h,c){clearTimeout(this._timeout),this._timeout=setTimeout(l.bind(function(){this._timeout=null,h()},this),c||1)},clearDelay:function(){clearTimeout(this._timeout)}}}},function(p,v){p.exports=function(l){(function(){var h=[];function c(){return!!h.length}function o(n){setTimeout(function(){c()||l.$destroyed||l.focus()},1)}function u(n){l.eventRemove(n,"keydown",i),l.event(n,"keydown",i),h.push(n)}function r(){var n=h.pop();n&&l.eventRemove(n,"keydown",i),o()}function i(n){var a=n.currentTarget;(function(s){return s==h[h.length-1]})(a)&&l.$keyboardNavigation.trapFocus(a,n)}function e(){u(l.getLightbox())}l.attachEvent("onLightbox",e),l.attachEvent("onAfterLightbox",r),l.attachEvent("onLightboxChange",function(){r(),e()}),l.attachEvent("onAfterQuickInfo",function(){o()}),l.attachEvent("onMessagePopup",function(n){t=l.utils.dom.getActiveElement(),u(n)}),l.attachEvent("onAfterMessagePopup",function(){r(),setTimeout(function(){t&&(t.focus(),t=null)},1)});var t=null;l.$keyboardNavigation.isModal=c})()}},function(p,v,l){p.exports=function(h){var c=l(1),o=l(2).replaceValidZeroId;h.$keyboardNavigation.TaskCell=function(u,r){if(!(u=o(u,h.config.root_id))){var i=h.getChildren(h.config.root_id);i[0]&&(u=i[0])}this.taskId=u,this.columnIndex=r||0,h.isTaskExists(this.taskId)&&(this.index=h.getTaskIndex(this.taskId),this.globalIndex=h.getGlobalTaskIndex(this.taskId))},h.$keyboardNavigation.TaskCell.prototype=h._compose(h.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return h.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!h.getGridColumns()[this.columnIndex]},fallback:function(){var u=h.$keyboardNavigation.TaskRow.prototype.fallback.call(this),r=u;if(u instanceof h.$keyboardNavigation.TaskRow){for(var i=h.getGridColumns(),e=this.columnIndex;e>=0&&!i[e];)e--;i[e]&&(r=new h.$keyboardNavigation.TaskCell(u.taskId,e))}return r},fromDomElement:function(u){if(!h.config.keyboard_navigation_cells)return null;var r=h.locate(u);if(h.isTaskExists(r)){var i=0,e=c.locateAttribute(u,"data-column-index");return e&&(i=1*e.getAttribute("data-column-index")),new h.$keyboardNavigation.TaskCell(r,i)}return null},getNode:function(){if(h.isTaskExists(this.taskId)&&h.isTaskVisible(this.taskId)){if(h.config.show_grid){var u=h.$grid.querySelector(".gantt_row["+h.config.task_attribute+"='"+this.taskId+"']");return u?u.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return h.getTaskNode(this.taskId)}},keys:{up:function(){var u=null,r=h.getPrev(this.taskId);u=h.isTaskExists(r)?new h.$keyboardNavigation.TaskCell(r,this.columnIndex):new h.$keyboardNavigation.HeaderCell(this.columnIndex),this.moveTo(u)},down:function(){var u=h.getNext(this.taskId);h.isTaskExists(u)&&this.moveTo(new h.$keyboardNavigation.TaskCell(u,this.columnIndex))},left:function(){this.columnIndex>0&&this.moveTo(new h.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var u=h.getGridColumns();this.columnIndex<u.length-1&&this.moveTo(new h.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var u=h.getGridColumns();this.moveTo(new h.$keyboardNavigation.TaskCell(this.taskId,u.length-1))},home:function(){this.moveTo(new h.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){h.getVisibleTaskCount()&&this.moveTo(new h.$keyboardNavigation.TaskCell(h.getTaskByIndex(h.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){h.getVisibleTaskCount()&&this.moveTo(new h.$keyboardNavigation.TaskCell(h.getTaskByIndex(0).id,this.columnIndex))}}}),h.$keyboardNavigation.TaskCell.prototype.bindAll(h.$keyboardNavigation.TaskRow.prototype.keys),h.$keyboardNavigation.TaskCell.prototype.bindAll(h.$keyboardNavigation.TaskCell.prototype.keys)}},function(p,v){p.exports=function(l){l.$keyboardNavigation.TaskRow=function(h){if(!h){var c=l.getChildren(l.config.root_id);c[0]&&(h=c[0])}this.taskId=h,l.isTaskExists(this.taskId)&&(this.index=l.getTaskIndex(this.taskId),this.globalIndex=l.getGlobalTaskIndex(this.taskId))},l.$keyboardNavigation.TaskRow.prototype=l._compose(l.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return l.isTaskExists(this.taskId)&&l.getTaskIndex(this.taskId)>-1},fallback:function(){if(!l.getVisibleTaskCount()){var h=new l.$keyboardNavigation.HeaderCell;return h.isValid()?h:null}var c=-1;if(l.getTaskByIndex(this.globalIndex-1))c=this.globalIndex-1;else if(l.getTaskByIndex(this.globalIndex+1))c=this.globalIndex+1;else for(var o=this.globalIndex;o>=0;){if(l.getTaskByIndex(o)){c=o;break}o--}if(c>-1)return new l.$keyboardNavigation.TaskRow(l.getTaskByIndex(c).id)},fromDomElement:function(h){if(l.config.keyboard_navigation_cells)return null;var c=l.locate(h);return l.isTaskExists(c)?new l.$keyboardNavigation.TaskRow(c):null},getNode:function(){if(l.isTaskExists(this.taskId)&&l.isTaskVisible(this.taskId))return l.config.show_grid?l.$grid.querySelector(".gantt_row["+l.config.task_attribute+"='"+this.taskId+"']"):l.getTaskNode(this.taskId)},focus:function(h){if(!h){var c,o,u=l.getTaskPosition(l.getTask(this.taskId)),r=l.getTaskHeight(this.taskId),i=l.getScrollState();c=l.$task?l.$task.offsetWidth:i.inner_width,o=l.$grid_data||l.$task_data?(l.$grid_data||l.$task_data).offsetHeight:i.inner_height,u.top<i.y||u.top+r>i.y+o?l.scrollTo(null,u.top-20):l.config.scroll_on_click&&l.config.show_chart&&(u.left>i.x+c?l.scrollTo(u.left-l.config.task_scroll_offset):u.left+u.width<i.x&&l.scrollTo(u.left+u.width-l.config.task_scroll_offset))}l.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[h]),function(){var e=l.$ui.getView("grid"),t=parseInt(e.$grid.scrollLeft),n=parseInt(e.$grid_data.scrollTop),a=e.$config.scrollX;if(a&&e.$config.scrollable){var s=l.$ui.getView(a);s&&s.scrollTo(t,n)}var f=e.$config.scrollY;if(f){var _=l.$ui.getView(f);_&&_.scrollTo(t,n)}}()},keys:{pagedown:function(){l.getVisibleTaskCount()&&this.moveTo(new l.$keyboardNavigation.TaskRow(l.getTaskByIndex(l.getVisibleTaskCount()-1).id))},pageup:function(){l.getVisibleTaskCount()&&this.moveTo(new l.$keyboardNavigation.TaskRow(l.getTaskByIndex(0).id))},up:function(){var h=null,c=l.getPrev(this.taskId);h=l.isTaskExists(c)?new l.$keyboardNavigation.TaskRow(c):new l.$keyboardNavigation.HeaderCell,this.moveTo(h)},down:function(){var h=l.getNext(this.taskId);l.isTaskExists(h)&&this.moveTo(new l.$keyboardNavigation.TaskRow(h))},"shift+down":function(){l.hasChild(this.taskId)&&!l.getTask(this.taskId).$open&&l.open(this.taskId)},"shift+up":function(){l.hasChild(this.taskId)&&l.getTask(this.taskId).$open&&l.close(this.taskId)},"shift+right":function(){if(!l.isReadonly(this)){var h=l.getPrevSibling(this.taskId);l.isTaskExists(h)&&!l.isChildOf(this.taskId,h)&&(l.getTask(h).$open=!0,l.moveTask(this.taskId,-1,h)!==!1&&l.updateTask(this.taskId))}},"shift+left":function(){if(!l.isReadonly(this)){var h=l.getParent(this.taskId);l.isTaskExists(h)&&l.moveTask(this.taskId,l.getTaskIndex(h)+1,l.getParent(h))!==!1&&l.updateTask(this.taskId)}},space:function(h){l.isSelectedTask(this.taskId)?l.unselectTask(this.taskId):l.selectTask(this.taskId)},"ctrl+left":function(h){l.close(this.taskId)},"ctrl+right":function(h){l.open(this.taskId)},delete:function(h){l.isReadonly(this)||l.$click.buttons.delete(this.taskId)},enter:function(){l.isReadonly(this)||l.showLightbox(this.taskId)},"ctrl+enter":function(){l.isReadonly(this)||l.createTask({},this.taskId)}}}),l.$keyboardNavigation.TaskRow.prototype.bindAll(l.$keyboardNavigation.TaskRow.prototype.keys)}},function(p,v,l){p.exports=function(h){var c=l(1);h.$keyboardNavigation.HeaderCell=function(o){this.index=o||0},h.$keyboardNavigation.HeaderCell.prototype=h._compose(h.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!h.config.show_grid&&h.getVisibleTaskCount())&&(!!h.getGridColumns()[this.index]||!h.getVisibleTaskCount())},fallback:function(){if(!h.config.show_grid)return h.getVisibleTaskCount()?new h.$keyboardNavigation.TaskRow:null;for(var o=h.getGridColumns(),u=this.index;u>=0&&!o[u];)u--;return o[u]?new h.$keyboardNavigation.HeaderCell(u):null},fromDomElement:function(o){var u=c.locateClassName(o,"gantt_grid_head_cell");if(u){for(var r=0;u&&u.previousSibling;)u=u.previousSibling,r+=1;return new h.$keyboardNavigation.HeaderCell(r)}return null},getNode:function(){return h.$grid_scale.childNodes[this.index]},keys:{left:function(){this.index>0&&this.moveTo(new h.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var o=h.getGridColumns();this.index<o.length-1&&this.moveTo(new h.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var o,u=h.getChildren(h.config.root_id);h.isTaskExists(u[0])&&(o=u[0]),o&&(h.config.keyboard_navigation_cells?this.moveTo(new h.$keyboardNavigation.TaskCell(o,this.index)):this.moveTo(new h.$keyboardNavigation.TaskRow(o)))},end:function(){var o=h.getGridColumns();this.moveTo(new h.$keyboardNavigation.HeaderCell(o.length-1))},home:function(){this.moveTo(new h.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){c.getActiveElement().click()},"ctrl+enter":function(){h.isReadonly(this)||h.createTask({},this.taskId)}}}),h.$keyboardNavigation.HeaderCell.prototype.bindAll(h.$keyboardNavigation.HeaderCell.prototype.keys)}},function(p,v){p.exports=function(l){l.$keyboardNavigation.KeyNavNode=function(){},l.$keyboardNavigation.KeyNavNode.prototype=l._compose(l.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(h){l.$keyboardNavigation.dispatcher.setActiveNode(h)},compareTo:function(h){if(!h)return!1;for(var c in this){if(!!this[c]!=!!h[c])return!1;var o=!(!this[c]||!this[c].toString),u=!(!h[c]||!h[c].toString);if(u!=o)return!1;if(u&&o){if(h[c].toString()!=this[c].toString())return!1}else if(h[c]!=this[c])return!1}return!0},getNode:function(){},focus:function(){var h=this.getNode();if(h){var c=l.$keyboardNavigation.facade;c.callEvent("onBeforeFocus",[h])!==!1&&h&&(h.setAttribute("tabindex","-1"),h.$eventAttached||(h.$eventAttached=!0,l.event(h,"focus",function(o){return o.preventDefault(),!1},!1)),l.utils.dom.isChildOf(document.activeElement,h)&&(h=document.activeElement),h.focus&&h.focus(),c.callEvent("onFocus",[this.getNode()]))}},blur:function(){var h=this.getNode();h&&(l.$keyboardNavigation.facade.callEvent("onBlur",[h]),h.setAttribute("tabindex","-1"))}})}},function(p,v){p.exports=function(l){l.$keyboardNavigation.GanttNode=function(){},l.$keyboardNavigation.GanttNode.prototype=l._compose(l.$keyboardNavigation.EventHandler,{focus:function(){l.focus()},blur:function(){},isEnabled:function(){return l.$container.hasAttribute("tabindex")},scrollHorizontal:function(h){var c=l.dateFromPos(l.getScrollState().x),o=l.getScale(),u=h<0?-o.step:o.step;c=l.date.add(c,u,o.unit),l.scrollTo(l.posFromDate(c))},scrollVertical:function(h){var c=l.getScrollState().y,o=l.config.row_height;l.scrollTo(null,c+(h<0?-1:1)*o)},keys:{"alt+left":function(h){this.scrollHorizontal(-1)},"alt+right":function(h){this.scrollHorizontal(1)},"alt+up":function(h){this.scrollVertical(-1)},"alt+down":function(h){this.scrollVertical(1)},"ctrl+z":function(){l.undo&&l.undo()},"ctrl+r":function(){l.redo&&l.redo()}}}),l.$keyboardNavigation.GanttNode.prototype.bindAll(l.$keyboardNavigation.GanttNode.prototype.keys)}},function(p,v,l){p.exports=function(h){(function(){var c=l(1);h.$keyboardNavigation.getFocusableNodes=c.getFocusableNodes,h.$keyboardNavigation.trapFocus=function(o,u){if(u.keyCode!=9)return!1;for(var r=h.$keyboardNavigation.getFocusableNodes(o),i=c.getActiveElement(),e=-1,t=0;t<r.length;t++)if(r[t]==i){e=t;break}if(u.shiftKey){if(e<=0){var n=r[r.length-1];if(n)return n.focus(),u.preventDefault(),!0}}else if(e>=r.length-1){var a=r[0];if(a)return a.focus(),u.preventDefault(),!0}return!1}})()}},function(p,v){p.exports=function(l){l.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(h){this._handlers||(this._handlers={});var c=l.$keyboardNavigation.shortcuts.getHash(h);return this._handlers[c]},doAction:function(h,c){var o=this.findHandler(h);if(o){if(l.$keyboardNavigation.facade.callEvent("onBeforeAction",[h,c])===!1)return;o.call(this,c),c.preventDefault?c.preventDefault():c.returnValue=!1}},bind:function(h,c){this._handlers||(this._handlers={});for(var o=l.$keyboardNavigation.shortcuts,u=o.parse(h),r=0;r<u.length;r++)this._handlers[o.getHash(u[r])]=c},unbind:function(h){for(var c=l.$keyboardNavigation.shortcuts,o=c.parse(h),u=0;u<o.length;u++)this._handlers[c.getHash(o[u])]&&delete this._handlers[c.getHash(o[u])]},bindAll:function(h){for(var c in h)this.bind(c,h[c])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}},function(p,v){p.exports=function(l){l.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(h){for(var c=[],o=this.getExpressions(this.trim(h)),u=0;u<o.length;u++){for(var r=this.getWords(o[u]),i=this.createCommand(),e=0;e<r.length;e++)this.commandKeys[r[e]]?i.modifiers[r[e]]=!0:this.specialKeys[r[e]]?i.keyCode=this.specialKeys[r[e]]:i.keyCode=r[e].charCodeAt(0);c.push(i)}return c},getCommandFromEvent:function(h){var c=this.createCommand();c.modifiers.shift=!!h.shiftKey,c.modifiers.alt=!!h.altKey,c.modifiers.ctrl=!!h.ctrlKey,c.modifiers.meta=!!h.metaKey,c.keyCode=h.which||h.keyCode,c.keyCode>=96&&c.keyCode<=105&&(c.keyCode-=48);var o=String.fromCharCode(c.keyCode);return o&&(c.keyCode=o.toLowerCase().charCodeAt(0)),c},getHashFromEvent:function(h){return this.getHash(this.getCommandFromEvent(h))},getHash:function(h){var c=[];for(var o in h.modifiers)h.modifiers[o]&&c.push(o);return c.push(h.keyCode),c.join(this.junctionChar)},getExpressions:function(h){return h.split(this.junctionChar)},getWords:function(h){return h.split(this.combinationChar)},trim:function(h){return h.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}},function(p,v,l){p.exports=function(h){var c=l(5);(function(o){o.config.keyboard_navigation=!0,o.config.keyboard_navigation_cells=!1,o.$keyboardNavigation={},o._compose=function(){for(var r=Array.prototype.slice.call(arguments,0),i={},e=0;e<r.length;e++){var t=r[e];for(var n in typeof t=="function"&&(t=new t),t)i[n]=t[n]}return i},l(272)(o),l(271)(o),l(270)(o),l(269)(o),l(268)(o),l(267)(o),l(266)(o),l(265)(o),l(264)(o),l(263)(o);var u=l(1);(function(){var r=o.$keyboardNavigation.dispatcher;r.isTaskFocused=function(w){var S=r.activeNode;return(S instanceof o.$keyboardNavigation.TaskRow||S instanceof o.$keyboardNavigation.TaskCell)&&S.taskId==w};var i=function(w){if(o.config.keyboard_navigation&&(o.config.keyboard_navigation_cells||!n(w))&&!a(w)&&!function(S){return!!u.closest(S.target,".gantt_cal_light")}(w))return r.keyDownHandler(w)},e=function(w){if(r.$preventDefault)return w.preventDefault(),o.$container.blur(),!1;r.awaitsFocus()||r.focusGlobalNode()},t=function(){if(r.isEnabled()){var w=!u.isChildOf(document.activeElement,o.$container)&&document.activeElement.localName!="body",S=r.getActiveNode();if(S&&!w){var T,D,$=S.getNode();$&&$.parentNode&&(T=$.parentNode.scrollTop,D=$.parentNode.scrollLeft),S.focus(!0),$&&$.parentNode&&($.parentNode.scrollTop=T,$.parentNode.scrollLeft=D)}}};function n(w){return!!u.closest(w.target,".gantt_grid_editor_placeholder")}function a(w){return!!u.closest(w.target,".no_keyboard_navigation")}function s(w){if(!o.config.keyboard_navigation||!o.config.keyboard_navigation_cells&&n(w))return!0;if(!a(w)){var S,T=r.fromDomElement(w);T&&(r.activeNode instanceof o.$keyboardNavigation.TaskCell&&u.isChildOf(w.target,o.$task)&&(T=new o.$keyboardNavigation.TaskCell(T.taskId,r.activeNode.columnIndex)),S=T),S?r.isEnabled()?r.delay(function(){r.setActiveNode(S)}):r.activeNode=S:(r.$preventDefault=!0,setTimeout(function(){r.$preventDefault=!1},300))}}o.attachEvent("onDataRender",function(){o.config.keyboard_navigation&&t()}),o.attachEvent("onGanttRender",function(){o.eventRemove(o.$root,"keydown",i),o.eventRemove(o.$container,"focus",e),o.eventRemove(o.$container,"mousedown",s),o.config.keyboard_navigation?(o.event(o.$root,"keydown",i),o.event(o.$container,"focus",e),o.event(o.$container,"mousedown",s),o.$container.setAttribute("tabindex","0")):o.$container.removeAttribute("tabindex")});var f=o.attachEvent("onGanttReady",function(){if(o.detachEvent(f),o.$data.tasksStore.attachEvent("onStoreUpdated",function(S){if(o.config.keyboard_navigation&&r.isEnabled()){var T=r.getActiveNode(),D=o.$ui.getView("grid"),$=D.getItemTop(S),E=D.$grid_data.scrollTop,I=E+D.$grid_data.getBoundingClientRect().height;T&&T.taskId==S&&E<=$&&I>=$&&t()}}),o._smart_render){var w=o._smart_render._redrawTasks;o._smart_render._redrawTasks=function(S,T){if(o.config.keyboard_navigation&&r.isEnabled()){var D=r.getActiveNode();if(D&&D.taskId!==void 0){for(var $=!1,E=0;E<T.length;E++)if(T[E].id==D.taskId&&T[E].start_date){$=!0;break}$||T.push(o.getTask(D.taskId))}}return w.apply(this,arguments)}}}),_=null,m=!1;o.attachEvent("onTaskCreated",function(w){return _=w.id,!0}),o.attachEvent("onAfterTaskAdd",function(w,S){if(!o.config.keyboard_navigation)return!0;if(r.isEnabled()){if(w==_&&(m=!0,setTimeout(function(){m=!1,_=null})),m&&S.type==o.config.types.placeholder)return;var T=0,D=r.activeNode;D instanceof o.$keyboardNavigation.TaskCell&&(T=D.columnIndex);var $=o.config.keyboard_navigation_cells?o.$keyboardNavigation.TaskCell:o.$keyboardNavigation.TaskRow;S.type==o.config.types.placeholder&&o.config.placeholder_task.focusOnCreate===!1||r.setActiveNode(new $(w,T))}}),o.attachEvent("onTaskIdChange",function(w,S){if(!o.config.keyboard_navigation)return!0;var T=r.activeNode;return r.isTaskFocused(w)&&(T.taskId=S),!0});var y=setInterval(function(){o.config.keyboard_navigation&&(r.isEnabled()||r.enable())},500);function b(w){var S={gantt:o.$keyboardNavigation.GanttNode,headerCell:o.$keyboardNavigation.HeaderCell,taskRow:o.$keyboardNavigation.TaskRow,taskCell:o.$keyboardNavigation.TaskCell};return S[w]||S.gantt}function k(w){for(var S=o.getGridColumns(),T=0;T<S.length;T++)if(S[T].name==w)return T;return 0}o.attachEvent("onDestroy",function(){clearInterval(y)});var x={};c(x),o.mixin(x,{addShortcut:function(w,S,T){var D=b(T);D&&D.prototype.bind(w,S)},getShortcutHandler:function(w,S){var T=o.$keyboardNavigation.shortcuts.parse(w);if(T.length)return x.getCommandHandler(T[0],S)},getCommandHandler:function(w,S){var T=b(S);if(T&&w)return T.prototype.findHandler(w)},removeShortcut:function(w,S){var T=b(S);T&&T.prototype.unbind(w)},focus:function(w){var S,T=w?w.type:null,D=b(T);switch(T){case"taskCell":S=new D(w.id,k(w.column));break;case"taskRow":S=new D(w.id);break;case"headerCell":S=new D(k(w.column))}r.delay(function(){S?r.setActiveNode(S):(r.enable(),r.getActiveNode()?r.awaitsFocus()||r.enable():r.setDefaultNode())})},getActiveNode:function(){if(r.isEnabled()){var w=r.getActiveNode(),S=function(D){return D instanceof o.$keyboardNavigation.GanttNode?"gantt":D instanceof o.$keyboardNavigation.HeaderCell?"headerCell":D instanceof o.$keyboardNavigation.TaskRow?"taskRow":D instanceof o.$keyboardNavigation.TaskCell?"taskCell":null}(w),T=o.getGridColumns();switch(S){case"taskCell":return{type:"taskCell",id:w.taskId,column:T[w.columnIndex].name};case"taskRow":return{type:"taskRow",id:w.taskId};case"headerCell":return{type:"headerCell",column:T[w.index].name}}}return null}}),o.$keyboardNavigation.facade=x,o.ext.keyboardNavigation=x,o.focus=function(){x.focus()},o.addShortcut=x.addShortcut,o.getShortcutHandler=x.getShortcutHandler,o.removeShortcut=x.removeShortcut})()})(h)}},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0}),v.default=function(h){function c(){var s=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!s||s!==document.body)}function o(){try{return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}catch(s){console.error("Fullscreen is not available:",s)}}h.$services.getService("state").registerProvider("fullscreen",function(){return o()?{fullscreen:c()}:void 0});var u={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},r={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1},i=null;function e(s,f){f.width=s.width,f.height=s.height,f.top=s.top,f.left=s.left,f.position=s.position,f.zIndex=s.zIndex}var t=!1;function n(){var s;h.$container&&(c()?t&&(s="onExpand",function(){var f=h.ext.fullscreen.getFullscreenElement(),_=document.body;e(f.style,r),u={overflow:_.style.overflow,padding:_.style.padding?_.style.padding:null,paddingTop:_.style.paddingTop?_.style.paddingTop:null,paddingRight:_.style.paddingRight?_.style.paddingRight:null,paddingBottom:_.style.paddingBottom?_.style.paddingBottom:null,paddingLeft:_.style.paddingLeft?_.style.paddingLeft:null},_.style.padding&&(_.style.padding="0"),_.style.paddingTop&&(_.style.paddingTop="0"),_.style.paddingRight&&(_.style.paddingRight="0"),_.style.paddingBottom&&(_.style.paddingBottom="0"),_.style.paddingLeft&&(_.style.paddingLeft="0"),_.style.overflow="hidden",f.style.width="100vw",f.style.height="100vh",f.style.top="0px",f.style.left="0px",f.style.position="absolute",f.style.zIndex=1,r.modified=!0,i=function(m){for(var y=m.parentNode,b=[];y&&y.style;)b.push({element:y,originalPositioning:y.style.position}),y.style.position="static",y=y.parentNode;return b}(f)}()):t&&(t=!1,s="onCollapse",function(){var f=h.ext.fullscreen.getFullscreenElement(),_=document.body;r.modified&&(u.padding&&(_.style.padding=u.padding),u.paddingTop&&(_.style.paddingTop=u.paddingTop),u.paddingRight&&(_.style.paddingRight=u.paddingRight),u.paddingBottom&&(_.style.paddingBottom=u.paddingBottom),u.paddingLeft&&(_.style.paddingLeft=u.paddingLeft),_.style.overflow=u.overflow,u={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},e(r,f.style),r.modified=!1),function(m){m.forEach(function(y){y.element.style.position=y.originalPositioning})}(i),i=null}()),setTimeout(function(){h.render()}),setTimeout(function(){h.callEvent(s,[h.ext.fullscreen.getFullscreenElement()])}))}function a(){return!h.$container||!h.ext.fullscreen.getFullscreenElement()||!o()&&((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),!0)}h.ext.fullscreen={expand:function(){if(!a()&&!c()&&h.callEvent("onBeforeExpand",[this.getFullscreenElement()])){t=!0;var s=document.body,f=s.webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],_=s.msRequestFullscreen||s.mozRequestFullScreen||s.webkitRequestFullscreen||s.requestFullscreen;_&&_.apply(s,f)}},collapse:function(){if(!a()&&c()&&h.callEvent("onBeforeCollapse",[this.getFullscreenElement()])){var s=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen;s&&s.apply(document)}},toggle:function(){a()||(c()?this.collapse():this.expand())},getFullscreenElement:function(){return h.$root}},h.expand=function(){h.ext.fullscreen.expand()},h.collapse=function(){h.ext.fullscreen.collapse()},h.attachEvent("onGanttReady",function(){h.event(document,"webkitfullscreenchange",n),h.event(document,"mozfullscreenchange",n),h.event(document,"MSFullscreenChange",n),h.event(document,"fullscreenChange",n),h.event(document,"fullscreenchange",n)})}},function(p,v,l){function h(i){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(i)}var c=function(i){switch(h(i)){case"string":return i;case"boolean":return i?"true":"false";case"number":return isFinite(i)?i:"";default:return""}};p.exports=function(i,e,t,n){return e=e||"&",t=t||"=",i===null&&(i=void 0),h(i)==="object"?u(r(i),function(a){var s=encodeURIComponent(c(a))+t;return o(i[a])?u(i[a],function(f){return s+encodeURIComponent(c(f))}).join(e):s+encodeURIComponent(c(i[a]))}).join(e):n?encodeURIComponent(c(n))+t+encodeURIComponent(c(i)):""};var o=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function u(i,e){if(i.map)return i.map(e);for(var t=[],n=0;n<i.length;n++)t.push(e(i[n],n));return t}var r=Object.keys||function(i){var e=[];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&e.push(t);return e}},function(p,v,l){function h(o,u){return Object.prototype.hasOwnProperty.call(o,u)}p.exports=function(o,u,r,i){u=u||"&",r=r||"=";var e={};if(typeof o!="string"||o.length===0)return e;var t=/\+/g;o=o.split(u);var n=1e3;i&&typeof i.maxKeys=="number"&&(n=i.maxKeys);var a=o.length;n>0&&a>n&&(a=n);for(var s=0;s<a;++s){var f,_,m,y,b=o[s].replace(t,"%20"),k=b.indexOf(r);k>=0?(f=b.substr(0,k),_=b.substr(k+1)):(f=b,_=""),m=decodeURIComponent(f),y=decodeURIComponent(_),h(e,m)?c(e[m])?e[m].push(y):e[m]=[e[m],y]:e[m]=y}return e};var c=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"}},function(p,v,l){v.decode=v.parse=l(276),v.encode=v.stringify=l(275)},function(p,v,l){function h(c){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(c)}p.exports={isString:function(c){return typeof c=="string"},isObject:function(c){return h(c)==="object"&&c!==null},isNull:function(c){return c===null},isNullOrUndefined:function(c){return c==null}}},function(p,v){p.exports=function(l){return l.webpackPolyfill||(l.deprecate=function(){},l.paths=[],l.children||(l.children=[]),Object.defineProperty(l,"loaded",{enumerable:!0,get:function(){return l.l}}),Object.defineProperty(l,"id",{enumerable:!0,get:function(){return l.i}}),l.webpackPolyfill=1),l}},function(p,v,l){(function(h,c){var o;function u(r){"@babel/helpers - typeof";return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(r)}/*! https://mths.be/punycode v1.4.1 by @mathias */(function(r){var i=u(v)=="object"&&v&&!v.nodeType&&v,e=u(h)=="object"&&h&&!h.nodeType&&h,t=(c===void 0?"undefined":u(c))=="object"&&c;t.global!==t&&t.window!==t&&t.self!==t||(r=t);var n,a,s=2147483647,f=36,_=1,m=26,y=38,b=700,k=72,x=128,w="-",S=/^xn--/,T=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,$={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=f-_,I=Math.floor,M=String.fromCharCode;function j(U){throw new RangeError($[U])}function O(U,Q){for(var Y=U.length,X=[];Y--;)X[Y]=Q(U[Y]);return X}function F(U,Q){var Y=U.split("@"),X="";return Y.length>1&&(X=Y[0]+"@",U=Y[1]),X+O((U=U.replace(D,".")).split("."),Q).join(".")}function W(U){for(var Q,Y,X=[],z=0,C=U.length;z<C;)(Q=U.charCodeAt(z++))>=55296&&Q<=56319&&z<C?(64512&(Y=U.charCodeAt(z++)))==56320?X.push(((1023&Q)<<10)+(1023&Y)+65536):(X.push(Q),z--):X.push(Q);return X}function G(U){return O(U,function(Q){var Y="";return Q>65535&&(Y+=M((Q-=65536)>>>10&1023|55296),Q=56320|1023&Q),Y+=M(Q)}).join("")}function Z(U){return U-48<10?U-22:U-65<26?U-65:U-97<26?U-97:f}function K(U,Q){return U+22+75*(U<26)-((Q!=0)<<5)}function H(U,Q,Y){var X=0;for(U=Y?I(U/b):U>>1,U+=I(U/Q);U>E*m>>1;X+=f)U=I(U/E);return I(X+(E+1)*U/(U+y))}function B(U){var Q,Y,X,z,C,P,A,R,N,V,J=[],q=U.length,et=0,it=x,nt=k;for((Y=U.lastIndexOf(w))<0&&(Y=0),X=0;X<Y;++X)U.charCodeAt(X)>=128&&j("not-basic"),J.push(U.charCodeAt(X));for(z=Y>0?Y+1:0;z<q;){for(C=et,P=1,A=f;z>=q&&j("invalid-input"),((R=Z(U.charCodeAt(z++)))>=f||R>I((s-et)/P))&&j("overflow"),et+=R*P,!(R<(N=A<=nt?_:A>=nt+m?m:A-nt));A+=f)P>I(s/(V=f-N))&&j("overflow"),P*=V;nt=H(et-C,Q=J.length+1,C==0),I(et/Q)>s-it&&j("overflow"),it+=I(et/Q),et%=Q,J.splice(et++,0,it)}return G(J)}function tt(U){var Q,Y,X,z,C,P,A,R,N,V,J,q,et,it,nt,rt=[];for(q=(U=W(U)).length,Q=x,Y=0,C=k,P=0;P<q;++P)(J=U[P])<128&&rt.push(M(J));for(X=z=rt.length,z&&rt.push(w);X<q;){for(A=s,P=0;P<q;++P)(J=U[P])>=Q&&J<A&&(A=J);for(A-Q>I((s-Y)/(et=X+1))&&j("overflow"),Y+=(A-Q)*et,Q=A,P=0;P<q;++P)if((J=U[P])<Q&&++Y>s&&j("overflow"),J==Q){for(R=Y,N=f;!(R<(V=N<=C?_:N>=C+m?m:N-C));N+=f)nt=R-V,it=f-V,rt.push(M(K(V+nt%it,0))),R=I(nt/it);rt.push(M(K(R,0))),C=H(Y,et,X==z),Y=0,++X}++Y,++Q}return rt.join("")}if(n={version:"1.4.1",ucs2:{decode:W,encode:G},decode:B,encode:tt,toASCII:function(U){return F(U,function(Q){return T.test(Q)?"xn--"+tt(Q):Q})},toUnicode:function(U){return F(U,function(Q){return S.test(Q)?B(Q.slice(4).toLowerCase()):Q})}},u(l(53))=="object"&&l(53))(o=(function(){return n}).call(v,l,v,h))===void 0||(h.exports=o);else if(i&&e)if(h.exports==i)e.exports=n;else for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);else r.punycode=n})(this)}).call(this,l(279)(p),l(4))},function(p,v){p.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(p,v){p.exports=function(){for(var h={},c=0;c<arguments.length;c++){var o=arguments[c];for(var u in o)l.call(o,u)&&(h[u]=o[u])}return h};var l=Object.prototype.hasOwnProperty},function(p,v,l){var h=l(13).Buffer;p.exports=function(c){if(c instanceof Uint8Array){if(c.byteOffset===0&&c.byteLength===c.buffer.byteLength)return c.buffer;if(typeof c.buffer.slice=="function")return c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}if(h.isBuffer(c)){for(var o=new Uint8Array(c.length),u=c.length,r=0;r<u;r++)o[r]=c[r];return o.buffer}throw new Error("Argument must be a Buffer")}},function(p,v,l){p.exports=o;var h=l(55),c=l(17);function o(u){if(!(this instanceof o))return new o(u);h.call(this,u)}c.inherits=l(8),c.inherits(o,h),o.prototype._transform=function(u,r,i){i(null,u)}},function(p,v,l){(function(h){function c(o){try{if(!h.localStorage)return!1}catch{return!1}var u=h.localStorage[o];return u!=null&&String(u).toLowerCase()==="true"}p.exports=function(o,u){if(c("noDeprecation"))return o;var r=!1;return function(){if(!r){if(c("throwDeprecation"))throw new Error(u);c("traceDeprecation")?console.trace(u):console.warn(u),r=!0}return o.apply(this,arguments)}}}).call(this,l(4))},function(p,v,l){(function(h,c){(function(o,u){if(!o.setImmediate){var r,i=1,e={},t=!1,n=o.document,a=Object.getPrototypeOf&&Object.getPrototypeOf(o);a=a&&a.setTimeout?a:o,{}.toString.call(o.process)==="[object process]"?r=function(_){c.nextTick(function(){f(_)})}:function(){if(o.postMessage&&!o.importScripts){var _=!0,m=o.onmessage;return o.onmessage=function(){_=!1},o.postMessage("","*"),o.onmessage=m,_}}()?function(){var _="setImmediate$"+Math.random()+"$",m=function(y){y.source===o&&typeof y.data=="string"&&y.data.indexOf(_)===0&&f(+y.data.slice(_.length))};o.addEventListener?o.addEventListener("message",m,!1):o.attachEvent("onmessage",m),r=function(y){o.postMessage(_+y,"*")}}():o.MessageChannel?function(){var _=new MessageChannel;_.port1.onmessage=function(m){f(m.data)},r=function(m){_.port2.postMessage(m)}}():n&&"onreadystatechange"in n.createElement("script")?function(){var _=n.documentElement;r=function(m){var y=n.createElement("script");y.onreadystatechange=function(){f(m),y.onreadystatechange=null,_.removeChild(y),y=null},_.appendChild(y)}}():r=function(_){setTimeout(f,0,_)},a.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var m=new Array(arguments.length-1),y=0;y<m.length;y++)m[y]=arguments[y+1];var b={callback:_,args:m};return e[i]=b,r(i),i++},a.clearImmediate=s}function s(_){delete e[_]}function f(_){if(t)setTimeout(f,0,_);else{var m=e[_];if(m){t=!0;try{(function(y){var b=y.callback,k=y.args;switch(k.length){case 0:b();break;case 1:b(k[0]);break;case 2:b(k[0],k[1]);break;case 3:b(k[0],k[1],k[2]);break;default:b.apply(u,k)}})(m)}finally{s(_),t=!1}}}}})(typeof self>"u"?h===void 0?this:h:self)}).call(this,l(4),l(9))},function(p,v){},function(p,v,l){var h=l(22).Buffer,c=l(287);function o(u,r,i){u.copy(r,i)}p.exports=function(){function u(){(function(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}return u.prototype.push=function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},u.prototype.unshift=function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length},u.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},u.prototype.clear=function(){this.head=this.tail=null,this.length=0},u.prototype.join=function(r){if(this.length===0)return"";for(var i=this.head,e=""+i.data;i=i.next;)e+=r+i.data;return e},u.prototype.concat=function(r){if(this.length===0)return h.alloc(0);if(this.length===1)return this.head.data;for(var i=h.allocUnsafe(r>>>0),e=this.head,t=0;e;)o(e.data,i,t),t+=e.data.length,e=e.next;return i},u}(),c&&c.inspect&&c.inspect.custom&&(p.exports.prototype[c.inspect.custom]=function(){var u=c.inspect({length:this.length});return this.constructor.name+" "+u})},function(p,v){},function(p,v,l){(function(h,c,o){var u=l(65),r=l(8),i=l(64),e=l(63),t=l(283),n=i.IncomingMessage,a=i.readyStates,s=p.exports=function(_){var m,y=this;e.Writable.call(y),y._opts=_,y._body=[],y._headers={},_.auth&&y.setHeader("Authorization","Basic "+new h(_.auth).toString("base64")),Object.keys(_.headers).forEach(function(k){y.setHeader(k,_.headers[k])});var b=!0;if(_.mode==="disable-fetch"||"requestTimeout"in _&&!u.abortController)b=!1,m=!0;else if(_.mode==="prefer-streaming")m=!1;else if(_.mode==="allow-wrong-content-type")m=!u.overrideMimeType;else{if(_.mode&&_.mode!=="default"&&_.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");m=!0}y._mode=function(k,x){return u.fetch&&x?"fetch":u.mozchunkedarraybuffer?"moz-chunked-arraybuffer":u.msstream?"ms-stream":u.arraybuffer&&k?"arraybuffer":u.vbArray&&k?"text:vbarray":"text"}(m,b),y._fetchTimer=null,y.on("finish",function(){y._onFinish()})};r(s,e.Writable),s.prototype.setHeader=function(_,m){var y=_.toLowerCase();f.indexOf(y)===-1&&(this._headers[y]={name:_,value:m})},s.prototype.getHeader=function(_){var m=this._headers[_.toLowerCase()];return m?m.value:null},s.prototype.removeHeader=function(_){delete this._headers[_.toLowerCase()]},s.prototype._onFinish=function(){var _=this;if(!_._destroyed){var m=_._opts,y=_._headers,b=null;m.method!=="GET"&&m.method!=="HEAD"&&(b=u.arraybuffer?t(h.concat(_._body)):u.blobConstructor?new c.Blob(_._body.map(function(T){return t(T)}),{type:(y["content-type"]||{}).value||""}):h.concat(_._body).toString());var k=[];if(Object.keys(y).forEach(function(T){var D=y[T].name,$=y[T].value;Array.isArray($)?$.forEach(function(E){k.push([D,E])}):k.push([D,$])}),_._mode==="fetch"){var x=null;if(u.abortController){var w=new AbortController;x=w.signal,_._fetchAbortController=w,"requestTimeout"in m&&m.requestTimeout!==0&&(_._fetchTimer=c.setTimeout(function(){_.emit("requestTimeout"),_._fetchAbortController&&_._fetchAbortController.abort()},m.requestTimeout))}c.fetch(_._opts.url,{method:_._opts.method,headers:k,body:b||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:x}).then(function(T){_._fetchResponse=T,_._connect()},function(T){c.clearTimeout(_._fetchTimer),_._destroyed||_.emit("error",T)})}else{var S=_._xhr=new c.XMLHttpRequest;try{S.open(_._opts.method,_._opts.url,!0)}catch(T){return void o.nextTick(function(){_.emit("error",T)})}"responseType"in S&&(S.responseType=_._mode.split(":")[0]),"withCredentials"in S&&(S.withCredentials=!!m.withCredentials),_._mode==="text"&&"overrideMimeType"in S&&S.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(S.timeout=m.requestTimeout,S.ontimeout=function(){_.emit("requestTimeout")}),k.forEach(function(T){S.setRequestHeader(T[0],T[1])}),_._response=null,S.onreadystatechange=function(){switch(S.readyState){case a.LOADING:case a.DONE:_._onXHRProgress()}},_._mode==="moz-chunked-arraybuffer"&&(S.onprogress=function(){_._onXHRProgress()}),S.onerror=function(){_._destroyed||_.emit("error",new Error("XHR error"))};try{S.send(b)}catch(T){return void o.nextTick(function(){_.emit("error",T)})}}}},s.prototype._onXHRProgress=function(){(function(_){try{var m=_.status;return m!==null&&m!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},s.prototype._connect=function(){var _=this;_._destroyed||(_._response=new n(_._xhr,_._fetchResponse,_._mode,_._fetchTimer),_._response.on("error",function(m){_.emit("error",m)}),_.emit("response",_._response))},s.prototype._write=function(_,m,y){this._body.push(_),y()},s.prototype.abort=s.prototype.destroy=function(){this._destroyed=!0,c.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},s.prototype.end=function(_,m,y){typeof _=="function"&&(y=_,_=void 0),e.Writable.prototype.end.call(this,_,m,y)},s.prototype.flushHeaders=function(){},s.prototype.setTimeout=function(){},s.prototype.setNoDelay=function(){},s.prototype.setSocketKeepAlive=function(){};var f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,l(13).Buffer,l(4),l(9))},function(p,v,l){var h=l(66),c=l(54),o=p.exports;for(var u in h)h.hasOwnProperty(u)&&(o[u]=h[u]);function r(i){if(typeof i=="string"&&(i=c.parse(i)),i.protocol||(i.protocol="https:"),i.protocol!=="https:")throw new Error('Protocol "'+i.protocol+'" not supported. Expected "https:"');return i}o.request=function(i,e){return i=r(i),h.request.call(this,i,e)},o.get=function(i,e){return i=r(i),h.get.call(this,i,e)}},function(p,v){v.read=function(l,h,c,o,u){var r,i,e=8*u-o-1,t=(1<<e)-1,n=t>>1,a=-7,s=c?u-1:0,f=c?-1:1,_=l[h+s];for(s+=f,r=_&(1<<-a)-1,_>>=-a,a+=e;a>0;r=256*r+l[h+s],s+=f,a-=8);for(i=r&(1<<-a)-1,r>>=-a,a+=o;a>0;i=256*i+l[h+s],s+=f,a-=8);if(r===0)r=1-n;else{if(r===t)return i?NaN:1/0*(_?-1:1);i+=Math.pow(2,o),r-=n}return(_?-1:1)*i*Math.pow(2,r-o)},v.write=function(l,h,c,o,u,r){var i,e,t,n=8*r-u-1,a=(1<<n)-1,s=a>>1,f=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=o?0:r-1,m=o?1:-1,y=h<0||h===0&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(e=isNaN(h)?1:0,i=a):(i=Math.floor(Math.log(h)/Math.LN2),h*(t=Math.pow(2,-i))<1&&(i--,t*=2),(h+=i+s>=1?f/t:f*Math.pow(2,1-s))*t>=2&&(i++,t/=2),i+s>=a?(e=0,i=a):i+s>=1?(e=(h*t-1)*Math.pow(2,u),i+=s):(e=h*Math.pow(2,s-1)*Math.pow(2,u),i=0));u>=8;l[c+_]=255&e,_+=m,e/=256,u-=8);for(i=i<<u|e,n+=u;n>0;l[c+_]=255&i,_+=m,i/=256,n-=8);l[c+_-m]|=128*y}},function(p,v,l){v.byteLength=function(a){var s=e(a),f=s[0],_=s[1];return 3*(f+_)/4-_},v.toByteArray=function(a){for(var s,f=e(a),_=f[0],m=f[1],y=new o(function(w,S,T){return 3*(S+T)/4-T}(0,_,m)),b=0,k=m>0?_-4:_,x=0;x<k;x+=4)s=c[a.charCodeAt(x)]<<18|c[a.charCodeAt(x+1)]<<12|c[a.charCodeAt(x+2)]<<6|c[a.charCodeAt(x+3)],y[b++]=s>>16&255,y[b++]=s>>8&255,y[b++]=255&s;return m===2&&(s=c[a.charCodeAt(x)]<<2|c[a.charCodeAt(x+1)]>>4,y[b++]=255&s),m===1&&(s=c[a.charCodeAt(x)]<<10|c[a.charCodeAt(x+1)]<<4|c[a.charCodeAt(x+2)]>>2,y[b++]=s>>8&255,y[b++]=255&s),y},v.fromByteArray=function(a){for(var s,f=a.length,_=f%3,m=[],y=0,b=f-_;y<b;y+=16383)m.push(n(a,y,y+16383>b?b:y+16383));return _===1?(s=a[f-1],m.push(h[s>>2]+h[s<<4&63]+"==")):_===2&&(s=(a[f-2]<<8)+a[f-1],m.push(h[s>>10]+h[s>>4&63]+h[s<<2&63]+"=")),m.join("")};for(var h=[],c=[],o=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,i=u.length;r<i;++r)h[r]=u[r],c[u.charCodeAt(r)]=r;function e(a){var s=a.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=a.indexOf("=");return f===-1&&(f=s),[f,f===s?0:4-f%4]}function t(a){return h[a>>18&63]+h[a>>12&63]+h[a>>6&63]+h[63&a]}function n(a,s,f){for(var _,m=[],y=s;y<f;y+=3)_=(a[y]<<16&16711680)+(a[y+1]<<8&65280)+(255&a[y+2]),m.push(t(_));return m.join("")}c[45]=62,c[95]=63},function(p,v,l){(function(h){Object.defineProperty(v,"__esModule",{value:!0}),v.default=function(c){c.ext=c.ext||{},c.ext.export_api=c.ext.export_api||{_apiUrl:"https://export.dhtmlx.com/gantt",getNodeJSTransport:function(o){var u,r,i=o.split("://")[0];switch(i){case"https":u=l(291),r=443;break;case"http":u=l(66),r=80;break;default:throw new Error("Unsupported protocol: "+i+", url: "+o)}return{module:u,defaultPort:r}},_prepareConfigPDF:function(o,u){if(o&&o.raw){var r=null;o.start&&o.end&&(r={start_date:c.config.start_date,end_date:c.config.end_date},c.config.start_date=c.date.str_to_date(c.config.date_format)(o.start),c.config.end_date=c.date.str_to_date(c.config.date_format)(o.end)),o=c.mixin(o,{name:"gantt."+u,data:c.ext.export_api._serializeHtml()}),r&&(c.config.start_date=r.start_date,c.config.end_date=r.end_date)}else o=c.mixin(o||{},{name:"gantt."+u,data:c.ext.export_api._serializeAll(),config:c.config}),c.ext.export_api._fixColumns(o.config.columns);o.version=c.version,c.ext.export_api._sendToExport(o,u)},exportToPDF:function(o){c.ext.export_api._prepareConfigPDF(o,"pdf")},exportToPNG:function(o){c.ext.export_api._prepareConfigPDF(o,"png")},exportToICal:function(o){o=c.mixin(o||{},{name:"gantt.ical",data:c.ext.export_api._serializePlain().data,version:c.version}),c.ext.export_api._sendToExport(o,"ical")},exportToExcel:function(o){var u,r,i,e;o=o||{};var t=c.config.smart_rendering;if(o.visual==="base-colors"&&(c.config.smart_rendering=!1),o.start||o.end){i=c.getState(),r=[c.config.start_date,c.config.end_date],e=c.getScrollState();var n=c.date.str_to_date(c.config.date_format);u=c.eachTask,o.start&&(c.config.start_date=n(o.start)),o.end&&(c.config.end_date=n(o.end)),c.render(),c.config.smart_rendering=t,c.eachTask=c.ext.export_api._eachTaskTimed(c.config.start_date,c.config.end_date)}else o.visual==="base-colors"&&(c.render(),c.config.smart_rendering=t);c._no_progress_colors=o.visual==="base-colors";var a=null;c.env.isNode||(a=c.ext.export_api._serializeTable(o).data),(o=c.mixin(o,{name:"gantt.xlsx",title:"Tasks",data:a,columns:c.ext.export_api._serializeColumns({rawDates:!0}),version:c.version})).visual&&(o.scales=c.ext.export_api._serializeScales(o)),c.ext.export_api._sendToExport(o,"excel"),(o.start||o.end)&&(c.config.start_date=i.min_date,c.config.end_date=i.max_date,c.eachTask=u,c.render(),c.scrollTo(e.x,e.y),c.config.start_date=r[0],c.config.end_date=r[1])},exportToJSON:function(o){o=c.mixin(o||{},{name:"gantt.json",data:c.ext.export_api._serializeAll(),config:c.config,columns:c.ext.export_api._serializeColumns(),worktime:c.ext.export_api._getWorktimeSettings(),version:c.version}),c.ext.export_api._sendToExport(o,"json")},importFromExcel:function(o){try{var u=o.data;if(!(u instanceof FormData)){if(u instanceof File){var r=new FormData;r.append("file",u),o.data=r}}}catch{}c.env.isNode?c.ext.export_api._nodejsImportExcel(o):c.ext.export_api._sendImportAjaxExcel(o)},importFromMSProject:function(o){var u=o.data;try{if(!(u instanceof FormData)){if(u instanceof File){var r=new FormData;r.append("file",u),o.data=r}}}catch{}c.env.isNode?c.ext.export_api._nodejsImportMSP(o):c.ext.export_api._sendImportAjaxMSP(o)},importFromPrimaveraP6:function(o){return o.type="primaveraP6-parse",c.importFromMSProject(o)},exportToMSProject:function(o){(o=o||{}).skip_circular_links=o.skip_circular_links===void 0||!!o.skip_circular_links;var u=c.templates.xml_format,r=c.templates.format_date,i=c.config.xml_date,e=c.config.date_format;c.config.xml_date="%d-%m-%Y %H:%i:%s",c.config.date_format="%d-%m-%Y %H:%i:%s",c.templates.xml_format=c.date.date_to_str("%d-%m-%Y %H:%i:%s"),c.templates.format_date=c.date.date_to_str("%d-%m-%Y %H:%i:%s");var t=c.ext.export_api._serializeAll();c.ext.export_api._customProjectProperties(t,o),c.ext.export_api._customTaskProperties(t,o),o.skip_circular_links&&c.ext.export_api._clearRecLinks(t),o=c.ext.export_api._exportConfig(t,o),c.ext.export_api._sendToExport(o,o.type||"msproject"),c.config.xml_date=i,c.config.date_format=e,c.templates.xml_format=u,c.templates.format_date=r,c.config.$custom_data=null,c.config.custom=null},exportToPrimaveraP6:function(o){return(o=o||{}).type="primaveraP6",c.exportToMSProject(o)},_nodejsImportExcel:function(o){var u=l(52),r=o.server||c.ext.export_api._apiUrl,i=c.ext.export_api.getNodeJSTransport(r),e=r.split("://")[1],t=e.split("/")[0].split(":"),n=e.split("/"),a={hostname:t[0],port:t[1]||i.defaultPort,path:"/"+n.slice(1).join("/"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}},s=new u;s.append("file",o.data),s.append("type","excel-parse"),s.append("data",JSON.stringify({sheet:o.sheet||0})),a.headers["Content-Type"]=s.getHeaders()["content-type"];var f=i.module.request(a,function(_){var m="";_.on("data",function(y){m+=y}),_.on("end",function(y){o.callback(m.toString())})});f.on("error",function(_){console.error(_)}),s.pipe(f)},_nodejsImportMSP:function(o){var u=l(52),r=o.server||c.ext.export_api._apiUrl,i=c.ext.export_api.getNodeJSTransport(r),e=r.split("://")[1],t=e.split("/")[0].split(":"),n=e.split("/"),a={hostname:t[0],port:t[1]||i.defaultPort,path:"/"+n.slice(1).join("/"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}},s={durationUnit:o.durationUnit||void 0,projectProperties:o.projectProperties||void 0,taskProperties:o.taskProperties||void 0},f=new u;f.append("file",o.data),f.append("type",o.type||"msproject-parse"),f.append("data",JSON.stringify(s),a),a.headers["Content-Type"]=f.getHeaders()["content-type"];var _=i.module.request(a,function(m){var y="";m.on("data",function(b){y+=b}),m.on("end",function(b){o.callback(y.toString())})});_.on("error",function(m){console.error(m)}),f.pipe(_)},_fixColumns:function(o){for(var u=0;u<o.length;u++)o[u].label=o[u].label||c.locale.labels["column_"+o[u].name],typeof o[u].width=="string"&&(o[u].width=1*o[u].width)},_xdr:function(o,u,r){c.env.isNode?c.ext.export_api._nodejsPostRequest(o,u,r):c.ajax.post(o,u,r)},_nodejsPostRequest:function(o,u,r){var i=c.ext.export_api.getNodeJSTransport(o),e=o.split("://")[1],t=e.split("/")[0].split(":"),n=e.split("/"),a={hostname:t[0],port:t[1]||i.defaultPort,path:"/"+n.slice(1).join("/"),method:"POST",headers:{"Content-Type":"application/json","Content-Length":JSON.stringify(u).length}},s=i.module.request(a,function(f){var _=[];f.on("data",function(m){_.push(m)}),f.on("end",function(m){r(h.concat(_))})});s.on("error",function(f){console.error(f)}),s.write(JSON.stringify(u)),s.end()},_markColumns:function(o){var u=o.config.columns;if(u)for(var r=0;r<u.length;r++)u[r].template&&(u[r].$template=!0)},_sendImportAjaxExcel:function(o){var u=o.server||c.ext.export_api._apiUrl,r=o.store||0,i=o.data,e=o.callback;i.append("type","excel-parse"),i.append("data",JSON.stringify({sheet:o.sheet||0})),r&&i.append("store",r);var t=new XMLHttpRequest;t.onreadystatechange=function(n){t.readyState===4&&t.status===0&&e&&e(null)},t.onload=function(){var n=null;if(!(t.status>400))try{n=JSON.parse(t.responseText)}catch{}e&&e(n)},t.open("POST",u,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(i)},_ajaxToExport:function(o,u,r){delete o.callback;var i=o.server||c.ext.export_api._apiUrl,e="type="+u+"&store=1&data="+encodeURIComponent(JSON.stringify(o));c.ext.export_api._xdr(i,e,function(t){var n=t.xmlDoc||t,a=null;if(!(n.status>400))try{a=JSON.parse(n.responseText)}catch{}r(a)})},_serializableGanttConfig:function(o){var u=c.mixin({},o);return u.columns&&(u.columns=u.columns.map(function(r){var i=c.mixin({},r);return delete i.editor,i})),delete u.editor_types,u},_sendToExport:function(o,u){var r=c.date.date_to_str(c.config.date_format||c.config.xml_date);if(o.config&&(o.config=c.copy(c.ext.export_api._serializableGanttConfig(o.config)),c.ext.export_api._markColumns(o,u),o.config.start_date&&o.config.end_date&&(o.config.start_date instanceof Date&&(o.config.start_date=r(o.config.start_date)),o.config.end_date instanceof Date&&(o.config.end_date=r(o.config.end_date)))),c.env.isNode){var i=o.server||c.ext.export_api._apiUrl,e={type:u,store:0,data:JSON.stringify(o)},t=o.callback||function(a){console.log(a)};return c.ext.export_api._xdr(i,e,t)}if(o.callback)return c.ext.export_api._ajaxToExport(o,u,o.callback);var n=c.ext.export_api._createHiddenForm();n.firstChild.action=o.server||c.ext.export_api._apiUrl,n.firstChild.childNodes[0].value=JSON.stringify(o),n.firstChild.childNodes[1].value=u,n.firstChild.submit()},_createHiddenForm:function(){if(!c.ext.export_api._hidden_export_form){var o=c.ext.export_api._hidden_export_form=document.createElement("div");o.style.display="none",o.innerHTML="<form method='POST' target='_blank'><textarea name='data' style='width:0px; height:0px;' readonly='true'></textarea><input type='hidden' name='type' value=''></form>",document.body.appendChild(o)}return c.ext.export_api._hidden_export_form},_copyObjectBase:function(o){var u={start_date:void 0,end_date:void 0};for(var r in o)r.charAt(0)!=="$"&&(u[r]=o[r]);var i=c.templates.xml_format||c.templates.format_date;return u.start_date=i(u.start_date),u.end_date&&(u.end_date=i(u.end_date)),u},_color_box:null,_color_hash:{},_getStyles:function(o){if(c.ext.export_api._color_box||(c.ext.export_api._color_box=document.createElement("DIV"),c.ext.export_api._color_box.style.cssText="position:absolute; display:none;",document.body.appendChild(c.ext.export_api._color_box)),c.ext.export_api._color_hash[o])return c.ext.export_api._color_hash[o];c.ext.export_api._color_box.className=o;var u=c.ext.export_api._getColor(c.ext.export_api._color_box,"color"),r=c.ext.export_api._getColor(c.ext.export_api._color_box,"backgroundColor");return c.ext.export_api._color_hash[o]=u+";"+r},_getMinutesWorktimeSettings:function(o){var u=[];return o.forEach(function(r){u.push(r.startMinute),u.push(r.endMinute)}),u},_getWorktimeSettings:function(){var o,u={hours:[0,24],minutes:null,dates:{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0}};if(c.config.work_time){var r=c._working_time_helper;if(r&&r.get_calendar)o=r.get_calendar();else if(r)o={hours:r.hours,minutes:null,dates:r.dates};else if(c.config.worktimes&&c.config.worktimes.global){var i=c.config.worktimes.global;if(i.parsed){var e=c.ext.export_api._getMinutesWorktimeSettings(i.parsed.hours);for(var t in o={hours:null,minutes:e,dates:{}},i.parsed.dates)Array.isArray(i.parsed.dates[t])?o.dates[t]=c.ext.export_api._getMinutesWorktimeSettings(i.parsed.dates[t]):o.dates[t]=i.parsed.dates[t]}else o={hours:i.hours,minutes:null,dates:i.dates}}else o=u}else o=u;return o},_eachTaskTimed:function(o,u){return function(r,i,e){i=i||c.config.root_id,e=e||c;var t=c.getChildren(i);if(t)for(var n=0;n<t.length;n++){var a=c._pull[t[n]];(!o||a.end_date>o)&&(!u||a.start_date<u)&&r.call(e,a),c.hasChild(a.id)&&c.eachTask(r,a.id,e)}}},_originalCopyObject:c.json._copyObject,_copyObjectPlain:function(o){var u=c.templates.task_text(o.start_date,o.end_date,o),r=c.ext.export_api._copyObjectBase(o);return r.text=u||r.text,r},_getColor:function(o,u){var r=o.currentStyle?o.currentStyle[u]:getComputedStyle(o,null)[u],i=r.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return(i&&i.length===4?("0"+parseInt(i[1],10).toString(16)).slice(-2)+("0"+parseInt(i[2],10).toString(16)).slice(-2)+("0"+parseInt(i[3],10).toString(16)).slice(-2):r).replace("#","")},_copyObjectTable:function(o){var u=c.date.date_to_str("%Y-%m-%dT%H:%i:%s.000Z"),r=c.ext.export_api._copyObjectColumns(o,c.ext.export_api._copyObjectPlain(o));r.start_date&&(r.start_date=u(o.start_date)),r.end_date&&(r.end_date=u(o.end_date));var i=c._day_index_by_date?c._day_index_by_date:c.columnIndexByDate;r.$start=i.call(c,o.start_date),r.$end=i.call(c,o.end_date);var e=0,t=c.getScale().width;if(t.indexOf(0)>-1){for(var n=0;n<r.$start;n++)t[n]||e++;for(r.$start-=e;n<r.$end;n++)t[n]||e++;r.$end-=e}r.$level=o.$level,r.$type=o.$rendered_type;var a=c.templates;return r.$text=a.task_text(o.start,o.end_date,o),r.$left=a.leftside_text?a.leftside_text(o.start,o.end_date,o):"",r.$right=a.rightside_text?a.rightside_text(o.start,o.end_date,o):"",r},_copyObjectColors:function(o){var u=c.ext.export_api._copyObjectTable(o),r=c.getTaskNode(o.id);if(r&&r.firstChild){var i=c.ext.export_api._getColor(c._no_progress_colors?r:r.firstChild,"backgroundColor");i==="363636"&&(i=c.ext.export_api._getColor(r,"backgroundColor")),u.$color=i}else o.color&&(u.$color=o.color);return u},_copyObjectColumns:function(o,u){for(var r=0;r<c.config.columns.length;r++){var i=c.config.columns[r].template;if(i){var e=i(o);e instanceof Date&&(e=c.templates.date_grid(e,o)),u["_"+r]=e}}return u},_copyObjectAll:function(o){for(var u=c.ext.export_api._copyObjectBase(o),r=["leftside_text","rightside_text","task_text","progress_text","task_class"],i=0;i<r.length;i++){var e=c.templates[r[i]];e&&(u["$"+i]=e(o.start_date,o.end_date,o))}return c.ext.export_api._copyObjectColumns(o,u),u.open=o.$open,u},_serializeHtml:function(){var o=c.config.smart_scales,u=c.config.smart_rendering;(o||u)&&(c.config.smart_rendering=!1,c.config.smart_scales=!1,c.render());var r=c.$container.parentNode.innerHTML;return(o||u)&&(c.config.smart_scales=o,c.config.smart_rendering=u,c.render()),r},_serializeAll:function(){c.json._copyObject=c.ext.export_api._copyObjectAll;var o=c.ext.export_api._exportSerialize();return c.json._copyObject=c.ext.export_api._originalCopyObject,o},_serializePlain:function(){var o=c.templates.xml_format,u=c.templates.format_date;c.templates.xml_format=c.date.date_to_str("%Y%m%dT%H%i%s",!0),c.templates.format_date=c.date.date_to_str("%Y%m%dT%H%i%s",!0),c.json._copyObject=c.ext.export_api._copyObjectPlain;var r=c.ext.export_api._exportSerialize();return c.templates.xml_format=o,c.templates.format_date=u,c.json._copyObject=c.ext.export_api._originalCopyObject,delete r.links,r},_getRaw:function(){if(c._scale_helpers){var o=c._get_scales(),u=c.config.min_column_width,r=c._get_resize_options().x?Math.max(c.config.autosize_min_width,0):c.config.$task.offsetWidth,i=c.config.config.scale_height-1;return c._scale_helpers.prepareConfigs(o,u,r,i)}var e=c.$ui.getView("timeline");if(e){var t=e.$config.width;c.config.autosize!=="x"&&c.config.autosize!=="xy"||(t=Math.max(c.config.autosize_min_width,0));var n=c.getState(),a=(o=e._getScales(),u=c.config.min_column_width,i=c.config.scale_height-1,c.config.rtl);return e.$scaleHelper.prepareConfigs(o,u,t,i,n.min_date,n.max_date,a)}},_serializeTable:function(o){c.json._copyObject=o.visual?c.ext.export_api._copyObjectColors:c.ext.export_api._copyObjectTable;var u=c.ext.export_api._exportSerialize();if(c.json._copyObject=c.ext.export_api._originalCopyObject,delete u.links,o.cellColors){var r=c.templates.timeline_cell_class||c.templates.task_cell_class;if(r){for(var i=c.ext.export_api._getRaw(),e=i[0].trace_x,t=1;t<i.length;t++)i[t].trace_x.length>e.length&&(e=i[t].trace_x);for(t=0;t<u.data.length;t++){u.data[t].styles=[];for(var n=c.getTask(u.data[t].id),a=0;a<e.length;a++){var s=r(n,e[a]);s&&u.data[t].styles.push({index:a,styles:c.ext.export_api._getStyles(s)})}}}}return u},_serializeScales:function(o){for(var u=[],r=c.ext.export_api._getRaw(),i=1/0,e=0,t=0;t<r.length;t++)i=Math.min(i,r[t].col_width);for(t=0;t<r.length;t++){var n=0,a=0,s=[];u.push(s);var f=r[t];e=Math.max(e,f.trace_x.length);for(var _=f.format||f.template||(f.date?c.date.date_to_str(f.date):c.config.date_scale),m=0;m<f.trace_x.length;m++){var y=f.trace_x[m];a=n+Math.round(f.width[m]/i);var b={text:_(y),start:n,end:a,styles:""};if(o.cellColors){var k=f.css||c.templates.scaleCell_class;if(k){var x=k(y);x&&(b.styles=c.ext.export_api._getStyles(x))}}s.push(b),n=a}}return{width:e,height:u.length,data:u}},_serializeColumns:function(o){c.exportMode=!0;for(var u=[],r=c.config.columns,i=0,e=0;e<r.length;e++)r[e].name!=="add"&&r[e].name!=="buttons"&&(u[i]={id:r[e].template?"_"+e:r[e].name,header:r[e].label||c.locale.labels["column_"+r[e].name],width:r[e].width?Math.floor(r[e].width/4):""},r[e].name==="duration"&&(u[i].type="number"),r[e].name!=="start_date"&&r[e].name!=="end_date"||(u[i].type="date",o&&o.rawDates&&(u[i].id=r[e].name)),i++);return c.exportMode=!1,u},_exportSerialize:function(){c.exportMode=!0;var o=c.templates.xml_format,u=c.templates.format_date;c.templates.xml_format=c.templates.format_date=c.date.date_to_str(c.config.date_format||c.config.xml_date);var r=c.serialize();return c.templates.xml_format=o,c.templates.format_date=u,c.exportMode=!1,r},_setLevel:function(o){for(var u=0;u<o.length;u++){o[u].parent==0&&(o[u]._lvl=1);for(var r=u+1;r<o.length;r++)o[u].id==o[r].parent&&(o[r]._lvl=o[u]._lvl+1)}},_clearLevel:function(o){for(var u=0;u<o.length;u++)delete o[u]._lvl},_clearRecLinks:function(o){c.ext.export_api._setLevel(o.data);for(var u={},r=0;r<o.data.length;r++)u[o.data[r].id]=o.data[r];var i={};for(r=0;r<o.links.length;r++){var e=o.links[r];c.isTaskExists(e.source)&&c.isTaskExists(e.target)&&u[e.source]&&u[e.target]&&(i[e.id]=e)}for(var t in i)c.ext.export_api._makeLinksSameLevel(i[t],u);var n={};for(var t in u)c.ext.export_api._clearCircDependencies(u[t],i,u,{},n,null);for(Object.keys(i)&&c.ext.export_api._clearLinksSameLevel(i,u),r=0;r<o.links.length;r++)i[o.links[r].id]||(o.links.splice(r,1),r--);c.ext.export_api._clearLevel(o.data)},_clearCircDependencies:function(o,u,r,i,e,t){var n=o.$_source;if(n){i[o.id]&&c.ext.export_api._onCircDependencyFind(t,u,i,e),i[o.id]=!0;for(var a={},s=0;s<n.length;s++)if(!e[n[s]]){var f=u[n[s]],_=r[f._target];a[_.id]&&c.ext.export_api._onCircDependencyFind(f,u,i,e),a[_.id]=!0,c.ext.export_api._clearCircDependencies(_,u,r,i,e,f)}i[o.id]=!1}},_onCircDependencyFind:function(o,u,r,i){o&&(c.callEvent("onExportCircularDependency",[o.id,o])&&delete u[o.id],delete r[o._source],delete r[o._target],i[o.id]=!0)},_makeLinksSameLevel:function(o,u){var r,i,e={target:u[o.target],source:u[o.source]};if(e.target._lvl!=e.source._lvl){e.target._lvl<e.source._lvl?(r="source",i=e.target._lvl):(r="target",i=e.source._lvl);do{var t=u[e[r].parent];if(!t)break;e[r]=t}while(e[r]._lvl<i);for(var n=u[e.source.parent],a=u[e.target.parent];n&&a&&n.id!=a.id;)e.source=n,e.target=a,n=u[e.source.parent],a=u[e.target.parent]}o._target=e.target.id,o._source=e.source.id,e.target.$_target||(e.target.$_target=[]),e.target.$_target.push(o.id),e.source.$_source||(e.source.$_source=[]),e.source.$_source.push(o.id)},_clearLinksSameLevel:function(o,u){for(var r in o)delete o[r]._target,delete o[r]._source;for(var i in u)delete u[i].$_source,delete u[i].$_target},_customProjectProperties:function(o,u){if(u&&u.project){for(var r in u.project)c.config.$custom_data||(c.config.$custom_data={}),c.config.$custom_data[r]=typeof u.project[r]=="function"?u.project[r](c.config):u.project[r];delete u.project}},_customTaskProperties:function(o,u){u&&u.tasks&&(o.data.forEach(function(r){for(var i in u.tasks)r.$custom_data||(r.$custom_data={}),r.$custom_data[i]=typeof u.tasks[i]=="function"?u.tasks[i](r,c.config):u.tasks[i]}),delete u.tasks)},_exportConfig:function(o,u){var r=u.name||"gantt.xml";delete u.name,c.config.custom=u;var i=c.ext.export_api._getWorktimeSettings(),e=c.getSubtaskDates();if(e.start_date&&e.end_date){var t=c.templates.format_date||c.templates.xml_format;c.config.start_end={start_date:t(e.start_date),end_date:t(e.end_date)}}var n=u.auto_scheduling!==void 0&&!!u.auto_scheduling,a={callback:u.callback||null,config:c.config,data:o,manual:n,name:r,worktime:i};for(var s in u)a[s]=u[s];return a},_sendImportAjaxMSP:function(o){var u=o.server||c.ext.export_api._apiUrl,r=o.store||0,i=o.data,e=o.callback,t={durationUnit:o.durationUnit||void 0,projectProperties:o.projectProperties||void 0,taskProperties:o.taskProperties||void 0};i.append("type",o.type||"msproject-parse"),i.append("data",JSON.stringify(t)),r&&i.append("store",r);var n=new XMLHttpRequest;n.onreadystatechange=function(a){n.readyState===4&&n.status===0&&e&&e(null)},n.onload=function(){var a=null;if(!(n.status>400))try{a=JSON.parse(n.responseText)}catch{}e&&e(a)},n.open("POST",u,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(i)}},c.exportToPDF=c.ext.export_api.exportToPDF,c.exportToPNG=c.ext.export_api.exportToPNG,c.exportToICal=c.ext.export_api.exportToICal,c.exportToExcel=c.ext.export_api.exportToExcel,c.exportToJSON=c.ext.export_api.exportToJSON,c.importFromExcel=c.ext.export_api.importFromExcel,c.importFromMSProject=c.ext.export_api.importFromMSProject,c.exportToMSProject=c.ext.export_api.exportToMSProject,c.importFromPrimaveraP6=c.ext.export_api.importFromPrimaveraP6,c.exportToPrimaveraP6=c.ext.export_api.exportToPrimaveraP6}}).call(this,l(13).Buffer)},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h=function(){function c(o){var u=this;this._mouseDown=!1,this._calculateDirectionVector=function(){if(u._trace.length>=10){for(var r=u._trace.slice(u._trace.length-10),i=[],e=1;e<r.length;e++)i.push({x:r[e].x-r[e-1].x,y:r[e].y-r[e-1].y});var t={x:0,y:0};return i.forEach(function(n){t.x+=n.x,t.y+=n.y}),{magnitude:Math.sqrt(t.x*t.x+t.y*t.y),angleDegrees:180*Math.atan2(Math.abs(t.y),Math.abs(t.x))/Math.PI}}return null},this._applyDndReadyStyles=function(){u._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=function(){u._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=function(r){var i=u._gantt;return{x:i.$ui.getView(r.$config.scrollX).getScrollState().position,y:i.$ui.getView(r.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=function(r){var i=u._calculateDirectionVector(),e=u._startPoint.x-r.x,t=u._startPoint.y-r.y;return i&&(i.angleDegrees<15?t=0:i.angleDegrees>75&&(e=0)),{x:u._scrollState.x+e,y:u._scrollState.y+t}},this._setScrollPosition=function(r,i){var e=u._gantt;requestAnimationFrame(function(){e.scrollLayoutCell(r.$id,i.x,i.y)})},this._stopDrag=function(r){var i=u._gantt;if(u._trace=[],i.$root.classList.remove("gantt_noselect"),u._originalReadonly!==void 0&&(i.config.readonly=u._originalReadonly,u._mouseDown&&i.config.drag_timeline&&i.config.drag_timeline.render&&i.render()),u._originAutoscroll!==void 0&&(i.config.autoscroll=u._originAutoscroll),i.config.drag_timeline){var e=i.config.drag_timeline.useKey;if(e&&r[e]!==!0)return}u._mouseDown=!1},this._startDrag=function(r){var i=u._gantt;u._originAutoscroll=i.config.autoscroll,i.config.autoscroll=!1,i.$root.classList.add("gantt_noselect"),u._originalReadonly=i.config.readonly,i.config.readonly=!0,i.config.drag_timeline&&i.config.drag_timeline.render&&i.render(),u._trace=[],u._mouseDown=!0;var e=u._getScrollPosition(u._timeline),t=e.x,n=e.y;u._scrollState={x:t,y:n},u._startPoint={x:r.clientX,y:r.clientY},u._trace.push(u._startPoint)},this._gantt=o,this._domEvents=o._createDomEventScope(),this._trace=[]}return c.create=function(o){return new c(o)},c.prototype.destructor=function(){this._domEvents.detachAll()},c.prototype.attach=function(o){var u=this;this._timeline=o;var r=this._gantt;this._domEvents.attach(o.$task,"mousedown",function(i){if(r.config.drag_timeline){var e=r.config.drag_timeline,t=e.useKey,n=e.ignore;if(e.enabled!==!1){var a=".gantt_task_line, .gantt_task_link";n!==void 0&&(a=n instanceof Array?n.join(", "):n),a&&r.utils.dom.closest(i.target,a)||t&&i[t]!==!0||u._startDrag(i)}}}),this._domEvents.attach(document,"keydown",function(i){if(r.config.drag_timeline){var e=r.config.drag_timeline.useKey;e&&i[e]===!0&&u._applyDndReadyStyles()}}),this._domEvents.attach(document,"keyup",function(i){if(r.config.drag_timeline){var e=r.config.drag_timeline.useKey;e&&i[e]===!1&&(u._clearDndReadyStyles(),u._stopDrag(i))}}),this._domEvents.attach(document,"mouseup",function(i){u._stopDrag(i)}),this._domEvents.attach(r.$root,"mouseup",function(i){u._stopDrag(i)}),this._domEvents.attach(document,"mouseleave",function(i){u._stopDrag(i)}),this._domEvents.attach(r.$root,"mouseleave",function(i){u._stopDrag(i)}),this._domEvents.attach(r.$root,"mousemove",function(i){if(r.config.drag_timeline){var e=r.config.drag_timeline.useKey;if(!e||i[e]===!0){var t=u._gantt.ext.clickDrag,n=(u._gantt.config.click_drag||{}).useKey;if((!t||!n||e||!i[n])&&u._mouseDown===!0){u._trace.push({x:i.clientX,y:i.clientY});var a=u._countNewScrollPosition({x:i.clientX,y:i.clientY});u._setScrollPosition(o,a),u._scrollState=a,u._startPoint={x:i.clientX,y:i.clientY}}}}})},c}();v.EventsManager=h},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h=l(295);v.default=function(c){c.ext||(c.ext={}),c.ext.dragTimeline={create:function(){return h.EventsManager.create(c)}},c.config.drag_timeline={enabled:!0,render:!1}}},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h=l(5),c=l(2),o=function(){function u(r,i,e){var t=this;this._el=document.createElement("div"),this.defaultRender=function(n,a){t._el||(t._el=document.createElement("div"));var s=t._el,f=Math.min(n.relative.top,a.relative.top),_=Math.max(n.relative.top,a.relative.top),m=Math.min(n.relative.left,a.relative.left),y=Math.max(n.relative.left,a.relative.left);if(t._singleRow){var b=t._getTaskPositionByTop(t._startPoint.relative.top);s.style.height=b.height+"px",s.style.top=b.top+"px"}else s.style.height=Math.abs(_-f)+"px",s.style.top=f+"px";return s.style.width=Math.abs(y-m)+"px",s.style.left=m+"px",s},this._gantt=i,this._view=e,this._viewPort=r.viewPort,this._el.classList.add(r.className),typeof r.callback=="function"&&(this._callback=r.callback),this.render=function(){var n;(n=r.render?r.render(t._startPoint,t._endPoint):t.defaultRender(t._startPoint,t._endPoint))!==t._el&&(t._el&&t._el.parentNode&&t._el.parentNode.removeChild(t._el),t._el=n),r.className!==""&&t._el.classList.add(r.className),t.draw()},c.isEventable(this._viewPort)||h(this._viewPort),this._singleRow=r.singleRow,this._useRequestAnimationFrame=r.useRequestAnimationFrame}return u.prototype.draw=function(){var r=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){r._viewPort.appendChild(r.getElement())});this._viewPort.appendChild(this.getElement())},u.prototype.clear=function(){var r=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){r._el.parentNode&&r._viewPort.removeChild(r._el)});this._el.parentNode&&this._viewPort.removeChild(this._el)},u.prototype.getElement=function(){return this._el},u.prototype.getViewPort=function(){return this._viewPort},u.prototype.setStart=function(r){var i=this._gantt;this._startPoint=r,this._startDate=i.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])},u.prototype.setEnd=function(r){var i=this._gantt;if(this._endPoint=r,this._singleRow){var e=this._getTaskPositionByTop(this._startPoint.relative.top);this._endPoint.relative.top=e.top}this._endDate=i.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])},u.prototype.setPosition=function(r){this._positionPoint=r},u.prototype.dragEnd=function(r){var i,e=this._gantt;r.relative.left<0&&(r.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,r]),this.setEnd(r),this._endDate=this._endDate||e.getState().max_date,this._startDate.valueOf()>this._endDate.valueOf()&&(i=[this._endDate,this._startDate],this._startDate=i[0],this._endDate=i[1]),this.clear();var t=e.getTaskByTime(this._startDate,this._endDate),n=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,t,n)},u.prototype.getInBounds=function(){return this._singleRow},u.prototype._getTasksByTop=function(r,i){var e=this._gantt,t=r,n=i;r>i&&(t=i,n=r);for(var a=this._getTaskPositionByTop(t).index,s=this._getTaskPositionByTop(n).index,f=[],_=a;_<=s;_++)e.getTaskByIndex(_)&&f.push(e.getTaskByIndex(_));return f},u.prototype._getTaskPositionByTop=function(r){var i=this._gantt,e=this._view,t=e.getItemIndexByTopPosition(r),n=i.getTaskByIndex(t);if(n){var a=e.getItemHeight(n.id);return{top:e.getItemTop(n.id)||0,height:a||0,index:t}}var s=e.getTotalHeight();return{top:r>s?s:0,height:i.config.row_height,index:r>s?i.getTaskCount():0}},u}();v.SelectedRegion=o},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h=l(1),c=function(){function o(u){this._mouseDown=!1,this._gantt=u,this._domEvents=u._createDomEventScope()}return o.prototype.attach=function(u,r,i){var e=this,t=this._gantt,n=u.getViewPort();this._originPosition=window.getComputedStyle(n).display,this._restoreOriginPosition=function(){n.style.position=e._originPosition},this._originPosition==="static"&&(n.style.position="relative");var a=t.$services.getService("state");a.registerProvider("clickDrag",function(){return{autoscroll:!1}});var s=null;this._domEvents.attach(n,"mousedown",function(_){s=null;var m=".gantt_task_line, .gantt_task_link";i!==void 0&&(m=i instanceof Array?i.join(", "):i),m&&t.utils.dom.closest(_.target,m)||(a.registerProvider("clickDrag",function(){return{autoscroll:e._mouseDown}}),r&&_[r]!==!0||(s=e._getCoordinates(_,u)))});var f=h.getRootNode(t.$root)||document.body;this._domEvents.attach(f,"mouseup",function(_){if(s=null,(!r||_[r]===!0)&&e._mouseDown===!0){e._mouseDown=!1;var m=e._getCoordinates(_,u);u.dragEnd(m)}}),this._domEvents.attach(n,"mousemove",function(_){if(!r||_[r]===!0){var m=e._gantt.ext.clickDrag,y=(e._gantt.config.drag_timeline||{}).useKey;if(!m||!y||r||!_[y]){var b=null;if(!e._mouseDown&&s)return b=e._getCoordinates(_,u),void(Math.abs(s.relative.left-b.relative.left)>5&&s&&(e._mouseDown=!0,u.setStart(t.copy(s)),u.setPosition(t.copy(s)),u.setEnd(t.copy(s)),s=null));e._mouseDown===!0&&(b=e._getCoordinates(_,u),u.setEnd(b),u.render())}}})},o.prototype.detach=function(){var u=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),u.$services.getService("state").unregisterProvider("clickDrag")},o.prototype.destructor=function(){this.detach()},o.prototype._getCoordinates=function(u,r){var i=r.getViewPort(),e=i.getBoundingClientRect(),t=u.clientX,n=u.clientY;return{absolute:{left:t,top:n},relative:{left:t-e.left+i.scrollLeft,top:n-e.top+i.scrollTop}}},o}();v.EventsManager=c},function(p,v,l){var h=this&&this.__assign||function(){return(h=Object.assign||function(u){for(var r,i=1,e=arguments.length;i<e;i++)for(var t in r=arguments[i])Object.prototype.hasOwnProperty.call(r,t)&&(u[t]=r[t]);return u}).apply(this,arguments)};Object.defineProperty(v,"__esModule",{value:!0});var c=l(298),o=l(297);v.default=function(u){u.ext||(u.ext={});var r={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1},i=new c.EventsManager(u);u.ext.clickDrag=i,u.attachEvent("onGanttReady",function(){var e=h({viewPort:u.$task_data},r);if(u.config.click_drag){var t=u.config.click_drag;e.render=t.render||r.render,e.className=t.className||r.className,e.callback=t.callback||r.callback,e.viewPort=t.viewPort||u.$task_data,e.useRequestAnimationFrame=t.useRequestAnimationFrame===void 0?r.useRequestAnimationFrame:t.useRequestAnimationFrame,e.singleRow=t.singleRow===void 0?r.singleRow:t.singleRow;var n=u.$ui.getView("timeline"),a=new o.SelectedRegion(e,u,n);u.ext.clickDrag.attach(a,t.useKey,t.ignore)}}),u.attachEvent("onDestroy",function(){i.destructor()})}},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h=l(299),c=l(296),o=l(294),u=l(274),r=l(273),i=l(262),e=l(261),t=l(260),n=l(258),a=l(255);v.default={click_drag:h.default,drag_timeline:c.default,fullscreen:u.default,keyboard_navigation:r,quick_info:t.default,tooltip:n.default,undo:a.default,marker:i,multiselect:e,export_api:o.default}},function(p,v,l){Object.defineProperty(v,"__esModule",{value:!0});var h=l(300),c=l(252),o=l(21).gantt=c(h.default);v.gantt=o,v.default=o}])})})(wl);var yt=wl.exports;const Sn=d=>{d==="hour"?(yt.gantt.config.scale_unit="day",yt.gantt.config.date_scale="%Y-%m-%d",yt.gantt.config.subscales=[{unit:"hour",step:1,date:"%H:%i"}]):d==="day"?(yt.gantt.config.scale_unit="week",yt.gantt.config.date_scale=" %W ",yt.gantt.config.subscales=[{unit:"day",step:1,date:"%m/%d"}]):d==="week"?(yt.gantt.config.scale_unit="month",yt.gantt.config.date_scale="%Y-%m",yt.gantt.config.subscales=[{unit:"week",step:1,date:" %W "}]):d==="month"&&(yt.gantt.config.scale_unit="year",yt.gantt.config.date_scale="%Y",yt.gantt.config.subscales=[{unit:"month",step:1,date:"%m"}]),yt.gantt.config.scale_height=60,yt.gantt.render()},cr=d=>new Date(d),Pr=d=>{if(!d)return"";const g=new Date(d);if(isNaN(g.getTime()))return"";const p=g.getFullYear(),v=String(g.getMonth()+1).padStart(2,"0"),l=String(g.getDate()).padStart(2,"0"),h=String(g.getHours()).padStart(2,"0"),c=String(g.getMinutes()).padStart(2,"0");return`${p}-${v}-${l} ${h}:${c}`},E_=()=>["#FF9999","#99CCFF","#99FF99","#FFCC99","#CC99FF","#FFB6C1","#FFD700","#7FFFD4","#FF69B4","#20B2AA","#87CEFA","#32CD32","#FFA07A","#9370DB","#40E0D0","#FF6347","#8FBC8F","#6495ED","#F08080","#48D1CC","#BA55D3","#BDB76B","#00CED1","#FF4500","#228B22","#8B0000"],fo=he({__name:"GanttChart",props:{data:{},config:{default:()=>({})}},setup(d,{expose:g}){const p=d,v=bt();let l=!1;const h=()=>{!v.value||l||(Object.assign(yt.gantt.config,{xml_date:"%Y-%m-%d %H:%i",show_links:!0,show_progress:!1,...p.config}),yt.gantt.init(v.value),l=!0)},c=()=>{l&&(yt.gantt.clearAll(),yt.gantt.parse(p.data))};return rn(()=>p.data,c,{deep:!0}),rn(()=>p.config,o=>{l&&(Object.assign(yt.gantt.config,o),yt.gantt.render())},{deep:!0}),De(()=>{h(),p.data.data.length>0&&c()}),eo(()=>{l&&(yt.gantt.clearAll(),l=!1)}),g({gantt:yt.gantt}),(o,u)=>(kt(),xt("div",{ref_key:"ganttContainer",ref:v,class:"gantt-container"},null,512))}}),$_={class:"btn-group me-3",role:"group"},C_=["onClick"],A_=he({__name:"ScaleSelector",props:{currentScale:{}},emits:["scale-change"],setup(d){const g=[{value:"hour",label:"",icon:"fas fa-clock"},{value:"day",label:"",icon:"fas fa-calendar-day"},{value:"week",label:"",icon:"fas fa-calendar-week"},{value:"month",label:"",icon:"fas fa-calendar-alt"}];return(p,v)=>(kt(),xt("div",$_,[(kt(),xt(Nt,null,fe(g,l=>L("button",{key:l.value,class:Bt(["btn btn-outline-primary btn-sm",{active:d.currentScale===l.value}]),onClick:h=>p.$emit("scale-change",l.value)},[L("i",{class:Bt(l.icon)},null,2),qt(" "+mt(l.label),1)],10,C_)),64))]))}}),ho=Tn(A_,[["__scopeId","data-v-53be1635"]]),D_={class:"d-flex flex-wrap align-items-center gap-2 mb-3"},I_={class:"d-flex align-items-center gap-2"},P_=["value"],M_=he({__name:"LotGanttView",setup(d){tr();const g=bt([]),p=bt([]),v=bt("day"),l=bt("ALL"),h=bt({}),c=bt(null),o=E_(),u=Et(()=>[...new Set(g.value.map(a=>a.Product))].sort()),r=Et(()=>{const a=[],s=[];let f=1;const _={},m={},y=[...new Set(p.value.map(b=>b.LotId))];return y.forEach(b=>{var S;const k=((S=p.value.find(T=>T.LotId===b))==null?void 0:S.Product)||"",x=h.value[k]||"#6c757d",w=f++;a.push({id:w,text:b,open:!1,type:"project",color:x,product:k}),_[b]=w}),p.value.forEach(b=>{const k=f++,x=h.value[b.Product]||"#cccccc";a.push({id:k,text:`${b.Step} (${b.Machine})`,start_date:cr(b.Start),end_date:cr(b.End),color:x,parent:_[b.LotId],lot:b.LotId,step:b.Step,product:b.Product}),m[`${b.LotId}_${b.Step}`]=k}),y.forEach(b=>{const k=p.value.filter(x=>x.LotId===b);k.sort((x,w)=>cr(x.Start).getTime()-cr(w.Start).getTime());for(let x=0;x<k.length-1;x++){const w=m[`${k[x].LotId}_${k[x].Step}`],S=m[`${k[x+1].LotId}_${k[x+1].Step}`];w&&S&&s.push({id:f++,source:w,target:S,type:"0"})}}),{data:a,links:s}}),i=Et(()=>({columns:[{name:"text",label:" / ",tree:!0,width:200},{name:"start_date",label:"",align:"center",width:150}],xml_date:"%Y-%m-%d %H:%i",show_links:!0,show_progress:!1,scale_unit:yt.gantt.config.scale_unit,date_scale:yt.gantt.config.date_scale,subscales:yt.gantt.config.subscales,scale_height:yt.gantt.config.scale_height})),e=async()=>{try{const s=(await Ht.get("http://127.0.0.1:5000/get_json/Lot_Plan_result/LotStepResult_New.json")).data;[...new Set(s.map(_=>_.Product))].forEach((_,m)=>{h.value[_]=o[m%o.length]}),g.value=s,t()}catch(a){console.error("",a),alert("")}},t=()=>{p.value=l.value==="ALL"?g.value:g.value.filter(a=>a.Product===l.value)},n=a=>{v.value=a,Sn(a)};return De(()=>{yt.gantt.plugins({tooltip:!0}),yt.gantt.templates.tooltip_text=function(a,s,f){const _=yt.gantt.date.date_to_str("%Y-%m-%d %H:%i");return`<b>${f.text}</b><br>${_(a)} ~ ${_(s)}`},yt.gantt.templates.task_class=function(a,s,f){return f.type==="project"&&setTimeout(()=>{const _=yt.gantt.getTaskNode(f.id);if(_){const m=_.querySelector(".gantt_tree_content");m&&(m.style.backgroundColor=f.color||"")}},0),""},Sn(v.value),e()}),(a,s)=>(kt(),xt(Nt,null,[L("div",D_,[s[3]||(s[3]=L("h2",null,[L("i",{class:"fas fa-diagram-project"}),qt(" Lot Process ")],-1)),Ct(ho,{"current-scale":v.value,onScaleChange:n},null,8,["current-scale"]),L("div",I_,[s[2]||(s[2]=L("label",{for:"productFilter",class:"fw-semibold mb-0"},[L("i",{class:"fas fa-filter"}),qt("  ")],-1)),zt(L("select",{id:"productFilter",class:"form-select form-select-sm",style:{width:"150px"},"onUpdate:modelValue":s[0]||(s[0]=f=>l.value=f),onChange:t},[s[1]||(s[1]=L("option",{value:"ALL"},"",-1)),(kt(!0),xt(Nt,null,fe(u.value,f=>(kt(),xt("option",{key:f,value:f},mt(f),9,P_))),128))],544),[[an,l.value]])])]),Ct(fo,{data:r.value,config:i.value,ref_key:"ganttRef",ref:c},null,8,["data","config"])],64))}}),R_={class:"d-flex flex-wrap align-items-center gap-2 mb-3"},O_={class:"d-flex align-items-center gap-2"},N_=["value"],L_=he({__name:"MachineGanttView",setup(d){tr();const g=bt([]),p=bt([]),v=bt("day"),l=bt("ALL"),h=bt(null),c=Et(()=>[...new Set(g.value.map(t=>t.Machine))].sort()),o=Et(()=>{const t=[];let n=1;return p.value.forEach(a=>{const s=n++;t.push({id:s,text:a.Machine,open:!0}),a.Segments&&a.Segments.forEach(f=>{t.push({id:n++,text:`${f.LotId} (${f.Step})`,start_date:Pr(f.Start),end_date:Pr(f.End),parent:s,lot:f.LotId,step:f.Step,product:f.Product})})}),{data:t,links:[]}}),u=Et(()=>({xml_date:"%Y-%m-%d %H:%i:%s",layout:{css:"gantt_container",rows:[{cols:[{view:"grid",width:300,scrollY:"scrollVer"},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},scale_unit:yt.gantt.config.scale_unit,date_scale:yt.gantt.config.date_scale,subscales:yt.gantt.config.subscales,scale_height:yt.gantt.config.scale_height})),r=async()=>{try{const t=await Ht.get("http://127.0.0.1:5000/get_json/machine_usage.json");g.value=t.data,i()}catch(t){console.error(":",t)}},i=()=>{p.value=l.value==="ALL"?g.value:g.value.filter(t=>t.Machine===l.value)},e=t=>{v.value=t,Sn(t)};return De(()=>{yt.gantt.templates.task_text=function(t,n,a){return a.text},Sn(v.value),r()}),(t,n)=>(kt(),xt(Nt,null,[L("div",R_,[n[3]||(n[3]=L("h2",null,[L("i",{class:"fas fa-cogs"}),qt(" Machine Usage ")],-1)),Ct(ho,{"current-scale":v.value,onScaleChange:e},null,8,["current-scale"]),L("div",O_,[n[2]||(n[2]=L("label",{for:"machineFilter",class:"fw-semibold mb-0"},[L("i",{class:"fas fa-filter"}),qt("  ")],-1)),zt(L("select",{id:"machineFilter",class:"form-select form-select-sm",style:{width:"150px"},"onUpdate:modelValue":n[0]||(n[0]=a=>l.value=a),onChange:i},[n[1]||(n[1]=L("option",{value:"ALL"},"",-1)),(kt(!0),xt(Nt,null,fe(c.value,a=>(kt(),xt("option",{key:a,value:a},mt(a),9,N_))),128))],544),[[an,l.value]])])]),Ct(fo,{data:o.value,config:u.value,ref_key:"ganttRef",ref:h},null,8,["data","config"])],64))}}),j_={class:"d-flex flex-wrap align-items-center gap-2 mb-3"},F_={class:"d-flex align-items-center gap-2"},H_=["value"],B_=he({__name:"MachineUsageView",setup(d){tr();const g=bt([]),p=bt([]),v=bt("day"),l=bt("ALL"),h=bt(null),c=Et(()=>[...new Set(g.value.filter(t=>t.parent===null||t.parent===void 0).map(t=>t.text))].sort()),o=Et(()=>({data:p.value.map(n=>{const a={...n,start_date:Pr(n.start_date)};return n.duration!==void 0?delete a.end_date:a.end_date=Pr(n.end_date||""),a}),links:[]})),u=Et(()=>({duration_unit:"hour",date_format:"%Y-%m-%d %H:%i",columns:[{name:"text",label:"Machine",tree:!0,width:200},{name:"start_date",label:"Start",align:"center"}],scale_unit:yt.gantt.config.scale_unit,date_scale:yt.gantt.config.date_scale,subscales:yt.gantt.config.subscales,scale_height:yt.gantt.config.scale_height})),r=async()=>{try{const t=await Ht.get("http://127.0.0.1:5000/get_json/gantt/machineTaskSegment_New.json");let n=[];Array.isArray(t.data)?n=t.data:t.data&&t.data.data&&(n=t.data.data),g.value=n,i()}catch(t){console.error(":",t)}},i=()=>{p.value=l.value==="ALL"?g.value:g.value.filter(t=>t.parent===l.value||t.text===l.value)},e=t=>{v.value=t,Sn(t)};return De(()=>{yt.gantt.plugins({tooltip:!0}),yt.gantt.templates.tooltip_text=function(t,n,a){const s=yt.gantt.date.date_to_str("%Y-%m-%d %H:%i")(t),f=yt.gantt.date.date_to_str("%Y-%m-%d %H:%i")(n);return"<b>"+a.text+"</b><br/>Start: "+s+"<br/>End: "+f},yt.gantt.templates.task_class=function(t,n,a){let s="";return a.color&&(s+="task-"+a.color),s},Sn(v.value),r()}),(t,n)=>(kt(),xt(Nt,null,[L("div",j_,[n[3]||(n[3]=L("h2",null,[L("i",{class:"fas fa-chart-gantt"}),qt(" Machine Usage Gantt - Split Tasks")],-1)),Ct(ho,{"current-scale":v.value,onScaleChange:e},null,8,["current-scale"]),L("div",F_,[n[2]||(n[2]=L("label",{for:"machineFilter",class:"fw-semibold mb-0"},[L("i",{class:"fas fa-filter"}),qt("  ")],-1)),zt(L("select",{id:"machineFilter",class:"form-select form-select-sm",style:{width:"150px"},"onUpdate:modelValue":n[0]||(n[0]=a=>l.value=a),onChange:i},[n[1]||(n[1]=L("option",{value:"ALL"},"",-1)),(kt(!0),xt(Nt,null,fe(c.value,a=>(kt(),xt("option",{key:a,value:a},mt(a),9,H_))),128))],544),[[an,l.value]])])]),Ct(fo,{data:o.value,config:u.value,ref_key:"ganttRef",ref:h},null,8,["data","config"])],64))}}),U_={key:0,class:"row mb-4"},z_={class:"col-12"},V_={class:"card"},W_={class:"card-body p-0"},q_={class:"row g-0"},G_={class:"col-md-3 stat-col"},Y_={class:"mb-2"},J_={class:"stat-value"},K_={class:"mb-2"},X_={class:"stat-value"},Q_={class:"stat-value"},Z_={class:"col-md-3 stat-col"},tp={class:"mb-2"},ep={class:"stat-value small"},np={class:"stat-value"},rp={class:"col-md-3 stat-col"},ip={class:"mb-2"},op={class:"stat-value small"},ap={class:"mb-2"},sp={class:"stat-value small"},lp={class:"stat-value"},cp={class:"col-md-3 stat-col"},up={class:"d-flex flex-wrap gap-1"},dp={class:"badge bg-success"},fp={class:"badge bg-info"},hp={class:"badge bg-warning"},_p={class:"badge bg-danger"},pp={class:"d-flex flex-wrap align-items-center gap-3 mb-3"},gp={class:"d-flex align-items-center gap-2"},mp=["value"],vp={class:"d-flex align-items-center gap-2"},yp=["value"],bp={class:"d-flex align-items-center gap-2"},kp={class:"table-container"},wp={class:"table-responsive"},xp={class:"table table-striped table-hover"},Sp=he({__name:"LotPlanResultView",setup(d){tr();const g=bt([]),p=bt(null),v=bt("ALL"),l=bt("ALL"),h=bt("ALL"),c=Et(()=>[...new Set(g.value.map(n=>n.Lot))].sort()),o=Et(()=>[...new Set(g.value.map(n=>n.Product))].sort()),u=Et(()=>g.value.filter(n=>{const a=v.value==="ALL"||n.Lot===v.value,s=l.value==="ALL"||n.Product===l.value,f=h.value==="ALL"||t(n["delay time"]).statusText===h.value;return a&&s&&f})),r=async()=>{try{const n=await Ht.get("http://127.0.0.1:5000/get_json/Lot_Plan_result/Lot_Plan_Result.json");n.data.lot_results?(g.value=n.data.lot_results,p.value=n.data.statistics):(g.value=n.data,p.value=null)}catch(n){console.error("",n)}},i=n=>n?new Date(n).toLocaleString("zh-TW"):"",e=n=>{if(!n||n==="0:00")return 0;const a=n.startsWith("-"),f=(a?n.substring(1):n).split(":").map(Number);let _=0,m=0;if(f.length===2)[_,m]=f;else if(f.length===3){const[b,k,x]=f;_=Math.floor(b/24),m=b%24+k/60+x/3600}const y=_+m/24;return a?-y:y},t=n=>{const a=e(n);return a<0?{badgeClass:"bg-success",statusText:"",textColor:"text-success"}:a===0?{badgeClass:"bg-info",statusText:"",textColor:"text-info"}:a<=2?{badgeClass:"bg-warning",statusText:"",textColor:"text-warning"}:{badgeClass:"bg-danger",statusText:"",textColor:"text-danger"}};return De(r),(n,a)=>(kt(),xt(Nt,null,[L("div",{class:"d-flex flex-wrap align-items-center gap-2 mb-3"},[a[4]||(a[4]=L("h2",null,[L("i",{class:"fas fa-table"}),qt(" Lot Plan Result")],-1)),L("button",{class:"btn btn-primary btn-sm",onClick:r},[...a[3]||(a[3]=[L("i",{class:"fas fa-sync"},null,-1),qt("  ",-1)])])]),p.value?(kt(),xt("div",U_,[L("div",z_,[L("div",V_,[a[14]||(a[14]=L("div",{class:"card-header"},[L("h5",{class:"card-title mb-0"},[L("i",{class:"fas fa-chart-bar"}),qt(" ")])],-1)),L("div",W_,[L("div",q_,[L("div",G_,[L("div",Y_,[a[5]||(a[5]=L("span",{class:"stat-label"},"",-1)),L("span",J_,mt(p.value.optimization_type),1)]),L("div",K_,[a[6]||(a[6]=L("span",{class:"stat-label"},"",-1)),L("span",X_,mt(p.value.batch_count),1)]),L("div",null,[a[7]||(a[7]=L("span",{class:"stat-label"},"",-1)),L("span",Q_,mt(p.value.optimization_goal),1)])]),L("div",Z_,[L("div",tp,[a[8]||(a[8]=L("span",{class:"stat-label"},"",-1)),L("span",ep,mt(i(p.value.calculation_start))+" ~ "+mt(i(p.value.calculation_end)),1)]),L("div",null,[a[9]||(a[9]=L("span",{class:"stat-label"},"",-1)),L("span",np,mt(p.value.calculation_duration),1)])]),L("div",rp,[L("div",ip,[a[10]||(a[10]=L("span",{class:"stat-label"},"",-1)),L("span",op,mt(i(p.value.earliest_input_time)),1)]),L("div",ap,[a[11]||(a[11]=L("span",{class:"stat-label"},"",-1)),L("span",sp,mt(i(p.value.latest_output_time)),1)]),L("div",null,[a[12]||(a[12]=L("span",{class:"stat-label"},"",-1)),L("span",lp,mt(p.value.total_schedule_duration),1)])]),L("div",cp,[a[13]||(a[13]=L("span",{class:"stat-label mb-2"},"",-1)),L("div",up,[L("span",dp,": "+mt(p.value.early_count),1),L("span",fp,": "+mt(p.value.on_time_count),1),L("span",hp,": "+mt(p.value.minor_delay_count),1),L("span",_p,": "+mt(p.value.major_delay_count),1)])])])])])])])):bn("",!0),L("div",pp,[L("div",gp,[a[16]||(a[16]=L("label",{for:"lotFilter",class:"fw-semibold mb-0"},[L("i",{class:"fas fa-hashtag"}),qt(" ")],-1)),zt(L("select",{id:"lotFilter",class:"form-select form-select-sm",style:{width:"150px"},"onUpdate:modelValue":a[0]||(a[0]=s=>v.value=s)},[a[15]||(a[15]=L("option",{value:"ALL"},"",-1)),(kt(!0),xt(Nt,null,fe(c.value,s=>(kt(),xt("option",{key:s,value:s},mt(s),9,mp))),128))],512),[[an,v.value]])]),L("div",vp,[a[18]||(a[18]=L("label",{for:"productFilter",class:"fw-semibold mb-0"},[L("i",{class:"fas fa-box"}),qt(" ")],-1)),zt(L("select",{id:"productFilter",class:"form-select form-select-sm",style:{width:"150px"},"onUpdate:modelValue":a[1]||(a[1]=s=>l.value=s)},[a[17]||(a[17]=L("option",{value:"ALL"},"",-1)),(kt(!0),xt(Nt,null,fe(o.value,s=>(kt(),xt("option",{key:s,value:s},mt(s),9,yp))),128))],512),[[an,l.value]])]),L("div",bp,[a[20]||(a[20]=L("label",{for:"statusFilter",class:"fw-semibold mb-0"},[L("i",{class:"fas fa-clock"}),qt(" ")],-1)),zt(L("select",{id:"statusFilter",class:"form-select form-select-sm",style:{width:"150px"},"onUpdate:modelValue":a[2]||(a[2]=s=>h.value=s)},[...a[19]||(a[19]=[Cs('<option value="ALL" data-v-80ea2c53></option><option value="" data-v-80ea2c53></option><option value="" data-v-80ea2c53></option><option value="" data-v-80ea2c53></option><option value="" data-v-80ea2c53></option>',5)])],512),[[an,h.value]])])]),L("div",kp,[L("div",wp,[L("table",xp,[a[21]||(a[21]=L("thead",null,[L("tr",null,[L("th",null,"Lot"),L("th",null,"Product"),L("th",null,"Priority"),L("th",null,"Due Date"),L("th",null,"Plan Date"),L("th",null,"Delay Time"),L("th",null,"Status")])],-1)),L("tbody",null,[(kt(!0),xt(Nt,null,fe(u.value,s=>(kt(),xt("tr",{key:s.Lot},[L("td",null,mt(s.Lot),1),L("td",null,mt(s.Product),1),L("td",null,mt(s.Priority),1),L("td",null,mt(i(s["Due Date"])),1),L("td",null,mt(i(s["Plan Date"])),1),L("td",null,[L("span",{class:Bt([t(s["delay time"]).textColor,"delay-text"])},mt(s["delay time"]),3)]),L("td",null,[L("span",{class:Bt(["badge",t(s["delay time"]).badgeClass])},mt(t(s["delay time"]).statusText),3)])]))),128))])])])])],64))}}),Tp=Tn(Sp,[["__scopeId","data-v-80ea2c53"]]),Ep={class:"schedule-job-view container-fluid mt-4"},$p={class:"row"},Cp={class:"col-md-6"},Ap={class:"row mb-4"},Dp={class:"col-12"},Ip={class:"card"},Pp={class:"card-body"},Mp={class:"table-responsive"},Rp={class:"table table-hover table-bordered"},Op=["onClick"],Np=["onClick"],Lp={"aria-label":"Schedule Jobs pagination"},jp={class:"pagination justify-content-center"},Fp=["disabled"],Hp={class:"page-item disabled"},Bp={class:"page-link"},Up=["disabled"],zp={class:"row"},Vp={class:"col-12"},Wp={class:"card"},qp={class:"card-header"},Gp={class:"card-title mb-0"},Yp={key:0,class:"text-muted"},Jp={class:"card-body"},Kp={class:"table-responsive"},Xp={class:"table table-hover table-bordered"},Qp=["onClick"],Zp={"aria-label":"Lot Plans pagination"},tg={class:"pagination justify-content-center"},eg=["disabled"],ng={class:"page-item disabled"},rg={class:"page-link"},ig=["disabled"],og={class:"col-md-6"},ag={class:"card h-100"},sg={class:"card-body"},bi=10,ur=10,lg=he({__name:"ScheduleJobView",setup(d){const g=bt([]),p=bt([]),v=bt(1),l=bt(1),h=bt(null),c=bt(null),o=bt("");De(async()=>{try{const x=await(await fetch("http://localhost:5000/get_schedule_jobs")).json();g.value=x;const w=[];for(const S of x)try{const T=JSON.parse(S.LotPlan);w.push(...T)}catch(T){console.error("Error parsing LotPlan:",T)}p.value=w}catch(k){console.error("Error fetching data:",k)}});const u=Et(()=>Math.ceil(g.value.length/bi)),r=Et(()=>{const k=(v.value-1)*bi;return g.value.slice(k,k+bi)}),i=Et(()=>{if(!c.value)return p.value;try{return JSON.parse(c.value.LotPlan)}catch{return[]}}),e=Et(()=>Math.ceil(i.value.length/ur)),t=Et(()=>{const k=(l.value-1)*ur;return i.value.slice(k,k+ur)}),n=()=>{v.value>1&&v.value--},a=()=>{v.value<u.value&&v.value++},s=()=>{l.value>1&&l.value--},f=()=>{l.value<e.value&&l.value++},_=k=>{c.value=k,h.value=null,l.value=1,o.value=k.PlanSummary},m=k=>{h.value=k},y=k=>(l.value-1)*ur+k,b=k=>{try{return new Date(k).toLocaleString("zh-TW")}catch{return k}};return(k,x)=>(kt(),xt("div",Ep,[x[6]||(x[6]=L("div",{class:"row"},[L("div",{class:"col-12"},[L("h1",{class:"text-center mb-4"},"Schedule Jobs")])],-1)),L("div",$p,[L("div",Cp,[L("div",Ap,[L("div",Dp,[L("div",Ip,[x[2]||(x[2]=L("div",{class:"card-header"},[L("h5",{class:"card-title mb-0"},"Schedule Jobs List")],-1)),L("div",Pp,[L("div",Mp,[L("table",Rp,[x[1]||(x[1]=L("thead",{class:"table-dark"},[L("tr",null,[L("th",null,"ScheduleId"),L("th",null,"CreateDate"),L("th",null,"CreateUser"),L("th",null,"Action")])],-1)),L("tbody",null,[(kt(!0),xt(Nt,null,fe(r.value,w=>{var S;return kt(),xt("tr",{key:w.ScheduleId,class:Bt([{"table-active":((S=c.value)==null?void 0:S.ScheduleId)===w.ScheduleId},"clickable-row"]),onClick:T=>_(w)},[L("td",null,mt(w.ScheduleId),1),L("td",null,mt(b(w.CreateDate)),1),L("td",null,mt(w.CreateUser),1),L("td",null,[L("button",{class:"btn btn-primary btn-sm",onClick:zu(T=>_(w),["stop"])},"  ",8,Np)])],10,Op)}),128))])])]),L("nav",Lp,[L("ul",jp,[L("li",{class:Bt(["page-item",{disabled:v.value===1}])},[L("button",{class:"page-link",onClick:n,disabled:v.value===1},"Previous",8,Fp)],2),L("li",Hp,[L("span",Bp,mt(v.value)+" / "+mt(u.value),1)]),L("li",{class:Bt(["page-item",{disabled:v.value===u.value}])},[L("button",{class:"page-link",onClick:a,disabled:v.value===u.value},"Next",8,Up)],2)])])])])])]),L("div",zp,[L("div",Vp,[L("div",Wp,[L("div",qp,[L("h5",Gp,[x[3]||(x[3]=qt(" Lot Plans ",-1)),c.value?(kt(),xt("small",Yp,"("+mt(c.value.ScheduleId)+")",1)):bn("",!0)])]),L("div",Jp,[L("div",Kp,[L("table",Xp,[x[4]||(x[4]=L("thead",{class:"table-dark"},[L("tr",null,[L("th",null,"LotId"),L("th",null,"Product"),L("th",null,"Priority"),L("th",null,"DueDate")])],-1)),L("tbody",null,[(kt(!0),xt(Nt,null,fe(t.value,(w,S)=>(kt(),xt("tr",{key:w.LotId+w.Product+S,class:Bt([{"table-active":h.value===y(S)},"clickable-row"]),onClick:T=>m(y(S))},[L("td",null,mt(w.LotId),1),L("td",null,mt(w.Product),1),L("td",null,mt(w.Priority),1),L("td",null,mt(b(w.DueDate)),1)],10,Qp))),128))])])]),L("nav",Zp,[L("ul",tg,[L("li",{class:Bt(["page-item",{disabled:l.value===1}])},[L("button",{class:"page-link",onClick:s,disabled:l.value===1},"Previous",8,eg)],2),L("li",ng,[L("span",rg,mt(l.value)+" / "+mt(e.value),1)]),L("li",{class:Bt(["page-item",{disabled:l.value===e.value}])},[L("button",{class:"page-link",onClick:f,disabled:l.value===e.value},"Next",8,ig)],2)])])])])])])]),L("div",og,[L("div",ag,[x[5]||(x[5]=L("div",{class:"card-header"},[L("h5",{class:"card-title mb-0"},"Plan Summary")],-1)),L("div",sg,[zt(L("textarea",{"onUpdate:modelValue":x[0]||(x[0]=w=>o.value=w),class:"form-control",rows:"20",readonly:"",style:{"font-family":"monospace",resize:"none"}},null,512),[[Rn,o.value]])])])])])]))}}),cg=Tn(lg,[["__scopeId","data-v-a439a4ff"]]),ug="/images/optimization_type.png",dg={class:"plan-models-view container-fluid py-4"},fg={class:"row"},hg={class:"col-lg-6"},_g={class:"card shadow-sm mb-4"},pg={class:"card-header bg-primary text-white d-flex justify-content-between align-items-center"},gg={class:"badge bg-light text-primary"},mg={class:"card-body p-0"},vg={class:"table-responsive"},yg={class:"table table-hover mb-0"},bg=["onClick"],kg={class:"ps-3 fw-bold"},wg={class:"badge bg-info text-dark"},xg={class:"fw-semibold"},Sg={class:"text-muted small"},Tg={class:"card shadow-sm"},Eg={class:"card-body"},$g=["value"],Cg={key:0,class:"card-footer text-muted small"},Ag=he({__name:"PlanModelsView",setup(d){const g=bt([]),p=bt(null);De(async()=>{try{const h=await(await fetch("http://127.0.0.1:5000/get_plan_models?limit=10")).json();g.value=h,h.length>0&&(p.value=h[0])}catch(l){console.error("Error fetching plan models:",l)}});const v=l=>{p.value=l};return(l,h)=>{var c;return kt(),xt("div",dg,[h[4]||(h[4]=L("div",{class:"row mb-4"},[L("div",{class:"col-12"},[L("h2",{class:"display-6 text-primary border-bottom pb-2"},[L("i",{class:"fas fa-cogs me-2"}),qt("Plan Models  ")])])],-1)),L("div",fg,[L("div",hg,[L("div",_g,[L("div",pg,[h[0]||(h[0]=L("h5",{class:"mb-0"},[L("i",{class:"fas fa-list me-2"}),qt("")],-1)),L("span",gg,mt(g.value.length)+" ",1)]),L("div",mg,[L("div",vg,[L("table",yg,[h[1]||(h[1]=L("thead",{class:"table-light"},[L("tr",null,[L("th",{class:"ps-3"},"SeqNo"),L("th",null,"Select"),L("th",null,""),L("th",null,""),L("th",null,"")])],-1)),L("tbody",null,[(kt(!0),xt(Nt,null,fe(g.value,o=>{var u;return kt(),xt("tr",{key:o.SeqNo,class:Bt([{"table-primary":((u=p.value)==null?void 0:u.SeqNo)===o.SeqNo},"clickable-row"]),onClick:r=>v(o)},[L("td",kg,mt(o.SeqNo),1),L("td",null,[L("span",{class:Bt(o.Select===1?"badge bg-success":"badge bg-secondary")},mt(o.Select===1?"":""),3)]),L("td",null,[L("span",wg,mt(o.optimization_type),1)]),L("td",xg,mt(o.Name),1),L("td",Sg,mt(o.Description),1)],10,bg)}),128))])])])])]),L("div",Tg,[h[2]||(h[2]=L("div",{class:"card-header bg-dark text-white"},[L("h5",{class:"mb-0"},[L("i",{class:"fas fa-comment-alt me-2"}),qt(" (Remark)")])],-1)),L("div",Eg,[L("textarea",{value:(c=p.value)==null?void 0:c.Remark,class:"form-control bg-light",rows:"10",readonly:"",placeholder:"...",style:{"font-family":"'Consolas', 'Monaco', monospace",resize:"none",border:"none"}},null,8,$g)]),p.value?(kt(),xt("div",Cg," "+mt(p.value.Name)+" (SeqNo: "+mt(p.value.SeqNo)+") ",1)):bn("",!0)])]),h[3]||(h[3]=Cs('<div class="col-lg-6" data-v-aa6e8e15><div class="card shadow-sm sticky-top" style="top:2px;" data-v-aa6e8e15><div class="card-header bg-secondary text-white text-center" data-v-aa6e8e15><h5 class="mb-0" data-v-aa6e8e15><i class="fas fa-project-diagram me-2" data-v-aa6e8e15></i></h5></div><div class="card-body text-center bg-white p-4" data-v-aa6e8e15><div class="img-container border rounded p-2 bg-light mb-3" data-v-aa6e8e15><img src="'+ug+'" alt="Optimization Type Diagram" class="img-fluid" style="max-height:600px;object-fit:contain;" data-v-aa6e8e15></div><p class="text-muted small mb-0" data-v-aa6e8e15><i class="fas fa-info-circle me-1" data-v-aa6e8e15></i>  </p></div></div></div>',1))])])}}}),Dg=Tn(Ag,[["__scopeId","data-v-aa6e8e15"]]),Ig=ed("createScheduleJob",()=>{const d=bt([]),g=bt([]),p=bt(""),v=bt(""),l=bt(!1),h=bt([]),c=bt(null),o=bt([]),u=Et(()=>p.value?g.value.filter(b=>b.Product.toLowerCase().includes(p.value.toLowerCase())||b.LotId.toLowerCase().includes(p.value.toLowerCase())):g.value);return{models:d,lots:g,productFilter:p,scheduleId:v,showScheduleSelector:l,availableSchedules:h,tempScheduleId:c,debugLogs:o,filteredLots:u,setModels:b=>{d.value=b},setLots:b=>{g.value=b},setProductFilter:b=>{p.value=b},setScheduleId:b=>{v.value=b},setShowScheduleSelector:b=>{l.value=b},setAvailableSchedules:b=>{h.value=b},setTempScheduleId:b=>{c.value=b},addDebugLog:b=>{const x=`[${new Date().toISOString()}] ${b}`;o.value.push(x),console.log(x)},clearDebugLogs:()=>{o.value=[]},increasePriority:()=>{u.value.forEach(b=>{b.Priority+=10})},decreasePriority:()=>{u.value.forEach(b=>{b.Priority-=10})}}}),Pg={class:"create-schedule-job-view container-fluid mt-4"},Mg={class:"row"},Rg={class:"col-12"},Og={class:"card"},Ng={class:"card-body"},Lg={class:"row"},jg={class:"col-md-6"},Fg={class:"col-md-6 d-flex align-items-end gap-2"},Hg=["disabled"],Bg={class:"row"},Ug={class:"col-md-6"},zg={class:"card"},Vg={class:"card-body"},Wg={class:"table-responsive"},qg={class:"table table-hover table-bordered"},Gg=["onUpdate:modelValue","onChange"],Yg={class:"col-md-6"},Jg={class:"card"},Kg={class:"card-body"},Xg={class:"row"},Qg={class:"col-md-6"},Zg={class:"col-md-6 d-flex gap-2"},tm=["disabled"],em=["disabled"],nm={class:"card-body"},rm={class:"table-responsive"},im={class:"table table-hover table-bordered"},om=["onUpdate:modelValue"],am=["onUpdate:modelValue"],sm={key:0,class:"modal fade show d-block",tabindex:"-1",style:{background:"rgba(0,0,0,0.5)"}},lm={class:"modal-dialog modal-xl"},cm={class:"modal-content"},um={class:"modal-header"},dm={class:"modal-body"},fm={class:"table-responsive"},hm={class:"table table-hover table-bordered"},_m=["onClick"],pm={class:"modal-footer"},gm=["disabled"],mm={key:1,class:"row mt-4"},vm={class:"col-12"},ym={class:"card"},bm={class:"card-body"},km={class:"bg-light p-2",style:{"max-height":"300px","overflow-y":"auto"}},wm=he({__name:"CreateScheduleJobView",setup(d){const g=Ig(),p=Et(()=>g.models);Et(()=>g.lots);const v=Et({get:()=>g.productFilter,set:k=>g.setProductFilter(k)}),l=Et({get:()=>g.scheduleId,set:k=>g.setScheduleId(k)}),h=Et({get:()=>g.showScheduleSelector,set:k=>g.setShowScheduleSelector(k)}),c=Et(()=>g.availableSchedules),o=Et({get:()=>g.tempScheduleId,set:k=>g.setTempScheduleId(k)}),u=Et(()=>g.debugLogs),r=Et(()=>g.filteredLots);De(async()=>{try{const x=await(await fetch("http://127.0.0.1:5000/get_plan_model_user_workshop_list")).json();g.setAvailableSchedules(x.map(w=>({ScheduleId:w.ScheduleId,CreateDate:w.CreateDate})))}catch(k){console.error("Error fetching data:",k)}});const i=async()=>{g.clearDebugLogs();const k=w=>{g.addDebugLog(w)};if(!g.tempScheduleId){k("loadSelectedSchedule: tempScheduleId is null or undefined");return}const x=g.tempScheduleId;k(`loadSelectedSchedule: Starting to load schedule with id: ${x}`);try{const w=`http://127.0.0.1:5000/plan_model_user_workshop/schedule/${x}`;k(`loadSelectedSchedule: Fetching schedule from: ${w}`);const S=await fetch(w);if(k(`loadSelectedSchedule: Response status: ${S.status}`),k(`loadSelectedSchedule: Response ok: ${S.ok}`),!S.ok)throw new Error(`HTTP error! status: ${S.status}`);const T=await S.json();if(k(`loadSelectedSchedule: Received data: ${JSON.stringify(T)}`),!T.ScheduleId)throw new Error("Invalid data: missing ScheduleId");if(g.setScheduleId(T.ScheduleId),k(`loadSelectedSchedule: Set scheduleId to: ${T.ScheduleId}`),T.models){let D=[];if(typeof T.models=="string")try{D=JSON.parse(T.models),k(`loadSelectedSchedule: Parsed models JSON string, count: ${D.length}`)}catch($){throw k(`loadSelectedSchedule: Failed to parse models JSON string: ${$}`),new Error("Invalid data: models JSON string cannot be parsed")}else if(Array.isArray(T.models))D=T.models,k(`loadSelectedSchedule: Models is already an array, count: ${D.length}`);else throw k(`loadSelectedSchedule: data.models is neither string nor array: ${typeof T.models}`),new Error("Invalid data: models must be a JSON string or array");if(Array.isArray(D)){k(`loadSelectedSchedule: Updating models, count: ${D.length}`);const $=D.map((E,I)=>{const M={SeqNo:I+1,Select:E.Selected==="selected"?1:0,optimization_type:E.optimization_type,Name:E.Name,Description:"",Remark:"",selected:E.Selected||"unselected"};return k(`loadSelectedSchedule: Mapped model: ${M.Name} (${M.optimization_type}) to selected: ${M.selected}`),M});g.setModels($)}else throw k(`loadSelectedSchedule: Parsed models is not an array: ${typeof D}`),new Error("Invalid data: parsed models is not an array")}else k("loadSelectedSchedule: No models in data"),g.setModels([]);if(T.lots){let D=[];if(typeof T.lots=="string")try{D=JSON.parse(T.lots),k(`loadSelectedSchedule: Parsed lots JSON string, count: ${D.length}`)}catch($){throw k(`loadSelectedSchedule: Failed to parse lots JSON string: ${$}`),new Error("Invalid data: lots JSON string cannot be parsed")}else if(Array.isArray(T.lots))D=T.lots,k(`loadSelectedSchedule: Lots is already an array, count: ${D.length}`);else throw k(`loadSelectedSchedule: data.lots is neither string nor array: ${typeof T.lots}`),new Error("Invalid data: lots must be a JSON string or array");if(Array.isArray(D)){k(`loadSelectedSchedule: Updating lots, count: ${D.length}`);const $=D.map(E=>{const I=y(E.DueDate);return k(`loadSelectedSchedule: Mapped lot: ${E.LotId} (${E.Product}) Priority: ${E.Priority}, DueDate from: ${E.DueDate} to: ${I}`),{...E,DueDate:I}});g.setLots($)}else throw k(`loadSelectedSchedule: Parsed lots is not an array: ${typeof D}`),new Error("Invalid data: parsed lots is not an array")}else k("loadSelectedSchedule: No lots in data"),g.setLots([]);g.setShowScheduleSelector(!1),g.setTempScheduleId(null),k("loadSelectedSchedule: Successfully loaded schedule")}catch(w){const S=w instanceof Error?w.message:String(w);g.addDebugLog(`loadSelectedSchedule: Error loading schedule: ${S}`),g.addDebugLog(`loadSelectedSchedule: Error details: tempScheduleId=${g.tempScheduleId}, stack=${w instanceof Error?w.stack:void 0}`),console.error("loadSelectedSchedule: Error loading schedule:",w),alert(" Schedule : "+S)}},e=async()=>{try{console.log("Loading models from database...");const w=(await(await fetch("http://127.0.0.1:5000/get_plan_models?limit=10")).json()).map(S=>({...S,selected:S.Select===1?"selected":"unselected"}));g.setModels(w),console.log(`Successfully loaded ${w.length} models from database`)}catch(k){console.error("Error loading models from database:",k),alert(" Models ")}},t=async()=>{try{console.log("Loading lots from database...");const w=(await(await fetch("http://127.0.0.1:5000/get_json/lot_Plan/Lot_Plan.json")).json()).map(S=>({...S,DueDate:y(S.DueDate)}));g.setLots(w),console.log(`Successfully loaded ${w.length} lots from database`)}catch(k){console.error("Error loading lots from database:",k),alert(" Lots ")}},n=k=>{console.log("Updated selection for model:",k.SeqNo,k.selected)},a=()=>{const k=new Date,x=k.getFullYear().toString()+(k.getMonth()+1).toString().padStart(2,"0")+k.getDate().toString().padStart(2,"0")+k.getHours().toString().padStart(2,"0")+k.getMinutes().toString().padStart(2,"0");g.setScheduleId(x)},s=async()=>{try{const k={ScheduleId:g.scheduleId,models:g.models.map(w=>({Name:w.Name,optimization_type:w.optimization_type,Selected:w.selected})),lots:g.lots},x=await fetch("http://127.0.0.1:5000/save_json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({json:k,filename:"ModelList.json"})});if(!x.ok)throw new Error(`Failed to save ModelList.json: ${x.status}`);alert(" workshop")}catch(k){console.error("Error saving to workshop:",k),alert(` workshop : ${k instanceof Error?k.message:String(k)}`)}},f=()=>{g.increasePriority()},_=()=>{g.decreasePriority()},m=k=>{try{return new Date(k).toLocaleString("zh-TW")}catch{return k}},y=k=>{try{const x=new Date(k),w=x.getFullYear(),S=String(x.getMonth()+1).padStart(2,"0"),T=String(x.getDate()).padStart(2,"0"),D=String(x.getHours()).padStart(2,"0"),$=String(x.getMinutes()).padStart(2,"0");return`${w}-${S}-${T}T${D}:${$}`}catch{return k}},b=()=>{const k=g.debugLogs.join(`
--------------------------------------------------
--- Scan Completed ---
